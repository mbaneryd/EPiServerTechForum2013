//>>built
require({cache:{"epi/layers/epi-widgets":function(){define("epi/layers/epi-widgets",["epi/i18n!epi/shell/ui/nls/episerver.shell.ui.resources","dijit/layout/AccordionPane","dijit/TooltipDialog","dijit/form/Textarea","dojo/dnd/AutoSource","dojo/dnd/Target","dojo/fx/Toggler","dojo/parser","dojox/form/Uploader","dojox/form/uploader/plugins/HTML5","epi/shell/component/IFrameContextComponent","epi/shell/ContextService","epi/shell/conversion/ObjectConverterRegistry","epi/shell/dnd/Target","epi/shell/HashWrapper","epi/shell/layout/GroupContainer","epi/shell/layout/ParentContainer","epi/shell/layout/PinnablePane","epi/shell/layout/PinnablePaneSplitter","epi/shell/layout/PositioningUtility","epi/shell/layout/SimpleContainer","epi/shell/layout/ToolbarContainer","epi/shell/MessageService","epi/shell/MetadataManager","epi/shell/Profile","epi/shell/ShellModule","epi/shell/store/JsonRest","epi/shell/store/Patchable","epi/shell/store/Registry","epi/shell/store/Throttle","epi/shell/UndoManager","epi/shell/widget/_ActionConsumer","epi/shell/widget/_ActionProvider","epi/shell/widget/_ActionProviderBase","epi/shell/widget/_ActionProviderWidget","epi/shell/widget/_TabButton","epi/shell/widget/Application","epi/shell/widget/ApplicationContentPane","epi/shell/widget/CheckBox","epi/shell/widget/layout/ComponentContainer","epi/shell/widget/layout/ComponentPaneContainer","epi/shell/widget/ComponentController","epi/shell/widget/ComponentSelector","epi/shell/widget/ComponentSelectorDialog","epi/shell/widget/DateRange","epi/shell/widget/DateRangePicker","epi/shell/widget/DateTimeSelector","epi/shell/widget/DateTimeSelectorDropDown","epi/shell/widget/ExpandoButton","epi/shell/widget/FormContainer","epi/shell/widget/GadgetWrapper","epi/shell/widget/GlobalMenu","epi/shell/widget/HelpButton","epi/shell/widget/Iframe","epi/shell/widget/IframeWithOverlay","epi/shell/widget/LabeledInput","epi/shell/widget/LicenseInformation","epi/shell/widget/LoginForm","epi/shell/widget/MenuGroup","epi/shell/widget/overlay/_Base","epi/shell/widget/overlay/Item","epi/shell/widget/PropagatingContainer","epi/shell/widget/SpaceToolbarSeparator","epi/shell/widget/TabContainer","epi/shell/widget/TabController","epi/shell/widget/Toolbar","epi/shell/widget/ToolbarLabel","epi/shell/widget/ToolbarSet","epi/shell/widget/ValidationTextarea","epi/shell/widget/WidgetFactory","epi/shell/widget/WidgetSwitcher"],1);},"dijit/layout/AccordionPane":function(){define("dijit/layout/AccordionPane",["dojo/_base/declare","dojo/_base/kernel","./ContentPane"],function(_1,_2,_3){return _1("dijit.layout.AccordionPane",_3,{constructor:function(){_2.deprecated("dijit.layout.AccordionPane deprecated, use ContentPane instead","","2.0");},onSelected:function(){}});});},"dijit/layout/ContentPane":function(){define("dijit/layout/ContentPane",["dojo/_base/kernel","dojo/_base/lang","../_Widget","../_Container","./_ContentPaneResizeMixin","dojo/string","dojo/html","dojo/i18n!../nls/loading","dojo/_base/array","dojo/_base/declare","dojo/_base/Deferred","dojo/dom","dojo/dom-attr","dojo/dom-construct","dojo/_base/xhr","dojo/i18n","dojo/when"],function(_4,_5,_6,_7,_8,_9,_a,_b,_c,_d,_e,_f,_10,_11,xhr,_12,_13){return _d("dijit.layout.ContentPane",[_6,_7,_8],{href:"",content:"",extractContent:false,parseOnLoad:true,parserScope:_4._scopeName,preventCache:false,preload:false,refreshOnShow:false,loadingMessage:"<span class='dijitContentPaneLoading'><span class='dijitInline dijitIconLoading'></span>${loadingState}</span>",errorMessage:"<span class='dijitContentPaneError'><span class='dijitInline dijitIconError'></span>${errorState}</span>",isLoaded:false,baseClass:"dijitContentPane",ioArgs:{},onLoadDeferred:null,_setTitleAttr:null,stopParser:true,template:false,create:function(_14,_15){if((!_14||!_14.template)&&_15&&!("href" in _14)&&!("content" in _14)){_15=_f.byId(_15);var df=_15.ownerDocument.createDocumentFragment();while(_15.firstChild){df.appendChild(_15.firstChild);}_14=_5.delegate(_14,{content:df});}this.inherited(arguments,[_14,_15]);},postMixInProperties:function(){this.inherited(arguments);var _16=_12.getLocalization("dijit","loading",this.lang);this.loadingMessage=_9.substitute(this.loadingMessage,_16);this.errorMessage=_9.substitute(this.errorMessage,_16);},buildRendering:function(){this.inherited(arguments);if(!this.containerNode){this.containerNode=this.domNode;}this.domNode.title="";if(!_10.get(this.domNode,"role")){this.domNode.setAttribute("role","group");}},startup:function(){this.inherited(arguments);if(this._contentSetter){_c.forEach(this._contentSetter.parseResults,function(obj){if(!obj._started&&!obj._destroyed&&_5.isFunction(obj.startup)){obj.startup();obj._started=true;}},this);}},_startChildren:function(){_c.forEach(this.getChildren(),function(obj){if(!obj._started&&!obj._destroyed&&_5.isFunction(obj.startup)){obj.startup();obj._started=true;}});if(this._contentSetter){_c.forEach(this._contentSetter.parseResults,function(obj){if(!obj._started&&!obj._destroyed&&_5.isFunction(obj.startup)){obj.startup();obj._started=true;}},this);}},setHref:function(_17){_4.deprecated("dijit.layout.ContentPane.setHref() is deprecated. Use set('href', ...) instead.","","2.0");return this.set("href",_17);},_setHrefAttr:function(_18){this.cancel();this.onLoadDeferred=new _e(_5.hitch(this,"cancel"));this.onLoadDeferred.then(_5.hitch(this,"onLoad"));this._set("href",_18);if(this.preload||(this._created&&this._isShown())){this._load();}else{this._hrefChanged=true;}return this.onLoadDeferred;},setContent:function(_19){_4.deprecated("dijit.layout.ContentPane.setContent() is deprecated.  Use set('content', ...) instead.","","2.0");this.set("content",_19);},_setContentAttr:function(_1a){this._set("href","");this.cancel();this.onLoadDeferred=new _e(_5.hitch(this,"cancel"));if(this._created){this.onLoadDeferred.then(_5.hitch(this,"onLoad"));}this._setContent(_1a||"");this._isDownloaded=false;return this.onLoadDeferred;},_getContentAttr:function(){return this.containerNode.innerHTML;},cancel:function(){if(this._xhrDfd&&(this._xhrDfd.fired==-1)){this._xhrDfd.cancel();}delete this._xhrDfd;this.onLoadDeferred=null;},destroy:function(){this.cancel();this.inherited(arguments);},destroyRecursive:function(_1b){if(this._beingDestroyed){return;}this.inherited(arguments);},_onShow:function(){this.inherited(arguments);if(this.href){if(!this._xhrDfd&&(!this.isLoaded||this._hrefChanged||this.refreshOnShow)){return this.refresh();}}},refresh:function(){this.cancel();this.onLoadDeferred=new _e(_5.hitch(this,"cancel"));this.onLoadDeferred.then(_5.hitch(this,"onLoad"));this._load();return this.onLoadDeferred;},_load:function(){this._setContent(this.onDownloadStart(),true);var _1c=this;var _1d={preventCache:(this.preventCache||this.refreshOnShow),url:this.href,handleAs:"text"};if(_5.isObject(this.ioArgs)){_5.mixin(_1d,this.ioArgs);}var _1e=(this._xhrDfd=(this.ioMethod||xhr.get)(_1d)),_1f;_1e.then(function(_20){_1f=_20;try{_1c._isDownloaded=true;return _1c._setContent(_20,false);}catch(err){_1c._onError("Content",err);}},function(err){if(!_1e.canceled){_1c._onError("Download",err);}delete _1c._xhrDfd;return err;}).then(function(){_1c.onDownloadEnd();delete _1c._xhrDfd;return _1f;});delete this._hrefChanged;},_onLoadHandler:function(_21){this._set("isLoaded",true);try{this.onLoadDeferred.resolve(_21);}catch(e){console.error("Error "+this.widgetId+" running custom onLoad code: "+e.message);}},_onUnloadHandler:function(){this._set("isLoaded",false);try{this.onUnload();}catch(e){console.error("Error "+this.widgetId+" running custom onUnload code: "+e.message);}},destroyDescendants:function(_22){if(this.isLoaded){this._onUnloadHandler();}var _23=this._contentSetter;_c.forEach(this.getChildren(),function(_24){if(_24.destroyRecursive){_24.destroyRecursive(_22);}else{if(_24.destroy){_24.destroy(_22);}}_24._destroyed=true;});if(_23){_c.forEach(_23.parseResults,function(_25){if(!_25._destroyed){if(_25.destroyRecursive){_25.destroyRecursive(_22);}else{if(_25.destroy){_25.destroy(_22);}}_25._destroyed=true;}});delete _23.parseResults;}if(!_22){_11.empty(this.containerNode);}delete this._singleChild;},_setContent:function(_26,_27){this.destroyDescendants();var _28=this._contentSetter;if(!(_28&&_28 instanceof _a._ContentSetter)){_28=this._contentSetter=new _a._ContentSetter({node:this.containerNode,_onError:_5.hitch(this,this._onError),onContentError:_5.hitch(this,function(e){var _29=this.onContentError(e);try{this.containerNode.innerHTML=_29;}catch(e){console.error("Fatal "+this.id+" could not change content due to "+e.message,e);}})});}var _2a=_5.mixin({cleanContent:this.cleanContent,extractContent:this.extractContent,parseContent:!_26.domNode&&this.parseOnLoad,parserScope:this.parserScope,startup:false,dir:this.dir,lang:this.lang,textDir:this.textDir},this._contentSetterParams||{});var p=_28.set((_5.isObject(_26)&&_26.domNode)?_26.domNode:_26,_2a);var _2b=this;return _13(p&&p.then?p:_28.parseDeferred,function(){delete _2b._contentSetterParams;if(!_27){if(_2b._started){_2b._startChildren();_2b._scheduleLayout();}_2b._onLoadHandler(_26);}});},_onError:function(_2c,err,_2d){this.onLoadDeferred.reject(err);var _2e=this["on"+_2c+"Error"].call(this,err);if(_2d){console.error(_2d,err);}else{if(_2e){this._setContent(_2e,true);}}},onLoad:function(){},onUnload:function(){},onDownloadStart:function(){return this.loadingMessage;},onContentError:function(){},onDownloadError:function(){return this.errorMessage;},onDownloadEnd:function(){}});});},"dijit/_Widget":function(){define("dijit/_Widget",["dojo/aspect","dojo/_base/config","dojo/_base/connect","dojo/_base/declare","dojo/has","dojo/_base/kernel","dojo/_base/lang","dojo/query","dojo/ready","./registry","./_WidgetBase","./_OnDijitClickMixin","./_FocusMixin","dojo/uacss","./hccss"],function(_2f,_30,_31,_32,has,_33,_34,_35,_36,_37,_38,_39,_3a){function _3b(){};function _3c(_3d){return function(obj,_3e,_3f,_40){if(obj&&typeof _3e=="string"&&obj[_3e]==_3b){return obj.on(_3e.substring(2).toLowerCase(),_34.hitch(_3f,_40));}return _3d.apply(_31,arguments);};};_2f.around(_31,"connect",_3c);if(_33.connect){_2f.around(_33,"connect",_3c);}var _41=_32("dijit._Widget",[_38,_39,_3a],{onClick:_3b,onDblClick:_3b,onKeyDown:_3b,onKeyPress:_3b,onKeyUp:_3b,onMouseDown:_3b,onMouseMove:_3b,onMouseOut:_3b,onMouseOver:_3b,onMouseLeave:_3b,onMouseEnter:_3b,onMouseUp:_3b,constructor:function(_42){this._toConnect={};for(var _43 in _42){if(this[_43]===_3b){this._toConnect[_43.replace(/^on/,"").toLowerCase()]=_42[_43];delete _42[_43];}}},postCreate:function(){this.inherited(arguments);for(var _44 in this._toConnect){this.on(_44,this._toConnect[_44]);}delete this._toConnect;},on:function(_45,_46){if(this[this._onMap(_45)]===_3b){return _31.connect(this.domNode,_45.toLowerCase(),this,_46);}return this.inherited(arguments);},_setFocusedAttr:function(val){this._focused=val;this._set("focused",val);},setAttribute:function(_47,_48){_33.deprecated(this.declaredClass+"::setAttribute(attr, value) is deprecated. Use set() instead.","","2.0");this.set(_47,_48);},attr:function(_49,_4a){if(_30.isDebug){var _4b=arguments.callee._ach||(arguments.callee._ach={}),_4c=(arguments.callee.caller||"unknown caller").toString();if(!_4b[_4c]){_33.deprecated(this.declaredClass+"::attr() is deprecated. Use get() or set() instead, called from "+_4c,"","2.0");_4b[_4c]=true;}}var _4d=arguments.length;if(_4d>=2||typeof _49==="object"){return this.set.apply(this,arguments);}else{return this.get(_49);}},getDescendants:function(){_33.deprecated(this.declaredClass+"::getDescendants() is deprecated. Use getChildren() instead.","","2.0");return this.containerNode?_35("[widgetId]",this.containerNode).map(_37.byNode):[];},_onShow:function(){this.onShow();},onShow:function(){},onHide:function(){},onClose:function(){return true;}});if(has("dijit-legacy-requires")){_36(0,function(){var _4e=["dijit/_base"];require(_4e);});}return _41;});},"dijit/registry":function(){define("dijit/registry",["dojo/_base/array","dojo/sniff","dojo/_base/unload","dojo/_base/window","./main"],function(_4f,has,_50,win,_51){var _52={},_53={};var _54={length:0,add:function(_55){if(_53[_55.id]){throw new Error("Tried to register widget with id=="+_55.id+" but that id is already registered");}_53[_55.id]=_55;this.length++;},remove:function(id){if(_53[id]){delete _53[id];this.length--;}},byId:function(id){return typeof id=="string"?_53[id]:id;},byNode:function(_56){return _53[_56.getAttribute("widgetId")];},toArray:function(){var ar=[];for(var id in _53){ar.push(_53[id]);}return ar;},getUniqueId:function(_57){var id;do{id=_57+"_"+(_57 in _52?++_52[_57]:_52[_57]=0);}while(_53[id]);return _51._scopeName=="dijit"?id:_51._scopeName+"_"+id;},findWidgets:function(_58,_59){var _5a=[];function _5b(_5c){for(var _5d=_5c.firstChild;_5d;_5d=_5d.nextSibling){if(_5d.nodeType==1){var _5e=_5d.getAttribute("widgetId");if(_5e){var _5f=_53[_5e];if(_5f){_5a.push(_5f);}}else{if(_5d!==_59){_5b(_5d);}}}}};_5b(_58);return _5a;},_destroyAll:function(){_51._curFocus=null;_51._prevFocus=null;_51._activeStack=[];_4f.forEach(_54.findWidgets(win.body()),function(_60){if(!_60._destroyed){if(_60.destroyRecursive){_60.destroyRecursive();}else{if(_60.destroy){_60.destroy();}}}});},getEnclosingWidget:function(_61){while(_61){var id=_61.nodeType==1&&_61.getAttribute("widgetId");if(id){return _53[id];}_61=_61.parentNode;}return null;},_hash:_53};_51.registry=_54;return _54;});},"dijit/main":function(){define("dijit/main",["dojo/_base/kernel"],function(_62){return _62.dijit;});},"dijit/_WidgetBase":function(){define("dijit/_WidgetBase",["require","dojo/_base/array","dojo/aspect","dojo/_base/config","dojo/_base/connect","dojo/_base/declare","dojo/dom","dojo/dom-attr","dojo/dom-class","dojo/dom-construct","dojo/dom-geometry","dojo/dom-style","dojo/has","dojo/_base/kernel","dojo/_base/lang","dojo/on","dojo/ready","dojo/Stateful","dojo/topic","dojo/_base/window","./Destroyable","./registry"],function(_63,_64,_65,_66,_67,_68,dom,_69,_6a,_6b,_6c,_6d,has,_6e,_6f,on,_70,_71,_72,win,_73,_74){has.add("dijit-legacy-requires",!_6e.isAsync);if(has("dijit-legacy-requires")){_70(0,function(){var _75=["dijit/_base/manager"];_63(_75);});}var _76={};function _77(obj){var ret={};for(var _78 in obj){ret[_78.toLowerCase()]=true;}return ret;};function _79(_7a){return function(val){_69[val?"set":"remove"](this.domNode,_7a,val);this._set(_7a,val);};};return _68("dijit._WidgetBase",[_71,_73],{id:"",_setIdAttr:"domNode",lang:"",_setLangAttr:_79("lang"),dir:"",_setDirAttr:_79("dir"),textDir:"","class":"",_setClassAttr:{node:"domNode",type:"class"},style:"",title:"",tooltip:"",baseClass:"",srcNodeRef:null,domNode:null,containerNode:null,ownerDocument:null,_setOwnerDocumentAttr:function(val){this._set("ownerDocument",val);},attributeMap:{},_blankGif:_66.blankGif||_63.toUrl("dojo/resources/blank.gif"),postscript:function(_7b,_7c){this.create(_7b,_7c);},create:function(_7d,_7e){this.srcNodeRef=dom.byId(_7e);this._connects=[];this._supportingWidgets=[];if(this.srcNodeRef&&(typeof this.srcNodeRef.id=="string")){this.id=this.srcNodeRef.id;}if(_7d){this.params=_7d;_6f.mixin(this,_7d);}this.postMixInProperties();if(!this.id){this.id=_74.getUniqueId(this.declaredClass.replace(/\./g,"_"));if(this.params){delete this.params.id;}}this.ownerDocument=this.ownerDocument||(this.srcNodeRef?this.srcNodeRef.ownerDocument:win.doc);this.ownerDocumentBody=win.body(this.ownerDocument);_74.add(this);this.buildRendering();var _7f;if(this.domNode){this._applyAttributes();var _80=this.srcNodeRef;if(_80&&_80.parentNode&&this.domNode!==_80){_80.parentNode.replaceChild(this.domNode,_80);_7f=true;}this.domNode.setAttribute("widgetId",this.id);}this.postCreate();if(_7f){delete this.srcNodeRef;}this._created=true;},_applyAttributes:function(){var _81=this.constructor,_82=_81._setterAttrs;if(!_82){_82=(_81._setterAttrs=[]);for(var _83 in this.attributeMap){_82.push(_83);}var _84=_81.prototype;for(var _85 in _84){if(_85 in this.attributeMap){continue;}var _86="_set"+_85.replace(/^[a-z]|-[a-zA-Z]/g,function(c){return c.charAt(c.length-1).toUpperCase();})+"Attr";if(_86 in _84){_82.push(_85);}}}var _87={};for(var key in this.params||{}){_87[key]=this[key];}_64.forEach(_82,function(_88){if(_88 in _87){}else{if(this[_88]){this.set(_88,this[_88]);}}},this);for(key in _87){this.set(key,_87[key]);}},postMixInProperties:function(){},buildRendering:function(){if(!this.domNode){this.domNode=this.srcNodeRef||this.ownerDocument.createElement("div");}if(this.baseClass){var _89=this.baseClass.split(" ");if(!this.isLeftToRight()){_89=_89.concat(_64.map(_89,function(_8a){return _8a+"Rtl";}));}_6a.add(this.domNode,_89);}},postCreate:function(){},startup:function(){if(this._started){return;}this._started=true;_64.forEach(this.getChildren(),function(obj){if(!obj._started&&!obj._destroyed&&_6f.isFunction(obj.startup)){obj.startup();obj._started=true;}});},destroyRecursive:function(_8b){this._beingDestroyed=true;this.destroyDescendants(_8b);this.destroy(_8b);},destroy:function(_8c){this._beingDestroyed=true;this.uninitialize();function _8d(w){if(w.destroyRecursive){w.destroyRecursive(_8c);}else{if(w.destroy){w.destroy(_8c);}}};_64.forEach(this._connects,_6f.hitch(this,"disconnect"));_64.forEach(this._supportingWidgets,_8d);if(this.domNode){_64.forEach(_74.findWidgets(this.domNode,this.containerNode),_8d);}this.destroyRendering(_8c);_74.remove(this.id);this._destroyed=true;},destroyRendering:function(_8e){if(this.bgIframe){this.bgIframe.destroy(_8e);delete this.bgIframe;}if(this.domNode){if(_8e){_69.remove(this.domNode,"widgetId");}else{_6b.destroy(this.domNode);}delete this.domNode;}if(this.srcNodeRef){if(!_8e){_6b.destroy(this.srcNodeRef);}delete this.srcNodeRef;}},destroyDescendants:function(_8f){_64.forEach(this.getChildren(),function(_90){if(_90.destroyRecursive){_90.destroyRecursive(_8f);}});},uninitialize:function(){return false;},_setStyleAttr:function(_91){var _92=this.domNode;if(_6f.isObject(_91)){_6d.set(_92,_91);}else{if(_92.style.cssText){_92.style.cssText+="; "+_91;}else{_92.style.cssText=_91;}}this._set("style",_91);},_attrToDom:function(_93,_94,_95){_95=arguments.length>=3?_95:this.attributeMap[_93];_64.forEach(_6f.isArray(_95)?_95:[_95],function(_96){var _97=this[_96.node||_96||"domNode"];var _98=_96.type||"attribute";switch(_98){case "attribute":if(_6f.isFunction(_94)){_94=_6f.hitch(this,_94);}var _99=_96.attribute?_96.attribute:(/^on[A-Z][a-zA-Z]*$/.test(_93)?_93.toLowerCase():_93);if(_97.tagName){_69.set(_97,_99,_94);}else{_97.set(_99,_94);}break;case "innerText":_97.innerHTML="";_97.appendChild(this.ownerDocument.createTextNode(_94));break;case "innerHTML":_97.innerHTML=_94;break;case "class":_6a.replace(_97,_94,this[_93]);break;}},this);},get:function(_9a){var _9b=this._getAttrNames(_9a);return this[_9b.g]?this[_9b.g]():this[_9a];},set:function(_9c,_9d){if(typeof _9c==="object"){for(var x in _9c){this.set(x,_9c[x]);}return this;}var _9e=this._getAttrNames(_9c),_9f=this[_9e.s];if(_6f.isFunction(_9f)){var _a0=_9f.apply(this,Array.prototype.slice.call(arguments,1));}else{var _a1=this.focusNode&&!_6f.isFunction(this.focusNode)?"focusNode":"domNode",tag=this[_a1].tagName,_a2=_76[tag]||(_76[tag]=_77(this[_a1])),map=_9c in this.attributeMap?this.attributeMap[_9c]:_9e.s in this?this[_9e.s]:((_9e.l in _a2&&typeof _9d!="function")||/^aria-|^data-|^role$/.test(_9c))?_a1:null;if(map!=null){this._attrToDom(_9c,_9d,map);}this._set(_9c,_9d);}return _a0||this;},_attrPairNames:{},_getAttrNames:function(_a3){var apn=this._attrPairNames;if(apn[_a3]){return apn[_a3];}var uc=_a3.replace(/^[a-z]|-[a-zA-Z]/g,function(c){return c.charAt(c.length-1).toUpperCase();});return (apn[_a3]={n:_a3+"Node",s:"_set"+uc+"Attr",g:"_get"+uc+"Attr",l:uc.toLowerCase()});},_set:function(_a4,_a5){var _a6=this[_a4];this[_a4]=_a5;if(this._created&&_a5!==_a6){if(this._watchCallbacks){this._watchCallbacks(_a4,_a6,_a5);}this.emit("attrmodified-"+_a4,{detail:{prevValue:_a6,newValue:_a5}});}},emit:function(_a7,_a8,_a9){_a8=_a8||{};if(_a8.bubbles===undefined){_a8.bubbles=true;}if(_a8.cancelable===undefined){_a8.cancelable=true;}if(!_a8.detail){_a8.detail={};}_a8.detail.widget=this;var ret,_aa=this["on"+_a7];if(_aa){ret=_aa.apply(this,_a9?_a9:[_a8]);}if(this._started&&!this._beingDestroyed){on.emit(this.domNode,_a7.toLowerCase(),_a8);}return ret;},on:function(_ab,_ac){var _ad=this._onMap(_ab);if(_ad){return _65.after(this,_ad,_ac,true);}return this.own(on(this.domNode,_ab,_ac))[0];},_onMap:function(_ae){var _af=this.constructor,map=_af._onMap;if(!map){map=(_af._onMap={});for(var _b0 in _af.prototype){if(/^on/.test(_b0)){map[_b0.replace(/^on/,"").toLowerCase()]=_b0;}}}return map[typeof _ae=="string"&&_ae.toLowerCase()];},toString:function(){return "[Widget "+this.declaredClass+", "+(this.id||"NO ID")+"]";},getChildren:function(){return this.containerNode?_74.findWidgets(this.containerNode):[];},getParent:function(){return _74.getEnclosingWidget(this.domNode.parentNode);},connect:function(obj,_b1,_b2){return this.own(_67.connect(obj,_b1,this,_b2))[0];},disconnect:function(_b3){_b3.remove();},subscribe:function(t,_b4){return this.own(_72.subscribe(t,_6f.hitch(this,_b4)))[0];},unsubscribe:function(_b5){_b5.remove();},isLeftToRight:function(){return this.dir?(this.dir=="ltr"):_6c.isBodyLtr(this.ownerDocument);},isFocusable:function(){return this.focus&&(_6d.get(this.domNode,"display")!="none");},placeAt:function(_b6,_b7){var _b8=!_b6.tagName&&_74.byId(_b6);if(_b8&&_b8.addChild&&(!_b7||typeof _b7==="number")){_b8.addChild(this,_b7);}else{var ref=_b8?(_b8.containerNode&&!/after|before|replace/.test(_b7||"")?_b8.containerNode:_b8.domNode):dom.byId(_b6,this.ownerDocument);_6b.place(this.domNode,ref,_b7);if(!this._started&&(this.getParent()||{})._started){this.startup();}}return this;},getTextDir:function(_b9,_ba){return _ba;},applyTextDir:function(){},defer:function(fcn,_bb){var _bc=setTimeout(_6f.hitch(this,function(){_bc=null;if(!this._destroyed){_6f.hitch(this,fcn)();}}),_bb||0);return {remove:function(){if(_bc){clearTimeout(_bc);_bc=null;}return null;}};}});});},"dijit/Destroyable":function(){define("dijit/Destroyable",["dojo/_base/array","dojo/aspect","dojo/_base/declare"],function(_bd,_be,_bf){return _bf("dijit.Destroyable",null,{destroy:function(_c0){this._destroyed=true;},own:function(){_bd.forEach(arguments,function(_c1){var _c2="destroyRecursive" in _c1?"destroyRecursive":"destroy" in _c1?"destroy":"remove";var odh=_be.before(this,"destroy",function(_c3){_c1[_c2](_c3);});var hdh=_be.after(_c1,_c2,function(){odh.remove();hdh.remove();},true);},this);return arguments;}});});},"dijit/_OnDijitClickMixin":function(){define("dijit/_OnDijitClickMixin",["dojo/on","dojo/_base/array","dojo/keys","dojo/_base/declare","dojo/has","dojo/_base/unload","dojo/_base/window","./a11yclick"],function(on,_c4,_c5,_c6,has,_c7,win,_c8){var ret=_c6("dijit._OnDijitClickMixin",null,{connect:function(obj,_c9,_ca){return this.inherited(arguments,[obj,_c9=="ondijitclick"?_c8:_c9,_ca]);}});ret.a11yclick=_c8;return ret;});},"dijit/a11yclick":function(){define("dijit/a11yclick",["dojo/on","dojo/_base/array","dojo/keys","dojo/_base/declare","dojo/has","dojo/_base/unload","dojo/_base/window"],function(on,_cb,_cc,_cd,has,_ce,win){var _cf=null;if(has("dom-addeventlistener")){win.doc.addEventListener("keydown",function(evt){_cf=evt.target;},true);}else{(function(){var _d0=function(evt){_cf=evt.srcElement;};win.doc.attachEvent("onkeydown",_d0);_ce.addOnWindowUnload(function(){win.doc.detachEvent("onkeydown",_d0);});})();}function _d1(e){return (e.keyCode===_cc.ENTER||e.keyCode===_cc.SPACE)&&!e.ctrlKey&&!e.shiftKey&&!e.altKey&&!e.metaKey;};return function(_d2,_d3){if(/input|button/i.test(_d2.nodeName)){return on(_d2,"click",_d3);}else{var _d4=[on(_d2,"keydown",function(e){if(_d1(e)){_cf=e.target;e.preventDefault();}}),on(_d2,"keyup",function(e){if(_d1(e)&&e.target==_cf){_cf=null;on.emit(e.target,"click",{cancelable:true,bubbles:true});}}),on(_d2,"click",function(e){_d3.call(this,e);})];if(has("touch")){var _d5;_d4.push(on(_d2,"touchend",function(e){var _d6=e.target;_d5=setTimeout(function(){_d5=null;on.emit(_d6,"click",{cancelable:true,bubbles:true});},600);}),on(_d2,"click",function(e){if(_d5){clearTimeout(_d5);}}));}return {remove:function(){_cb.forEach(_d4,function(h){h.remove();});if(_d5){clearTimeout(_d5);_d5=null;}}};}};return ret;});},"dijit/_FocusMixin":function(){define("dijit/_FocusMixin",["./focus","./_WidgetBase","dojo/_base/declare","dojo/_base/lang"],function(_d7,_d8,_d9,_da){_da.extend(_d8,{focused:false,onFocus:function(){},onBlur:function(){},_onFocus:function(){this.onFocus();},_onBlur:function(){this.onBlur();}});return _d9("dijit._FocusMixin",null,{_focusManager:_d7});});},"dijit/focus":function(){define("dijit/focus",["dojo/aspect","dojo/_base/declare","dojo/dom","dojo/dom-attr","dojo/dom-construct","dojo/Evented","dojo/_base/lang","dojo/on","dojo/ready","dojo/sniff","dojo/Stateful","dojo/_base/unload","dojo/_base/window","dojo/window","./a11y","./registry","./main"],function(_db,_dc,dom,_dd,_de,_df,_e0,on,_e1,has,_e2,_e3,win,_e4,_e5,_e6,_e7){var _e8=_dc([_e2,_df],{curNode:null,activeStack:[],constructor:function(){var _e9=_e0.hitch(this,function(_ea){if(dom.isDescendant(this.curNode,_ea)){this.set("curNode",null);}if(dom.isDescendant(this.prevNode,_ea)){this.set("prevNode",null);}});_db.before(_de,"empty",_e9);_db.before(_de,"destroy",_e9);},registerIframe:function(_eb){return this.registerWin(_eb.contentWindow,_eb);},registerWin:function(_ec,_ed){var _ee=this;var _ef=function(evt){_ee._justMouseDowned=true;setTimeout(function(){_ee._justMouseDowned=false;},0);if(has("ie")&&evt&&evt.srcElement&&evt.srcElement.parentNode==null){return;}_ee._onTouchNode(_ed||evt.target||evt.srcElement,"mouse");};var doc=has("ie")?_ec.document.documentElement:_ec.document;if(doc){if(has("ie")){_ec.document.body.attachEvent("onmousedown",_ef);var _f0=function(evt){var tag=evt.srcElement.tagName.toLowerCase();if(tag=="#document"||tag=="body"){return;}if(_e5.isTabNavigable(evt.srcElement)){_ee._onFocusNode(_ed||evt.srcElement);}else{_ee._onTouchNode(_ed||evt.srcElement);}};doc.attachEvent("onfocusin",_f0);var _f1=function(evt){_ee._onBlurNode(_ed||evt.srcElement);};doc.attachEvent("onfocusout",_f1);return {remove:function(){_ec.document.detachEvent("onmousedown",_ef);doc.detachEvent("onfocusin",_f0);doc.detachEvent("onfocusout",_f1);doc=null;}};}else{doc.body.addEventListener("mousedown",_ef,true);doc.body.addEventListener("touchstart",_ef,true);var _f2=function(evt){_ee._onFocusNode(_ed||evt.target);};doc.addEventListener("focus",_f2,true);var _f3=function(evt){_ee._onBlurNode(_ed||evt.target);};doc.addEventListener("blur",_f3,true);return {remove:function(){doc.body.removeEventListener("mousedown",_ef,true);doc.body.removeEventListener("touchstart",_ef,true);doc.removeEventListener("focus",_f2,true);doc.removeEventListener("blur",_f3,true);doc=null;}};}}},_onBlurNode:function(_f4){if(this._clearFocusTimer){clearTimeout(this._clearFocusTimer);}this._clearFocusTimer=setTimeout(_e0.hitch(this,function(){this.set("prevNode",this.curNode);this.set("curNode",null);}),0);if(this._justMouseDowned){return;}if(this._clearActiveWidgetsTimer){clearTimeout(this._clearActiveWidgetsTimer);}this._clearActiveWidgetsTimer=setTimeout(_e0.hitch(this,function(){delete this._clearActiveWidgetsTimer;this._setStack([]);}),0);},_onTouchNode:function(_f5,by){if(this._clearActiveWidgetsTimer){clearTimeout(this._clearActiveWidgetsTimer);delete this._clearActiveWidgetsTimer;}var _f6=[];try{while(_f5){var _f7=_dd.get(_f5,"dijitPopupParent");if(_f7){_f5=_e6.byId(_f7).domNode;}else{if(_f5.tagName&&_f5.tagName.toLowerCase()=="body"){if(_f5===win.body()){break;}_f5=_e4.get(_f5.ownerDocument).frameElement;}else{var id=_f5.getAttribute&&_f5.getAttribute("widgetId"),_f8=id&&_e6.byId(id);if(_f8&&!(by=="mouse"&&_f8.get("disabled"))){_f6.unshift(id);}_f5=_f5.parentNode;}}}}catch(e){}this._setStack(_f6,by);},_onFocusNode:function(_f9){if(!_f9){return;}if(_f9.nodeType==9){return;}if(this._clearFocusTimer){clearTimeout(this._clearFocusTimer);delete this._clearFocusTimer;}this._onTouchNode(_f9);if(_f9==this.curNode){return;}this.set("prevNode",this.curNode);this.set("curNode",_f9);},_setStack:function(_fa,by){var _fb=this.activeStack;this.set("activeStack",_fa);for(var _fc=0;_fc<Math.min(_fb.length,_fa.length);_fc++){if(_fb[_fc]!=_fa[_fc]){break;}}var _fd;for(var i=_fb.length-1;i>=_fc;i--){_fd=_e6.byId(_fb[i]);if(_fd){_fd._hasBeenBlurred=true;_fd.set("focused",false);if(_fd._focusManager==this){_fd._onBlur(by);}this.emit("widget-blur",_fd,by);}}for(i=_fc;i<_fa.length;i++){_fd=_e6.byId(_fa[i]);if(_fd){_fd.set("focused",true);if(_fd._focusManager==this){_fd._onFocus(by);}this.emit("widget-focus",_fd,by);}}},focus:function(_fe){if(_fe){try{_fe.focus();}catch(e){}}}});var _ff=new _e8();_e1(function(){var _100=_ff.registerWin(_e4.get(win.doc));if(has("ie")){_e3.addOnWindowUnload(function(){if(_100){_100.remove();_100=null;}});}});_e7.focus=function(node){_ff.focus(node);};for(var attr in _ff){if(!/^_/.test(attr)){_e7.focus[attr]=typeof _ff[attr]=="function"?_e0.hitch(_ff,attr):_ff[attr];}}_ff.watch(function(attr,_101,_102){_e7.focus[attr]=_102;});return _ff;});},"dojo/window":function(){define("dojo/window",["./_base/lang","./sniff","./_base/window","./dom","./dom-geometry","./dom-style"],function(lang,has,_103,dom,geom,_104){var _105={getBox:function(doc){doc=doc||_103.doc;var _106=(doc.compatMode=="BackCompat")?_103.body(doc):doc.documentElement,_107=geom.docScroll(doc),w,h;if(has("touch")){var _108=_105.get(doc);w=_108.innerWidth||_106.clientWidth;h=_108.innerHeight||_106.clientHeight;}else{w=_106.clientWidth;h=_106.clientHeight;}return {l:_107.x,t:_107.y,w:w,h:h};},get:function(doc){if(has("ie")&&_105!==document.parentWindow){doc.parentWindow.execScript("document._parentWindow = window;","Javascript");var win=doc._parentWindow;doc._parentWindow=null;return win;}return doc.parentWindow||doc.defaultView;},scrollIntoView:function(node,pos){try{node=dom.byId(node);var doc=node.ownerDocument||_103.doc,body=_103.body(doc),html=doc.documentElement||body.parentNode,isIE=has("ie"),isWK=has("webkit");if((!(has("mozilla")||isIE||isWK||has("opera"))||node==body||node==html)&&(typeof node.scrollIntoView!="undefined")){node.scrollIntoView(false);return;}var _109=doc.compatMode=="BackCompat",_10a=(isIE>=9&&"frameElement" in node.ownerDocument.parentWindow)?((html.clientHeight>0&&html.clientWidth>0&&(body.clientHeight==0||body.clientWidth==0||body.clientHeight>html.clientHeight||body.clientWidth>html.clientWidth))?html:body):(_109?body:html),_10b=isWK?body:_10a,_10c=_10a.clientWidth,_10d=_10a.clientHeight,rtl=!geom.isBodyLtr(doc),_10e=pos||geom.position(node),el=node.parentNode,_10f=function(el){return ((isIE<=6||(isIE&&_109))?false:(_104.get(el,"position").toLowerCase()=="fixed"));};if(_10f(node)){return;}while(el){if(el==body){el=_10b;}var _110=geom.position(el),_111=_10f(el);if(el==_10b){_110.w=_10c;_110.h=_10d;if(_10b==html&&isIE&&rtl){_110.x+=_10b.offsetWidth-_110.w;}if(_110.x<0||!isIE){_110.x=0;}if(_110.y<0||!isIE){_110.y=0;}}else{var pb=geom.getPadBorderExtents(el);_110.w-=pb.w;_110.h-=pb.h;_110.x+=pb.l;_110.y+=pb.t;var _112=el.clientWidth,_113=_110.w-_112;if(_112>0&&_113>0){_110.w=_112;_110.x+=(rtl&&(isIE||el.clientLeft>pb.l))?_113:0;}_112=el.clientHeight;_113=_110.h-_112;if(_112>0&&_113>0){_110.h=_112;}}if(_111){if(_110.y<0){_110.h+=_110.y;_110.y=0;}if(_110.x<0){_110.w+=_110.x;_110.x=0;}if(_110.y+_110.h>_10d){_110.h=_10d-_110.y;}if(_110.x+_110.w>_10c){_110.w=_10c-_110.x;}}var l=_10e.x-_110.x,t=_10e.y-Math.max(_110.y,0),r=l+_10e.w-_110.w,bot=t+_10e.h-_110.h;if(r*l>0){var s=Math[l<0?"max":"min"](l,r);if(rtl&&((isIE==8&&!_109)||isIE>=9)){s=-s;}_10e.x+=el.scrollLeft;el.scrollLeft+=s;_10e.x-=el.scrollLeft;}if(bot*t>0){_10e.y+=el.scrollTop;el.scrollTop+=Math[t<0?"max":"min"](t,bot);_10e.y-=el.scrollTop;}el=(el!=_10b)&&!_111&&el.parentNode;}}catch(error){console.error("scrollIntoView: "+error);node.scrollIntoView(false);}}};1&&lang.setObject("dojo.window",_105);return _105;});},"dijit/a11y":function(){define("dijit/a11y",["dojo/_base/array","dojo/_base/config","dojo/_base/declare","dojo/dom","dojo/dom-attr","dojo/dom-style","dojo/sniff","./main"],function(_114,_115,_116,dom,_117,_118,has,_119){var _11a=(_119._isElementShown=function(elem){var s=_118.get(elem);return (s.visibility!="hidden")&&(s.visibility!="collapsed")&&(s.display!="none")&&(_117.get(elem,"type")!="hidden");});_119.hasDefaultTabStop=function(elem){switch(elem.nodeName.toLowerCase()){case "a":return _117.has(elem,"href");case "area":case "button":case "input":case "object":case "select":case "textarea":return true;case "iframe":var body;try{var _11b=elem.contentDocument;if("designMode" in _11b&&_11b.designMode=="on"){return true;}body=_11b.body;}catch(e1){try{body=elem.contentWindow.document.body;}catch(e2){return false;}}return body&&(body.contentEditable=="true"||(body.firstChild&&body.firstChild.contentEditable=="true"));default:return elem.contentEditable=="true";}};var _11c=(_119.isTabNavigable=function(elem){if(_117.get(elem,"disabled")){return false;}else{if(_117.has(elem,"tabIndex")){return _117.get(elem,"tabIndex")>=0;}else{return _119.hasDefaultTabStop(elem);}}});_119._getTabNavigable=function(root){var _11d,last,_11e,_11f,_120,_121,_122={};function _123(node){return node&&node.tagName.toLowerCase()=="input"&&node.type&&node.type.toLowerCase()=="radio"&&node.name&&node.name.toLowerCase();};var _124=function(_125){for(var _126=_125.firstChild;_126;_126=_126.nextSibling){if(_126.nodeType!=1||(has("ie")<=9&&_126.scopeName!=="HTML")||!_11a(_126)){continue;}if(_11c(_126)){var _127=+_117.get(_126,"tabIndex");if(!_117.has(_126,"tabIndex")||_127==0){if(!_11d){_11d=_126;}last=_126;}else{if(_127>0){if(!_11e||_127<_11f){_11f=_127;_11e=_126;}if(!_120||_127>=_121){_121=_127;_120=_126;}}}var rn=_123(_126);if(_117.get(_126,"checked")&&rn){_122[rn]=_126;}}if(_126.nodeName.toUpperCase()!="SELECT"){_124(_126);}}};if(_11a(root)){_124(root);}function rs(node){return _122[_123(node)]||node;};return {first:rs(_11d),last:rs(last),lowest:rs(_11e),highest:rs(_120)};};_119.getFirstInTabbingOrder=function(root,doc){var _128=_119._getTabNavigable(dom.byId(root,doc));return _128.lowest?_128.lowest:_128.first;};_119.getLastInTabbingOrder=function(root,doc){var _129=_119._getTabNavigable(dom.byId(root,doc));return _129.last?_129.last:_129.highest;};return {hasDefaultTabStop:_119.hasDefaultTabStop,isTabNavigable:_119.isTabNavigable,_getTabNavigable:_119._getTabNavigable,getFirstInTabbingOrder:_119.getFirstInTabbingOrder,getLastInTabbingOrder:_119.getLastInTabbingOrder};});},"dojo/uacss":function(){define("dojo/uacss",["./dom-geometry","./_base/lang","./ready","./sniff","./_base/window"],function(_12a,lang,_12b,has,_12c){var html=_12c.doc.documentElement,ie=has("ie"),_12d=has("opera"),maj=Math.floor,ff=has("ff"),_12e=_12a.boxModel.replace(/-/,""),_12f={"dj_quirks":has("quirks"),"dj_opera":_12d,"dj_khtml":has("khtml"),"dj_webkit":has("webkit"),"dj_safari":has("safari"),"dj_chrome":has("chrome"),"dj_gecko":has("mozilla")};if(ie){_12f["dj_ie"]=true;_12f["dj_ie"+maj(ie)]=true;_12f["dj_iequirks"]=has("quirks");}if(ff){_12f["dj_ff"+maj(ff)]=true;}_12f["dj_"+_12e]=true;var _130="";for(var clz in _12f){if(_12f[clz]){_130+=clz+" ";}}html.className=lang.trim(html.className+" "+_130);_12b(90,function(){if(!_12a.isBodyLtr()){var _131="dj_rtl dijitRtl "+_130.replace(/ /g,"-rtl ");html.className=lang.trim(html.className+" "+_131+"dj_rtl dijitRtl "+_130.replace(/ /g,"-rtl "));}});return has;});},"dijit/hccss":function(){define("dijit/hccss",["dojo/dom-class","dojo/hccss","dojo/ready","dojo/_base/window"],function(_132,has,_133,win){_133(90,function(){if(has("highcontrast")){_132.add(win.body(),"dijit_a11y");}});return has;});},"dojo/hccss":function(){define("dojo/hccss",["require","./_base/config","./dom-class","./dom-style","./has","./ready","./_base/window"],function(_134,_135,_136,_137,has,_138,win){has.add("highcontrast",function(){var div=win.doc.createElement("div");div.style.cssText="border: 1px solid; border-color:red green; position: absolute; height: 5px; top: -999px;"+"background-image: url("+(_135.blankGif||_134.toUrl("./resources/blank.gif"))+");";win.body().appendChild(div);var cs=_137.getComputedStyle(div),_139=cs.backgroundImage,hc=(cs.borderTopColor==cs.borderRightColor)||(_139&&(_139=="none"||_139=="url(invalid-url:)"));if(has("ie")<=8){div.outerHTML="";}else{win.body().removeChild(div);}return hc;});_138(90,function(){if(has("highcontrast")){_136.add(win.body(),"dj_a11y");}});return has;});},"dijit/_Container":function(){define("dijit/_Container",["dojo/_base/array","dojo/_base/declare","dojo/dom-construct"],function(_13a,_13b,_13c){return _13b("dijit._Container",null,{buildRendering:function(){this.inherited(arguments);if(!this.containerNode){this.containerNode=this.domNode;}},addChild:function(_13d,_13e){var _13f=this.containerNode;if(_13e&&typeof _13e=="number"){var _140=this.getChildren();if(_140&&_140.length>=_13e){_13f=_140[_13e-1].domNode;_13e="after";}}_13c.place(_13d.domNode,_13f,_13e);if(this._started&&!_13d._started){_13d.startup();}},removeChild:function(_141){if(typeof _141=="number"){_141=this.getChildren()[_141];}if(_141){var node=_141.domNode;if(node&&node.parentNode){node.parentNode.removeChild(node);}}},hasChildren:function(){return this.getChildren().length>0;},_getSiblingOfChild:function(_142,dir){var _143=this.getChildren(),idx=_13a.indexOf(this.getChildren(),_142);return _143[idx+dir];},getIndexOfChild:function(_144){return _13a.indexOf(this.getChildren(),_144);}});});},"dijit/layout/_ContentPaneResizeMixin":function(){define("dijit/layout/_ContentPaneResizeMixin",["dojo/_base/array","dojo/_base/declare","dojo/dom-class","dojo/dom-geometry","dojo/dom-style","dojo/_base/lang","dojo/query","dojo/sniff","../registry","../Viewport","./utils"],function(_145,_146,_147,_148,_149,lang,_14a,has,_14b,_14c,_14d){return _146("dijit.layout._ContentPaneResizeMixin",null,{doLayout:true,isLayoutContainer:true,startup:function(){if(this._started){return;}var _14e=this.getParent();this._childOfLayoutWidget=_14e&&_14e.isLayoutContainer;this._needLayout=!this._childOfLayoutWidget;this.inherited(arguments);if(this._isShown()){this._onShow();}if(!this._childOfLayoutWidget){this.own(_14c.on("resize",lang.hitch(this,"resize")));}},_checkIfSingleChild:function(){var _14f=[],_150=false;_14a("> *",this.containerNode).some(function(node){var _151=_14b.byNode(node);if(_151&&_151.resize){_14f.push(_151);}else{if(node.offsetHeight){_150=true;}}});this._singleChild=_14f.length==1&&!_150?_14f[0]:null;_147.toggle(this.containerNode,this.baseClass+"SingleChild",!!this._singleChild);},resize:function(_152,_153){this._resizeCalled=true;this._scheduleLayout(_152,_153);},_scheduleLayout:function(_154,_155){if(this._isShown()){this._layout(_154,_155);}else{this._needLayout=true;this._changeSize=_154;this._resultSize=_155;}},_layout:function(_156,_157){delete this._needLayout;if(!this._wasShown&&this.open!==false){this._onShow();}if(_156){_148.setMarginBox(this.domNode,_156);}var cn=this.containerNode;if(cn===this.domNode){var mb=_157||{};lang.mixin(mb,_156||{});if(!("h" in mb)||!("w" in mb)){mb=lang.mixin(_148.getMarginBox(cn),mb);}this._contentBox=_14d.marginBox2contentBox(cn,mb);}else{this._contentBox=_148.getContentBox(cn);}this._layoutChildren();},_layoutChildren:function(){if(this.doLayout){this._checkIfSingleChild();}if(this._singleChild&&this._singleChild.resize){var cb=this._contentBox||_148.getContentBox(this.containerNode);this._singleChild.resize({w:cb.w,h:cb.h});}else{_145.forEach(this.getChildren(),function(_158){if(_158.resize){_158.resize();}});}},_isShown:function(){if(this._childOfLayoutWidget){if(this._resizeCalled&&"open" in this){return this.open;}return this._resizeCalled;}else{if("open" in this){return this.open;}else{var node=this.domNode,_159=this.domNode.parentNode;return (node.style.display!="none")&&(node.style.visibility!="hidden")&&!_147.contains(node,"dijitHidden")&&_159&&_159.style&&(_159.style.display!="none");}}},_onShow:function(){this._wasShown=true;if(this._needLayout){this._layout(this._changeSize,this._resultSize);}this.inherited(arguments);}});});},"dijit/Viewport":function(){define("dijit/Viewport",["dojo/Evented","dojo/on","dojo/ready","dojo/sniff","dojo/_base/window","dojo/window"],function(_15a,on,_15b,has,win,_15c){var _15d=new _15a();_15b(200,function(){var _15e=_15c.getBox();_15d._rlh=on(win.global,"resize",function(){var _15f=_15c.getBox();if(_15e.h==_15f.h&&_15e.w==_15f.w){return;}_15e=_15f;_15d.emit("resize");});if(has("ie")==8){var _160=screen.deviceXDPI;setInterval(function(){if(screen.deviceXDPI!=_160){_160=screen.deviceXDPI;_15d.emit("resize");}},500);}});return _15d;});},"dijit/layout/utils":function(){define("dijit/layout/utils",["dojo/_base/array","dojo/dom-class","dojo/dom-geometry","dojo/dom-style","dojo/_base/lang","../main"],function(_161,_162,_163,_164,lang,_165){var _166=lang.getObject("layout",true,_165);_166.marginBox2contentBox=function(node,mb){var cs=_164.getComputedStyle(node);var me=_163.getMarginExtents(node,cs);var pb=_163.getPadBorderExtents(node,cs);return {l:_164.toPixelValue(node,cs.paddingLeft),t:_164.toPixelValue(node,cs.paddingTop),w:mb.w-(me.w+pb.w),h:mb.h-(me.h+pb.h)};};function _167(word){return word.substring(0,1).toUpperCase()+word.substring(1);};function size(_168,dim){var _169=_168.resize?_168.resize(dim):_163.setMarginBox(_168.domNode,dim);if(_169){lang.mixin(_168,_169);}else{lang.mixin(_168,_163.getMarginBox(_168.domNode));lang.mixin(_168,dim);}};_166.layoutChildren=function(_16a,dim,_16b,_16c,_16d){dim=lang.mixin({},dim);_162.add(_16a,"dijitLayoutContainer");_16b=_161.filter(_16b,function(item){return item.region!="center"&&item.layoutAlign!="client";}).concat(_161.filter(_16b,function(item){return item.region=="center"||item.layoutAlign=="client";}));_161.forEach(_16b,function(_16e){var elm=_16e.domNode,pos=(_16e.region||_16e.layoutAlign);if(!pos){throw new Error("No region setting for "+_16e.id);}var _16f=elm.style;_16f.left=dim.l+"px";_16f.top=dim.t+"px";_16f.position="absolute";_162.add(elm,"dijitAlign"+_167(pos));var _170={};if(_16c&&_16c==_16e.id){_170[_16e.region=="top"||_16e.region=="bottom"?"h":"w"]=_16d;}if(pos=="top"||pos=="bottom"){_170.w=dim.w;size(_16e,_170);dim.h-=_16e.h;if(pos=="top"){dim.t+=_16e.h;}else{_16f.top=dim.t+dim.h+"px";}}else{if(pos=="left"||pos=="right"){_170.h=dim.h;size(_16e,_170);dim.w-=_16e.w;if(pos=="left"){dim.l+=_16e.w;}else{_16f.left=dim.l+dim.w+"px";}}else{if(pos=="client"||pos=="center"){size(_16e,dim);}}}});};return {marginBox2contentBox:_166.marginBox2contentBox,layoutChildren:_166.layoutChildren};});},"dojo/html":function(){define("dojo/html",["./_base/kernel","./_base/lang","./_base/array","./_base/declare","./dom","./dom-construct","./parser"],function(_171,lang,_172,_173,dom,_174,_175){var html={};lang.setObject("dojo.html",html);var _176=0;html._secureForInnerHtml=function(cont){return cont.replace(/(?:\s*<!DOCTYPE\s[^>]+>|<title[^>]*>[\s\S]*?<\/title>)/ig,"");};html._emptyNode=_174.empty;html._setNodeContent=function(node,cont){_174.empty(node);if(cont){if(typeof cont=="string"){cont=_174.toDom(cont,node.ownerDocument);}if(!cont.nodeType&&lang.isArrayLike(cont)){for(var _177=cont.length,i=0;i<cont.length;i=_177==cont.length?i+1:0){_174.place(cont[i],node,"last");}}else{_174.place(cont,node,"last");}}return node;};html._ContentSetter=_173("dojo.html._ContentSetter",null,{node:"",content:"",id:"",cleanContent:false,extractContent:false,parseContent:false,parserScope:_171._scopeName,startup:true,constructor:function(_178,node){lang.mixin(this,_178||{});node=this.node=dom.byId(this.node||node);if(!this.id){this.id=["Setter",(node)?node.id||node.tagName:"",_176++].join("_");}},set:function(cont,_179){if(undefined!==cont){this.content=cont;}if(_179){this._mixin(_179);}this.onBegin();this.setContent();var ret=this.onEnd();if(ret&&ret.then){return ret;}else{return this.node;}},setContent:function(){var node=this.node;if(!node){throw new Error(this.declaredClass+": setContent given no node");}try{node=html._setNodeContent(node,this.content);}catch(e){var _17a=this.onContentError(e);try{node.innerHTML=_17a;}catch(e){console.error("Fatal "+this.declaredClass+".setContent could not change content due to "+e.message,e);}}this.node=node;},empty:function(){if(this.parseDeferred){if(!this.parseDeferred.isResolved()){this.parseDeferred.cancel();}delete this.parseDeferred;}if(this.parseResults&&this.parseResults.length){_172.forEach(this.parseResults,function(w){if(w.destroy){w.destroy();}});delete this.parseResults;}_174.empty(this.node);},onBegin:function(){var cont=this.content;if(lang.isString(cont)){if(this.cleanContent){cont=html._secureForInnerHtml(cont);}if(this.extractContent){var _17b=cont.match(/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im);if(_17b){cont=_17b[1];}}}this.empty();this.content=cont;return this.node;},onEnd:function(){if(this.parseContent){this._parse();}return this.node;},tearDown:function(){delete this.parseResults;delete this.parseDeferred;delete this.node;delete this.content;},onContentError:function(err){return "Error occurred setting content: "+err;},onExecError:function(err){return "Error occurred executing scripts: "+err;},_mixin:function(_17c){var _17d={},key;for(key in _17c){if(key in _17d){continue;}this[key]=_17c[key];}},_parse:function(){var _17e=this.node;try{var _17f={};_172.forEach(["dir","lang","textDir"],function(name){if(this[name]){_17f[name]=this[name];}},this);var self=this;this.parseDeferred=_175.parse({rootNode:_17e,noStart:!this.startup,inherited:_17f,scope:this.parserScope}).then(function(_180){return self.parseResults=_180;});}catch(e){this._onError("Content",e,"Error parsing in _ContentSetter#"+this.id);}},_onError:function(type,err,_181){var _182=this["on"+type+"Error"].call(this,err);if(_181){console.error(_181,err);}else{if(_182){html._setNodeContent(this.node,_182,true);}}}});html.set=function(node,cont,_183){if(undefined==cont){cont="";}if(!_183){return html._setNodeContent(node,cont,true);}else{var op=new html._ContentSetter(lang.mixin(_183,{content:cont,node:node}));return op.set();}};return html;});},"dojo/parser":function(){define("dojo/parser",["require","./_base/kernel","./_base/lang","./_base/array","./_base/config","./_base/html","./_base/window","./_base/url","./_base/json","./aspect","./date/stamp","./Deferred","./has","./query","./on","./ready"],function(_184,dojo,_185,_186,_187,_188,_189,_18a,_18b,_18c,_18d,_18e,has,_18f,don,_190){new Date("X");var _191=0;_18c.after(_185,"extend",function(){_191++;},true);function _192(ctor){var map=ctor._nameCaseMap,_193=ctor.prototype;if(!map||map._extendCnt<_191){map=ctor._nameCaseMap={};for(var name in _193){if(name.charAt(0)==="_"){continue;}map[name.toLowerCase()]=name;}map._extendCnt=_191;}return map;};var _194={};function _195(_196){var ts=_196.join();if(!_194[ts]){var _197=[];for(var i=0,l=_196.length;i<l;i++){var t=_196[i];_197[_197.length]=(_194[t]=_194[t]||(_185.getObject(t)||(~t.indexOf("/")&&_184(t))));}var ctor=_197.shift();_194[ts]=_197.length?(ctor.createSubclass?ctor.createSubclass(_197):ctor.extend.apply(ctor,_197)):ctor;}return _194[ts];};var _198={_clearCache:function(){_191++;_194={};},_functionFromScript:function(_199,_19a){var _19b="",_19c="",_19d=(_199.getAttribute(_19a+"args")||_199.getAttribute("args")),_19e=_199.getAttribute("with");var _19f=(_19d||"").split(/\s*,\s*/);if(_19e&&_19e.length){_186.forEach(_19e.split(/\s*,\s*/),function(part){_19b+="with("+part+"){";_19c+="}";});}return new Function(_19f,_19b+_199.innerHTML+_19c);},instantiate:function(_1a0,_1a1,_1a2){_1a1=_1a1||{};_1a2=_1a2||{};var _1a3=(_1a2.scope||dojo._scopeName)+"Type",_1a4="data-"+(_1a2.scope||dojo._scopeName)+"-",_1a5=_1a4+"type",_1a6=_1a4+"mixins";var list=[];_186.forEach(_1a0,function(node){var type=_1a3 in _1a1?_1a1[_1a3]:node.getAttribute(_1a5)||node.getAttribute(_1a3);if(type){var _1a7=node.getAttribute(_1a6),_1a8=_1a7?[type].concat(_1a7.split(/\s*,\s*/)):[type];list.push({node:node,types:_1a8});}});return this._instantiate(list,_1a1,_1a2);},_instantiate:function(_1a9,_1aa,_1ab){var _1ac=_186.map(_1a9,function(obj){var ctor=obj.ctor||_195(obj.types);if(!ctor){throw new Error("Unable to resolve constructor for: '"+obj.types.join()+"'");}return this.construct(ctor,obj.node,_1aa,_1ab,obj.scripts,obj.inherited);},this);if(!_1aa._started&&!_1ab.noStart){_186.forEach(_1ac,function(_1ad){if(typeof _1ad.startup==="function"&&!_1ad._started){_1ad.startup();}});}return _1ac;},construct:function(ctor,node,_1ae,_1af,_1b0,_1b1){var _1b2=ctor&&ctor.prototype;_1af=_1af||{};var _1b3={};if(_1af.defaults){_185.mixin(_1b3,_1af.defaults);}if(_1b1){_185.mixin(_1b3,_1b1);}var _1b4;if(has("dom-attributes-explicit")){_1b4=node.attributes;}else{if(has("dom-attributes-specified-flag")){_1b4=_186.filter(node.attributes,function(a){return a.specified;});}else{var _1b5=/^input$|^img$/i.test(node.nodeName)?node:node.cloneNode(false),_1b6=_1b5.outerHTML.replace(/=[^\s"']+|="[^"]*"|='[^']*'/g,"").replace(/^\s*<[a-zA-Z0-9]*\s*/,"").replace(/\s*>.*$/,"");_1b4=_186.map(_1b6.split(/\s+/),function(name){var _1b7=name.toLowerCase();return {name:name,value:(node.nodeName=="LI"&&name=="value")||_1b7=="enctype"?node.getAttribute(_1b7):node.getAttributeNode(_1b7).value};});}}var _1b8=_1af.scope||dojo._scopeName,_1b9="data-"+_1b8+"-",hash={};if(_1b8!=="dojo"){hash[_1b9+"props"]="data-dojo-props";hash[_1b9+"type"]="data-dojo-type";hash[_1b9+"mixins"]="data-dojo-mixins";hash[_1b8+"type"]="dojoType";hash[_1b9+"id"]="data-dojo-id";}var i=0,item,_1ba=[],_1bb,_1bc;while(item=_1b4[i++]){var name=item.name,_1bd=name.toLowerCase(),_1be=item.value;switch(hash[_1bd]||_1bd){case "data-dojo-type":case "dojotype":case "data-dojo-mixins":break;case "data-dojo-props":_1bc=_1be;break;case "data-dojo-id":case "jsid":_1bb=_1be;break;case "data-dojo-attach-point":case "dojoattachpoint":_1b3.dojoAttachPoint=_1be;break;case "data-dojo-attach-event":case "dojoattachevent":_1b3.dojoAttachEvent=_1be;break;case "class":_1b3["class"]=node.className;break;case "style":_1b3["style"]=node.style&&node.style.cssText;break;default:if(!(name in _1b2)){var map=_192(ctor);name=map[_1bd]||name;}if(name in _1b2){switch(typeof _1b2[name]){case "string":_1b3[name]=_1be;break;case "number":_1b3[name]=_1be.length?Number(_1be):NaN;break;case "boolean":_1b3[name]=_1be.toLowerCase()!="false";break;case "function":if(_1be===""||_1be.search(/[^\w\.]+/i)!=-1){_1b3[name]=new Function(_1be);}else{_1b3[name]=_185.getObject(_1be,false)||new Function(_1be);}_1ba.push(name);break;default:var pVal=_1b2[name];_1b3[name]=(pVal&&"length" in pVal)?(_1be?_1be.split(/\s*,\s*/):[]):(pVal instanceof Date)?(_1be==""?new Date(""):_1be=="now"?new Date():_18d.fromISOString(_1be)):(pVal instanceof _18a)?(dojo.baseUrl+_1be):_18b.fromJson(_1be);}}else{_1b3[name]=_1be;}}}for(var j=0;j<_1ba.length;j++){var _1bf=_1ba[j].toLowerCase();node.removeAttribute(_1bf);node[_1bf]=null;}if(_1bc){try{_1bc=_18b.fromJson.call(_1af.propsThis,"{"+_1bc+"}");_185.mixin(_1b3,_1bc);}catch(e){throw new Error(e.toString()+" in data-dojo-props='"+_1bc+"'");}}_185.mixin(_1b3,_1ae);if(!_1b0){_1b0=(ctor&&(ctor._noScript||_1b2._noScript)?[]:_18f("> script[type^='dojo/']",node));}var _1c0=[],_1c1=[],_1c2=[],ons=[];if(_1b0){for(i=0;i<_1b0.length;i++){var _1c3=_1b0[i];node.removeChild(_1c3);var _1c4=(_1c3.getAttribute(_1b9+"event")||_1c3.getAttribute("event")),prop=_1c3.getAttribute(_1b9+"prop"),_1c5=_1c3.getAttribute(_1b9+"method"),_1c6=_1c3.getAttribute(_1b9+"advice"),_1c7=_1c3.getAttribute("type"),nf=this._functionFromScript(_1c3,_1b9);if(_1c4){if(_1c7=="dojo/connect"){_1c0.push({method:_1c4,func:nf});}else{if(_1c7=="dojo/on"){ons.push({event:_1c4,func:nf});}else{_1b3[_1c4]=nf;}}}else{if(_1c7=="dojo/aspect"){_1c0.push({method:_1c5,advice:_1c6,func:nf});}else{if(_1c7=="dojo/watch"){_1c2.push({prop:prop,func:nf});}else{_1c1.push(nf);}}}}}var _1c8=ctor.markupFactory||_1b2.markupFactory;var _1c9=_1c8?_1c8(_1b3,node,ctor):new ctor(_1b3,node);if(_1bb){_185.setObject(_1bb,_1c9);}for(i=0;i<_1c0.length;i++){_18c[_1c0[i].advice||"after"](_1c9,_1c0[i].method,_185.hitch(_1c9,_1c0[i].func),true);}for(i=0;i<_1c1.length;i++){_1c1[i].call(_1c9);}for(i=0;i<_1c2.length;i++){_1c9.watch(_1c2[i].prop,_1c2[i].func);}for(i=0;i<ons.length;i++){don(_1c9,ons[i].event,ons[i].func);}return _1c9;},scan:function(root,_1ca){var list=[],mids=[],_1cb={};var _1cc=(_1ca.scope||dojo._scopeName)+"Type",_1cd="data-"+(_1ca.scope||dojo._scopeName)+"-",_1ce=_1cd+"type",_1cf=_1cd+"textdir",_1d0=_1cd+"mixins";var node=root.firstChild;var _1d1=_1ca.inherited;if(!_1d1){function _1d2(node,attr){return (node.getAttribute&&node.getAttribute(attr))||(node.parentNode&&_1d2(node.parentNode,attr));};_1d1={dir:_1d2(root,"dir"),lang:_1d2(root,"lang"),textDir:_1d2(root,_1cf)};for(var key in _1d1){if(!_1d1[key]){delete _1d1[key];}}}var _1d3={inherited:_1d1};var _1d4;var _1d5;function _1d6(_1d7){if(!_1d7.inherited){_1d7.inherited={};var node=_1d7.node,_1d8=_1d6(_1d7.parent);var _1d9={dir:node.getAttribute("dir")||_1d8.dir,lang:node.getAttribute("lang")||_1d8.lang,textDir:node.getAttribute(_1cf)||_1d8.textDir};for(var key in _1d9){if(_1d9[key]){_1d7.inherited[key]=_1d9[key];}}}return _1d7.inherited;};while(true){if(!node){if(!_1d3||!_1d3.node){break;}node=_1d3.node.nextSibling;_1d5=false;_1d3=_1d3.parent;_1d4=_1d3.scripts;continue;}if(node.nodeType!=1){node=node.nextSibling;continue;}if(_1d4&&node.nodeName.toLowerCase()=="script"){type=node.getAttribute("type");if(type&&/^dojo\/\w/i.test(type)){_1d4.push(node);}node=node.nextSibling;continue;}if(_1d5){node=node.nextSibling;continue;}var type=node.getAttribute(_1ce)||node.getAttribute(_1cc);var _1da=node.firstChild;if(!type&&(!_1da||(_1da.nodeType==3&&!_1da.nextSibling))){node=node.nextSibling;continue;}var _1db;var ctor=null;if(type){var _1dc=node.getAttribute(_1d0),_1dd=_1dc?[type].concat(_1dc.split(/\s*,\s*/)):[type];try{ctor=_195(_1dd);}catch(e){}if(!ctor){_186.forEach(_1dd,function(t){if(~t.indexOf("/")&&!_1cb[t]){_1cb[t]=true;mids[mids.length]=t;}});}var _1de=ctor&&!ctor.prototype._noScript?[]:null;_1db={types:_1dd,ctor:ctor,parent:_1d3,node:node,scripts:_1de};_1db.inherited=_1d6(_1db);list.push(_1db);}else{_1db={node:node,scripts:_1d4,parent:_1d3};}node=_1da;_1d4=_1de;_1d5=ctor&&ctor.prototype.stopParser&&!(_1ca.template);_1d3=_1db;}var d=new _18e();if(mids.length){if(has("dojo-debug-messages")){}_184(mids,function(){d.resolve(_186.filter(list,function(_1df){if(!_1df.ctor){try{_1df.ctor=_195(_1df.types);}catch(e){}}var _1e0=_1df.parent;while(_1e0&&!_1e0.types){_1e0=_1e0.parent;}var _1e1=_1df.ctor&&_1df.ctor.prototype;_1df.instantiateChildren=!(_1e1&&_1e1.stopParser&&!(_1ca.template));_1df.instantiate=!_1e0||(_1e0.instantiate&&_1e0.instantiateChildren);return _1df.instantiate;}));});}else{d.resolve(list);}return d.promise;},_require:function(_1e2){var hash=_18b.fromJson("{"+_1e2.innerHTML+"}"),vars=[],mids=[],d=new _18e();for(var name in hash){vars.push(name);mids.push(hash[name]);}_184(mids,function(){for(var i=0;i<vars.length;i++){_185.setObject(vars[i],arguments[i]);}d.resolve(arguments);});return d.promise;},_scanAmd:function(root){var _1e3=new _18e(),_1e4=_1e3.promise;_1e3.resolve(true);var self=this;_18f("script[type='dojo/require']",root).forEach(function(node){_1e4=_1e4.then(function(){return self._require(node);});node.parentNode.removeChild(node);});return _1e4;},parse:function(_1e5,_1e6){var root;if(!_1e6&&_1e5&&_1e5.rootNode){_1e6=_1e5;root=_1e6.rootNode;}else{if(_1e5&&_185.isObject(_1e5)&&!("nodeType" in _1e5)){_1e6=_1e5;}else{root=_1e5;}}root=root?_188.byId(root):_189.body();_1e6=_1e6||{};var _1e7=_1e6.template?{template:true}:{},_1e8=[],self=this;var p=this._scanAmd(root,_1e6).then(function(){return self.scan(root,_1e6);}).then(function(_1e9){return _1e8=_1e8.concat(self._instantiate(_1e9,_1e7,_1e6));}).otherwise(function(e){console.error("dojo/parser::parse() error",e);throw e;});_185.mixin(_1e8,p);return _1e8;}};if(1){dojo.parser=_198;}if(_187.parseOnLoad){_190(100,_198,"parse");}return _198;});},"dojo/_base/url":function(){define("dojo/_base/url",["./kernel"],function(dojo){var ore=new RegExp("^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?$"),ire=new RegExp("^((([^\\[:]+):)?([^@]+)@)?(\\[([^\\]]+)\\]|([^\\[:]*))(:([0-9]+))?$"),_1ea=function(){var n=null,_1eb=arguments,uri=[_1eb[0]];for(var i=1;i<_1eb.length;i++){if(!_1eb[i]){continue;}var _1ec=new _1ea(_1eb[i]+""),_1ed=new _1ea(uri[0]+"");if(_1ec.path==""&&!_1ec.scheme&&!_1ec.authority&&!_1ec.query){if(_1ec.fragment!=n){_1ed.fragment=_1ec.fragment;}_1ec=_1ed;}else{if(!_1ec.scheme){_1ec.scheme=_1ed.scheme;if(!_1ec.authority){_1ec.authority=_1ed.authority;if(_1ec.path.charAt(0)!="/"){var path=_1ed.path.substring(0,_1ed.path.lastIndexOf("/")+1)+_1ec.path;var segs=path.split("/");for(var j=0;j<segs.length;j++){if(segs[j]=="."){if(j==segs.length-1){segs[j]="";}else{segs.splice(j,1);j--;}}else{if(j>0&&!(j==1&&segs[0]=="")&&segs[j]==".."&&segs[j-1]!=".."){if(j==(segs.length-1)){segs.splice(j,1);segs[j-1]="";}else{segs.splice(j-1,2);j-=2;}}}}_1ec.path=segs.join("/");}}}}uri=[];if(_1ec.scheme){uri.push(_1ec.scheme,":");}if(_1ec.authority){uri.push("//",_1ec.authority);}uri.push(_1ec.path);if(_1ec.query){uri.push("?",_1ec.query);}if(_1ec.fragment){uri.push("#",_1ec.fragment);}}this.uri=uri.join("");var r=this.uri.match(ore);this.scheme=r[2]||(r[1]?"":n);this.authority=r[4]||(r[3]?"":n);this.path=r[5];this.query=r[7]||(r[6]?"":n);this.fragment=r[9]||(r[8]?"":n);if(this.authority!=n){r=this.authority.match(ire);this.user=r[3]||n;this.password=r[4]||n;this.host=r[6]||r[7];this.port=r[9]||n;}};_1ea.prototype.toString=function(){return this.uri;};return dojo._Url=_1ea;});},"dijit/TooltipDialog":function(){require({cache:{"url:dijit/templates/TooltipDialog.html":"<div role=\"presentation\" tabIndex=\"-1\">\n\t<div class=\"dijitTooltipContainer\" role=\"presentation\">\n\t\t<div class =\"dijitTooltipContents dijitTooltipFocusNode\" data-dojo-attach-point=\"containerNode\" role=\"dialog\"></div>\n\t</div>\n\t<div class=\"dijitTooltipConnector\" role=\"presentation\" data-dojo-attach-point=\"connectorNode\"></div>\n</div>\n"}});define("dijit/TooltipDialog",["dojo/_base/declare","dojo/dom-class","dojo/_base/event","dojo/keys","dojo/_base/lang","./focus","./layout/ContentPane","./_DialogMixin","./form/_FormMixin","./_TemplatedMixin","dojo/text!./templates/TooltipDialog.html","./main"],function(_1ee,_1ef,_1f0,keys,lang,_1f1,_1f2,_1f3,_1f4,_1f5,_1f6,_1f7){return _1ee("dijit.TooltipDialog",[_1f2,_1f5,_1f4,_1f3],{title:"",doLayout:false,autofocus:true,baseClass:"dijitTooltipDialog",_firstFocusItem:null,_lastFocusItem:null,templateString:_1f6,_setTitleAttr:function(_1f8){this.containerNode.title=_1f8;this._set("title",_1f8);},postCreate:function(){this.inherited(arguments);this.connect(this.containerNode,"onkeypress","_onKey");},orient:function(node,_1f9,_1fa){var newC={"MR-ML":"dijitTooltipRight","ML-MR":"dijitTooltipLeft","TM-BM":"dijitTooltipAbove","BM-TM":"dijitTooltipBelow","BL-TL":"dijitTooltipBelow dijitTooltipABLeft","TL-BL":"dijitTooltipAbove dijitTooltipABLeft","BR-TR":"dijitTooltipBelow dijitTooltipABRight","TR-BR":"dijitTooltipAbove dijitTooltipABRight","BR-BL":"dijitTooltipRight","BL-BR":"dijitTooltipLeft"}[_1f9+"-"+_1fa];_1ef.replace(this.domNode,newC,this._currentOrientClass||"");this._currentOrientClass=newC;},focus:function(){this._getFocusItems(this.containerNode);_1f1.focus(this._firstFocusItem);},onOpen:function(pos){this.orient(this.domNode,pos.aroundCorner,pos.corner);var _1fb=pos.aroundNodePos;if(pos.corner.charAt(0)=="M"&&pos.aroundCorner.charAt(0)=="M"){this.connectorNode.style.top=_1fb.y+((_1fb.h-this.connectorNode.offsetHeight)>>1)-pos.y+"px";this.connectorNode.style.left="";}else{if(pos.corner.charAt(1)=="M"&&pos.aroundCorner.charAt(1)=="M"){this.connectorNode.style.left=_1fb.x+((_1fb.w-this.connectorNode.offsetWidth)>>1)-pos.x+"px";}}this._onShow();},onClose:function(){this.onHide();},_onKey:function(evt){var node=evt.target;if(evt.charOrCode===keys.TAB){this._getFocusItems(this.containerNode);}var _1fc=(this._firstFocusItem==this._lastFocusItem);if(evt.charOrCode==keys.ESCAPE){this.defer("onCancel");_1f0.stop(evt);}else{if(node==this._firstFocusItem&&evt.shiftKey&&evt.charOrCode===keys.TAB){if(!_1fc){_1f1.focus(this._lastFocusItem);}_1f0.stop(evt);}else{if(node==this._lastFocusItem&&evt.charOrCode===keys.TAB&&!evt.shiftKey){if(!_1fc){_1f1.focus(this._firstFocusItem);}_1f0.stop(evt);}else{if(evt.charOrCode===keys.TAB){evt.stopPropagation();}}}}}});});},"dijit/_DialogMixin":function(){define("dijit/_DialogMixin",["dojo/_base/declare","./a11y"],function(_1fd,a11y){return _1fd("dijit._DialogMixin",null,{execute:function(){},onCancel:function(){},onExecute:function(){},_onSubmit:function(){this.onExecute();this.execute(this.get("value"));},_getFocusItems:function(){var _1fe=a11y._getTabNavigable(this.containerNode);this._firstFocusItem=_1fe.lowest||_1fe.first||this.closeButtonNode||this.domNode;this._lastFocusItem=_1fe.last||_1fe.highest||this._firstFocusItem;}});});},"dijit/form/_FormMixin":function(){define("dijit/form/_FormMixin",["dojo/_base/array","dojo/_base/declare","dojo/_base/kernel","dojo/_base/lang","dojo/on","dojo/window"],function(_1ff,_200,_201,lang,on,_202){return _200("dijit.form._FormMixin",null,{state:"",_getDescendantFormWidgets:function(_203){var res=[];_1ff.forEach(_203||this.getChildren(),function(_204){if("value" in _204){res.push(_204);}else{res=res.concat(this._getDescendantFormWidgets(_204.getChildren()));}},this);return res;},reset:function(){_1ff.forEach(this._getDescendantFormWidgets(),function(_205){if(_205.reset){_205.reset();}});},validate:function(){var _206=false;return _1ff.every(_1ff.map(this._getDescendantFormWidgets(),function(_207){_207._hasBeenBlurred=true;var _208=_207.disabled||!_207.validate||_207.validate();if(!_208&&!_206){_202.scrollIntoView(_207.containerNode||_207.domNode);_207.focus();_206=true;}return _208;}),function(item){return item;});},setValues:function(val){_201.deprecated(this.declaredClass+"::setValues() is deprecated. Use set('value', val) instead.","","2.0");return this.set("value",val);},_setValueAttr:function(obj){var map={};_1ff.forEach(this._getDescendantFormWidgets(),function(_209){if(!_209.name){return;}var _20a=map[_209.name]||(map[_209.name]=[]);_20a.push(_209);});for(var name in map){if(!map.hasOwnProperty(name)){continue;}var _20b=map[name],_20c=lang.getObject(name,false,obj);if(_20c===undefined){continue;}if(!lang.isArray(_20c)){_20c=[_20c];}if(typeof _20b[0].checked=="boolean"){_1ff.forEach(_20b,function(w){w.set("value",_1ff.indexOf(_20c,w.value)!=-1);});}else{if(_20b[0].multiple){_20b[0].set("value",_20c);}else{_1ff.forEach(_20b,function(w,i){w.set("value",_20c[i]);});}}}},getValues:function(){_201.deprecated(this.declaredClass+"::getValues() is deprecated. Use get('value') instead.","","2.0");return this.get("value");},_getValueAttr:function(){var obj={};_1ff.forEach(this._getDescendantFormWidgets(),function(_20d){var name=_20d.name;if(!name||_20d.disabled){return;}var _20e=_20d.get("value");if(typeof _20d.checked=="boolean"){if(/Radio/.test(_20d.declaredClass)){if(_20e!==false){lang.setObject(name,_20e,obj);}else{_20e=lang.getObject(name,false,obj);if(_20e===undefined){lang.setObject(name,null,obj);}}}else{var ary=lang.getObject(name,false,obj);if(!ary){ary=[];lang.setObject(name,ary,obj);}if(_20e!==false){ary.push(_20e);}}}else{var prev=lang.getObject(name,false,obj);if(typeof prev!="undefined"){if(lang.isArray(prev)){prev.push(_20e);}else{lang.setObject(name,[prev,_20e],obj);}}else{lang.setObject(name,_20e,obj);}}});return obj;},isValid:function(){return this.state=="";},onValidStateChange:function(){},_getState:function(){var _20f=_1ff.map(this._descendants,function(w){return w.get("state")||"";});return _1ff.indexOf(_20f,"Error")>=0?"Error":_1ff.indexOf(_20f,"Incomplete")>=0?"Incomplete":"";},disconnectChildren:function(){},connectChildren:function(_210){this._descendants=this._getDescendantFormWidgets();_1ff.forEach(this._descendants,function(_211){if(!_211._started){_211.startup();}});if(!_210){this._onChildChange();}},_onChildChange:function(attr){if(!attr||attr=="state"||attr=="disabled"){this._set("state",this._getState());}if(!attr||attr=="value"||attr=="disabled"||attr=="checked"){if(this._onChangeDelayTimer){this._onChangeDelayTimer.remove();}this._onChangeDelayTimer=this.defer(function(){delete this._onChangeDelayTimer;this._set("value",this.get("value"));},10);}},startup:function(){this.inherited(arguments);this._descendants=this._getDescendantFormWidgets();this.value=this.get("value");this.state=this._getState();var self=this;this.own(on(this.containerNode,"attrmodified-state, attrmodified-disabled, attrmodified-value, attrmodified-checked",function(evt){if(evt.target==self.domNode){return;}self._onChildChange(evt.type.replace("attrmodified-",""));}));this.watch("state",function(attr,_212,_213){this.onValidStateChange(_213=="");});},destroy:function(){this.inherited(arguments);}});});},"dijit/_TemplatedMixin":function(){define("dijit/_TemplatedMixin",["dojo/_base/lang","dojo/touch","./_WidgetBase","dojo/string","dojo/cache","dojo/_base/array","dojo/_base/declare","dojo/dom-construct","dojo/sniff","dojo/_base/unload"],function(lang,_214,_215,_216,_217,_218,_219,_21a,has,_21b){var _21c=_219("dijit._TemplatedMixin",null,{templateString:null,templatePath:null,_skipNodeCache:false,_earlyTemplatedStartup:false,constructor:function(){this._attachPoints=[];this._attachEvents=[];},_stringRepl:function(tmpl){var _21d=this.declaredClass,_21e=this;return _216.substitute(tmpl,this,function(_21f,key){if(key.charAt(0)=="!"){_21f=lang.getObject(key.substr(1),false,_21e);}if(typeof _21f=="undefined"){throw new Error(_21d+" template:"+key);}if(_21f==null){return "";}return key.charAt(0)=="!"?_21f:_21f.toString().replace(/"/g,"&quot;");},this);},buildRendering:function(){if(!this.templateString){this.templateString=_217(this.templatePath,{sanitize:true});}var _220=_21c.getCachedTemplate(this.templateString,this._skipNodeCache,this.ownerDocument);var node;if(lang.isString(_220)){node=_21a.toDom(this._stringRepl(_220),this.ownerDocument);if(node.nodeType!=1){throw new Error("Invalid template: "+_220);}}else{node=_220.cloneNode(true);}this.domNode=node;this.inherited(arguments);this._attachTemplateNodes(node,function(n,p){return n.getAttribute(p);});this._beforeFillContent();this._fillContent(this.srcNodeRef);},_beforeFillContent:function(){},_fillContent:function(_221){var dest=this.containerNode;if(_221&&dest){while(_221.hasChildNodes()){dest.appendChild(_221.firstChild);}}},_attachTemplateNodes:function(_222,_223){var _224=lang.isArray(_222)?_222:(_222.all||_222.getElementsByTagName("*"));var x=lang.isArray(_222)?0:-1;for(;x<0||_224[x];x++){var _225=(x==-1)?_222:_224[x];if(this.widgetsInTemplate&&(_223(_225,"dojoType")||_223(_225,"data-dojo-type"))){continue;}var _226=_223(_225,"dojoAttachPoint")||_223(_225,"data-dojo-attach-point");if(_226){var _227,_228=_226.split(/\s*,\s*/);while((_227=_228.shift())){if(lang.isArray(this[_227])){this[_227].push(_225);}else{this[_227]=_225;}this._attachPoints.push(_227);}}var _229=_223(_225,"dojoAttachEvent")||_223(_225,"data-dojo-attach-event");if(_229){var _22a,_22b=_229.split(/\s*,\s*/);var trim=lang.trim;while((_22a=_22b.shift())){if(_22a){var _22c=null;if(_22a.indexOf(":")!=-1){var _22d=_22a.split(":");_22a=trim(_22d[0]);_22c=trim(_22d[1]);}else{_22a=trim(_22a);}if(!_22c){_22c=_22a;}this._attachEvents.push(this.connect(_225,_214[_22a]||_22a,_22c));}}}}},destroyRendering:function(){_218.forEach(this._attachPoints,function(_22e){delete this[_22e];},this);this._attachPoints=[];_218.forEach(this._attachEvents,this.disconnect,this);this._attachEvents=[];this.inherited(arguments);}});_21c._templateCache={};_21c.getCachedTemplate=function(_22f,_230,doc){var _231=_21c._templateCache;var key=_22f;var _232=_231[key];if(_232){try{if(!_232.ownerDocument||_232.ownerDocument==(doc||document)){return _232;}}catch(e){}_21a.destroy(_232);}_22f=_216.trim(_22f);if(_230||_22f.match(/\$\{([^\}]+)\}/g)){return (_231[key]=_22f);}else{var node=_21a.toDom(_22f,doc);if(node.nodeType!=1){throw new Error("Invalid template: "+_22f);}return (_231[key]=node);}};if(has("ie")){_21b.addOnWindowUnload(function(){var _233=_21c._templateCache;for(var key in _233){var _234=_233[key];if(typeof _234=="object"){_21a.destroy(_234);}delete _233[key];}});}lang.extend(_215,{dojoAttachEvent:"",dojoAttachPoint:""});return _21c;});},"dojo/touch":function(){define("dojo/touch",["./_base/kernel","./aspect","./dom","./on","./has","./mouse","./ready","./_base/window"],function(dojo,_235,dom,on,has,_236,_237,win){var _238=has("touch");var ios4=false;if(has("ios")){var ua=navigator.userAgent;var v=ua.match(/OS ([\d_]+)/)?RegExp.$1:"1";var os=parseFloat(v.replace(/_/,".").replace(/_/g,""));ios4=os<5;}var _239,_23a;if(_238){_237(function(){_23a=win.body();win.doc.addEventListener("touchstart",function(evt){var _23b=_23a;_23a=evt.target;on.emit(_23b,"dojotouchout",{target:_23b,relatedTarget:_23a,bubbles:true});on.emit(_23a,"dojotouchover",{target:_23a,relatedTarget:_23b,bubbles:true});},true);on(win.doc,"touchmove",function(evt){var _23c=win.doc.elementFromPoint(evt.pageX-(ios4?0:win.global.pageXOffset),evt.pageY-(ios4?0:win.global.pageYOffset));if(_23c&&_23a!==_23c){on.emit(_23a,"dojotouchout",{target:_23a,relatedTarget:_23c,bubbles:true});on.emit(_23c,"dojotouchover",{target:_23c,relatedTarget:_23a,bubbles:true});_23a=_23c;}});});_239=function(node,_23d){return on(win.doc,"touchmove",function(evt){if(node===win.doc||dom.isDescendant(_23a,node)){evt.target=_23a;_23d.call(this,evt);}});};}function _23e(type){return function(node,_23f){return on(node,type,_23f);};};var _240={press:_23e(_238?"touchstart":"mousedown"),move:_238?_239:_23e("mousemove"),release:_23e(_238?"touchend":"mouseup"),cancel:_238?_23e("touchcancel"):_236.leave,over:_23e(_238?"dojotouchover":"mouseover"),out:_23e(_238?"dojotouchout":"mouseout"),enter:_236._eventHandler(_238?"dojotouchover":"mouseover"),leave:_236._eventHandler(_238?"dojotouchout":"mouseout")};1&&(dojo.touch=_240);return _240;});},"dojo/cache":function(){define("dojo/cache",["./_base/kernel","./text"],function(dojo){return dojo.cache;});},"dojo/text":function(){define("dojo/text",["./_base/kernel","require","./has","./_base/xhr"],function(dojo,_241,has,xhr){var _242;if(1){_242=function(url,sync,load){xhr("GET",{url:url,sync:!!sync,load:load,headers:dojo.config.textPluginHeaders||{}});};}else{if(_241.getText){_242=_241.getText;}else{console.error("dojo/text plugin failed to load because loader does not support getText");}}var _243={},_244=function(text){if(text){text=text.replace(/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,"");var _245=text.match(/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im);if(_245){text=_245[1];}}else{text="";}return text;},_246={},_247={};dojo.cache=function(_248,url,_249){var key;if(typeof _248=="string"){if(/\//.test(_248)){key=_248;_249=url;}else{key=_241.toUrl(_248.replace(/\./g,"/")+(url?("/"+url):""));}}else{key=_248+"";_249=url;}var val=(_249!=undefined&&typeof _249!="string")?_249.value:_249,_24a=_249&&_249.sanitize;if(typeof val=="string"){_243[key]=val;return _24a?_244(val):val;}else{if(val===null){delete _243[key];return null;}else{if(!(key in _243)){_242(key,true,function(text){_243[key]=text;});}return _24a?_244(_243[key]):_243[key];}}};return {dynamic:true,normalize:function(id,_24b){var _24c=id.split("!"),url=_24c[0];return (/^\./.test(url)?_24b(url):url)+(_24c[1]?"!"+_24c[1]:"");},load:function(id,_24d,load){var _24e=id.split("!"),_24f=_24e.length>1,_250=_24e[0],url=_24d.toUrl(_24e[0]),_251="url:"+url,text=_246,_252=function(text){load(_24f?_244(text):text);};if(_250 in _243){text=_243[_250];}else{if(_251 in _24d.cache){text=_24d.cache[_251];}else{if(url in _243){text=_243[url];}}}if(text===_246){if(_247[url]){_247[url].push(_252);}else{var _253=_247[url]=[_252];_242(url,!_24d.async,function(text){_243[_250]=_243[url]=text;for(var i=0;i<_253.length;){_253[i++](text);}delete _247[url];});}}else{_252(text);}}};});},"url:dijit/templates/TooltipDialog.html":"<div role=\"presentation\" tabIndex=\"-1\">\n\t<div class=\"dijitTooltipContainer\" role=\"presentation\">\n\t\t<div class =\"dijitTooltipContents dijitTooltipFocusNode\" data-dojo-attach-point=\"containerNode\" role=\"dialog\"></div>\n\t</div>\n\t<div class=\"dijitTooltipConnector\" role=\"presentation\" data-dojo-attach-point=\"connectorNode\"></div>\n</div>\n","dijit/form/Textarea":function(){define("dijit/form/Textarea",["dojo/_base/declare","dojo/dom-style","./_ExpandingTextAreaMixin","./SimpleTextarea"],function(_254,_255,_256,_257){return _254("dijit.form.Textarea",[_257,_256],{baseClass:"dijitTextBox dijitTextArea dijitExpandingTextArea",cols:"",buildRendering:function(){this.inherited(arguments);_255.set(this.textbox,{overflowY:"hidden",overflowX:"auto",boxSizing:"border-box",MsBoxSizing:"border-box",WebkitBoxSizing:"border-box",MozBoxSizing:"border-box"});}});});},"dijit/form/_ExpandingTextAreaMixin":function(){define("dijit/form/_ExpandingTextAreaMixin",["dojo/_base/declare","dojo/dom-construct","dojo/has","dojo/_base/lang","dojo/on","dojo/_base/window","../Viewport"],function(_258,_259,has,lang,on,win,_25a){has.add("textarea-needs-help-shrinking",function(){var body=win.body(),te=_259.create("textarea",{rows:"5",cols:"20",value:" ",style:{zoom:1,fontSize:"12px",height:"96px",overflow:"hidden",visibility:"hidden",position:"absolute",border:"5px solid white",margin:"0",padding:"0",boxSizing:"border-box",MsBoxSizing:"border-box",WebkitBoxSizing:"border-box",MozBoxSizing:"border-box"}},body,"last");var _25b=te.scrollHeight>=te.clientHeight;body.removeChild(te);return _25b;});return _258("dijit.form._ExpandingTextAreaMixin",null,{_setValueAttr:function(){this.inherited(arguments);this.resize();},postCreate:function(){this.inherited(arguments);var _25c=this.textbox;_25c.style.overflowY="hidden";this.own(on(_25c,"focus, resize",lang.hitch(this,"_resizeLater")));},startup:function(){this.inherited(arguments);this.own(_25a.on("resize",lang.hitch(this,"_resizeLater")));this._resizeLater();},_onInput:function(e){this.inherited(arguments);this.resize();},_estimateHeight:function(){var _25d=this.textbox;_25d.rows=(_25d.value.match(/\n/g)||[]).length+1;},_resizeLater:function(){this.defer("resize");},resize:function(){var _25e=this.textbox;function _25f(){var _260=false;if(_25e.value===""){_25e.value=" ";_260=true;}var sh=_25e.scrollHeight;if(_260){_25e.value="";}return sh;};if(_25e.style.overflowY=="hidden"){_25e.scrollTop=0;}if(this.busyResizing){return;}this.busyResizing=true;if(_25f()||_25e.offsetHeight){var newH=_25f()+Math.max(_25e.offsetHeight-_25e.clientHeight,0);var _261=newH+"px";if(_261!=_25e.style.height){_25e.style.height=_261;_25e.rows=1;}if(has("textarea-needs-help-shrinking")){var _262=_25f(),_263=_262,_264=_25e.style.minHeight,_265=4,_266,_267=_25e.scrollTop;_25e.style.minHeight=_261;_25e.style.height="auto";while(newH>0){_25e.style.minHeight=Math.max(newH-_265,4)+"px";_266=_25f();var _268=_263-_266;newH-=_268;if(_268<_265){break;}_263=_266;_265<<=1;}_25e.style.height=newH+"px";_25e.style.minHeight=_264;_25e.scrollTop=_267;}_25e.style.overflowY=_25f()>_25e.clientHeight?"auto":"hidden";if(_25e.style.overflowY=="hidden"){_25e.scrollTop=0;}}else{this._estimateHeight();}this.busyResizing=false;}});});},"dijit/form/SimpleTextarea":function(){define("dijit/form/SimpleTextarea",["dojo/_base/declare","dojo/dom-class","dojo/sniff","./TextBox"],function(_269,_26a,has,_26b){return _269("dijit.form.SimpleTextarea",_26b,{baseClass:"dijitTextBox dijitTextArea",rows:"3",cols:"20",templateString:"<textarea ${!nameAttrSetting} data-dojo-attach-point='focusNode,containerNode,textbox' autocomplete='off'></textarea>",postMixInProperties:function(){if(!this.value&&this.srcNodeRef){this.value=this.srcNodeRef.value;}this.inherited(arguments);},buildRendering:function(){this.inherited(arguments);if(has("ie")&&this.cols){_26a.add(this.textbox,"dijitTextAreaCols");}},filter:function(_26c){if(_26c){_26c=_26c.replace(/\r/g,"");}return this.inherited(arguments);},_onInput:function(e){if(this.maxLength){var _26d=parseInt(this.maxLength);var _26e=this.textbox.value.replace(/\r/g,"");var _26f=_26e.length-_26d;if(_26f>0){var _270=this.textbox;if(_270.selectionStart){var pos=_270.selectionStart;var cr=0;if(has("opera")){cr=(this.textbox.value.substring(0,pos).match(/\r/g)||[]).length;}this.textbox.value=_26e.substring(0,pos-_26f-cr)+_26e.substring(pos-cr);_270.setSelectionRange(pos-_26f,pos-_26f);}else{if(this.ownerDocument.selection){_270.focus();var _271=this.ownerDocument.selection.createRange();_271.moveStart("character",-_26f);_271.text="";_271.select();}}}}this.inherited(arguments);}});});},"dijit/form/TextBox":function(){require({cache:{"url:dijit/form/templates/TextBox.html":"<div class=\"dijit dijitReset dijitInline dijitLeft\" id=\"widget_${id}\" role=\"presentation\"\n\t><div class=\"dijitReset dijitInputField dijitInputContainer\"\n\t\t><input class=\"dijitReset dijitInputInner\" data-dojo-attach-point='textbox,focusNode' autocomplete=\"off\"\n\t\t\t${!nameAttrSetting} type='${type}'\n\t/></div\n></div>\n"}});define("dijit/form/TextBox",["dojo/_base/declare","dojo/dom-construct","dojo/dom-style","dojo/_base/kernel","dojo/_base/lang","dojo/sniff","./_FormValueWidget","./_TextBoxMixin","dojo/text!./templates/TextBox.html","../main"],function(_272,_273,_274,_275,lang,has,_276,_277,_278,_279){var _27a=_272("dijit.form.TextBox",[_276,_277],{templateString:_278,_singleNodeTemplate:"<input class=\"dijit dijitReset dijitLeft dijitInputField\" data-dojo-attach-point=\"textbox,focusNode\" autocomplete=\"off\" type=\"${type}\" ${!nameAttrSetting} />",_buttonInputDisabled:has("ie")?"disabled":"",baseClass:"dijitTextBox",postMixInProperties:function(){var type=this.type.toLowerCase();if(this.templateString&&this.templateString.toLowerCase()=="input"||((type=="hidden"||type=="file")&&this.templateString==this.constructor.prototype.templateString)){this.templateString=this._singleNodeTemplate;}this.inherited(arguments);},postCreate:function(){this.inherited(arguments);if(has("ie")<9){this.defer(function(){try{var s=_274.getComputedStyle(this.domNode);if(s){var ff=s.fontFamily;if(ff){var _27b=this.domNode.getElementsByTagName("INPUT");if(_27b){for(var i=0;i<_27b.length;i++){_27b[i].style.fontFamily=ff;}}}}}catch(e){}});}},_onInput:function(e){this.inherited(arguments);if(this.intermediateChanges){this.defer(function(){this._handleOnChange(this.get("value"),false);});}},_setPlaceHolderAttr:function(v){this._set("placeHolder",v);if(!this._phspan){this._attachPoints.push("_phspan");this._phspan=_273.create("span",{onmousedown:function(e){e.preventDefault();},className:"dijitPlaceHolder dijitInputField"},this.textbox,"after");}this._phspan.innerHTML="";this._phspan.appendChild(this._phspan.ownerDocument.createTextNode(v));this._updatePlaceHolder();},_updatePlaceHolder:function(){if(this._phspan){this._phspan.style.display=(this.placeHolder&&!this.focused&&!this.textbox.value)?"":"none";}},_setValueAttr:function(_27c,_27d,_27e){this.inherited(arguments);this._updatePlaceHolder();},getDisplayedValue:function(){_275.deprecated(this.declaredClass+"::getDisplayedValue() is deprecated. Use get('displayedValue') instead.","","2.0");return this.get("displayedValue");},setDisplayedValue:function(_27f){_275.deprecated(this.declaredClass+"::setDisplayedValue() is deprecated. Use set('displayedValue', ...) instead.","","2.0");this.set("displayedValue",_27f);},_onBlur:function(e){if(this.disabled){return;}this.inherited(arguments);this._updatePlaceHolder();if(has("mozilla")){if(this.selectOnClick){this.textbox.selectionStart=this.textbox.selectionEnd=undefined;}}},_onFocus:function(by){if(this.disabled||this.readOnly){return;}this.inherited(arguments);this._updatePlaceHolder();}});if(has("ie")){_27a.prototype._isTextSelected=function(){var _280=this.ownerDocument.selection.createRange();var _281=_280.parentElement();return _281==this.textbox&&_280.text.length>0;};_279._setSelectionRange=_277._setSelectionRange=function(_282,_283,stop){if(_282.createTextRange){var r=_282.createTextRange();r.collapse(true);r.moveStart("character",-99999);r.moveStart("character",_283);r.moveEnd("character",stop-_283);r.select();}};}return _27a;});},"dijit/form/_FormValueWidget":function(){define("dijit/form/_FormValueWidget",["dojo/_base/declare","dojo/sniff","./_FormWidget","./_FormValueMixin"],function(_284,has,_285,_286){return _284("dijit.form._FormValueWidget",[_285,_286],{_layoutHackIE7:function(){if(has("ie")==7){var _287=this.domNode;var _288=_287.parentNode;var _289=_287.firstChild||_287;var _28a=_289.style.filter;var _28b=this;while(_288&&_288.clientHeight==0){(function ping(){var _28c=_28b.connect(_288,"onscroll",function(){_28b.disconnect(_28c);_289.style.filter=(new Date()).getMilliseconds();_28b.defer(function(){_289.style.filter=_28a;});});})();_288=_288.parentNode;}}}});});},"dijit/form/_FormWidget":function(){define("dijit/form/_FormWidget",["dojo/_base/declare","dojo/has","dojo/_base/kernel","dojo/ready","../_Widget","../_CssStateMixin","../_TemplatedMixin","./_FormWidgetMixin"],function(_28d,has,_28e,_28f,_290,_291,_292,_293){if(has("dijit-legacy-requires")){_28f(0,function(){var _294=["dijit/form/_FormValueWidget"];require(_294);});}return _28d("dijit.form._FormWidget",[_290,_292,_291,_293],{setDisabled:function(_295){_28e.deprecated("setDisabled("+_295+") is deprecated. Use set('disabled',"+_295+") instead.","","2.0");this.set("disabled",_295);},setValue:function(_296){_28e.deprecated("dijit.form._FormWidget:setValue("+_296+") is deprecated.  Use set('value',"+_296+") instead.","","2.0");this.set("value",_296);},getValue:function(){_28e.deprecated(this.declaredClass+"::getValue() is deprecated. Use get('value') instead.","","2.0");return this.get("value");},postMixInProperties:function(){this.nameAttrSetting=this.name?("name=\""+this.name.replace(/"/g,"&quot;")+"\""):"";this.inherited(arguments);},_setTypeAttr:null});});},"dijit/_CssStateMixin":function(){define("dijit/_CssStateMixin",["dojo/_base/array","dojo/_base/declare","dojo/dom","dojo/dom-class","dojo/has","dojo/_base/lang","dojo/on","dojo/ready","dojo/_base/window","./registry"],function(_297,_298,dom,_299,has,lang,on,_29a,win,_29b){var _29c=_298("dijit._CssStateMixin",[],{cssStateNodes:{},hovering:false,active:false,_applyAttributes:function(){this.inherited(arguments);_297.forEach(["disabled","readOnly","checked","selected","focused","state","hovering","active","_opened"],function(attr){this.watch(attr,lang.hitch(this,"_setStateClass"));},this);for(var ap in this.cssStateNodes){this._trackMouseState(this[ap],this.cssStateNodes[ap]);}this._trackMouseState(this.domNode,this.baseClass);this._setStateClass();},_cssMouseEvent:function(_29d){if(!this.disabled){switch(_29d.type){case "mouseover":this._set("hovering",true);this._set("active",this._mouseDown);break;case "mouseout":this._set("hovering",false);this._set("active",false);break;case "mousedown":case "touchstart":this._set("active",true);break;case "mouseup":case "touchend":this._set("active",false);break;}}},_setStateClass:function(){var _29e=this.baseClass.split(" ");function _29f(_2a0){_29e=_29e.concat(_297.map(_29e,function(c){return c+_2a0;}),"dijit"+_2a0);};if(!this.isLeftToRight()){_29f("Rtl");}var _2a1=this.checked=="mixed"?"Mixed":(this.checked?"Checked":"");if(this.checked){_29f(_2a1);}if(this.state){_29f(this.state);}if(this.selected){_29f("Selected");}if(this._opened){_29f("Opened");}if(this.disabled){_29f("Disabled");}else{if(this.readOnly){_29f("ReadOnly");}else{if(this.active){_29f("Active");}else{if(this.hovering){_29f("Hover");}}}}if(this.focused){_29f("Focused");}var tn=this.stateNode||this.domNode,_2a2={};_297.forEach(tn.className.split(" "),function(c){_2a2[c]=true;});if("_stateClasses" in this){_297.forEach(this._stateClasses,function(c){delete _2a2[c];});}_297.forEach(_29e,function(c){_2a2[c]=true;});var _2a3=[];for(var c in _2a2){_2a3.push(c);}tn.className=_2a3.join(" ");this._stateClasses=_29e;},_subnodeCssMouseEvent:function(node,_2a4,evt){if(this.disabled||this.readOnly){return;}function _2a5(_2a6){_299.toggle(node,_2a4+"Hover",_2a6);};function _2a7(_2a8){_299.toggle(node,_2a4+"Active",_2a8);};function _2a9(_2aa){_299.toggle(node,_2a4+"Focused",_2aa);};switch(evt.type){case "mouseover":_2a5(true);break;case "mouseout":_2a5(false);_2a7(false);break;case "mousedown":case "touchstart":_2a7(true);break;case "mouseup":case "touchend":_2a7(false);break;case "focus":case "focusin":_2a9(true);break;case "blur":case "focusout":_2a9(false);break;}},_trackMouseState:function(node,_2ab){node._cssState=_2ab;}});_29a(function(){function _2ac(evt){if(!dom.isDescendant(evt.relatedTarget,evt.target)){for(var node=evt.target;node&&node!=evt.relatedTarget;node=node.parentNode){if(node._cssState){var _2ad=_29b.getEnclosingWidget(node);if(_2ad){if(node==_2ad.domNode){_2ad._cssMouseEvent(evt);}else{_2ad._subnodeCssMouseEvent(node,node._cssState,evt);}}}}}};function _2ae(evt){evt.target=evt.srcElement;_2ac(evt);};var body=win.body(),_2af=(has("touch")?[]:["mouseover","mouseout"]).concat(["mousedown","touchstart","mouseup","touchend"]);_297.forEach(_2af,function(type){if(body.addEventListener){body.addEventListener(type,_2ac,true);}else{body.attachEvent("on"+type,_2ae);}});on(body,"focusin, focusout",function(evt){var node=evt.target;if(node._cssState&&!node.getAttribute("widgetId")){var _2b0=_29b.getEnclosingWidget(node);_2b0._subnodeCssMouseEvent(node,node._cssState,evt);}});});return _29c;});},"dijit/form/_FormWidgetMixin":function(){define("dijit/form/_FormWidgetMixin",["dojo/_base/array","dojo/_base/declare","dojo/dom-attr","dojo/dom-style","dojo/_base/lang","dojo/mouse","dojo/sniff","dojo/window","../a11y"],function(_2b1,_2b2,_2b3,_2b4,lang,_2b5,has,_2b6,a11y){return _2b2("dijit.form._FormWidgetMixin",null,{name:"",alt:"",value:"",type:"text","aria-label":"focusNode",tabIndex:"0",_setTabIndexAttr:"focusNode",disabled:false,intermediateChanges:false,scrollOnFocus:true,_setIdAttr:"focusNode",_setDisabledAttr:function(_2b7){this._set("disabled",_2b7);_2b3.set(this.focusNode,"disabled",_2b7);if(this.valueNode){_2b3.set(this.valueNode,"disabled",_2b7);}this.focusNode.setAttribute("aria-disabled",_2b7?"true":"false");if(_2b7){this._set("hovering",false);this._set("active",false);var _2b8="tabIndex" in this.attributeMap?this.attributeMap.tabIndex:("_setTabIndexAttr" in this)?this._setTabIndexAttr:"focusNode";_2b1.forEach(lang.isArray(_2b8)?_2b8:[_2b8],function(_2b9){var node=this[_2b9];if(has("webkit")||a11y.hasDefaultTabStop(node)){node.setAttribute("tabIndex","-1");}else{node.removeAttribute("tabIndex");}},this);}else{if(this.tabIndex!=""){this.set("tabIndex",this.tabIndex);}}},_onFocus:function(by){if(by=="mouse"&&this.isFocusable()){var _2ba=this.connect(this.focusNode,"onfocus",function(){this.disconnect(_2bb);this.disconnect(_2ba);});var _2bb=this.connect(this.ownerDocumentBody,"onmouseup",function(){this.disconnect(_2bb);this.disconnect(_2ba);if(this.focused){this.focus();}});}if(this.scrollOnFocus){this.defer(function(){_2b6.scrollIntoView(this.domNode);});}this.inherited(arguments);},isFocusable:function(){return !this.disabled&&this.focusNode&&(_2b4.get(this.domNode,"display")!="none");},focus:function(){if(!this.disabled&&this.focusNode.focus){try{this.focusNode.focus();}catch(e){}}},compare:function(val1,val2){if(typeof val1=="number"&&typeof val2=="number"){return (isNaN(val1)&&isNaN(val2))?0:val1-val2;}else{if(val1>val2){return 1;}else{if(val1<val2){return -1;}else{return 0;}}}},onChange:function(){},_onChangeActive:false,_handleOnChange:function(_2bc,_2bd){if(this._lastValueReported==undefined&&(_2bd===null||!this._onChangeActive)){this._resetValue=this._lastValueReported=_2bc;}this._pendingOnChange=this._pendingOnChange||(typeof _2bc!=typeof this._lastValueReported)||(this.compare(_2bc,this._lastValueReported)!=0);if((this.intermediateChanges||_2bd||_2bd===undefined)&&this._pendingOnChange){this._lastValueReported=_2bc;this._pendingOnChange=false;if(this._onChangeActive){if(this._onChangeHandle){this._onChangeHandle.remove();}this._onChangeHandle=this.defer(function(){this._onChangeHandle=null;this.onChange(_2bc);});}}},create:function(){this.inherited(arguments);this._onChangeActive=true;},destroy:function(){if(this._onChangeHandle){this._onChangeHandle.remove();this.onChange(this._lastValueReported);}this.inherited(arguments);}});});},"dijit/form/_FormValueMixin":function(){define("dijit/form/_FormValueMixin",["dojo/_base/declare","dojo/dom-attr","dojo/keys","dojo/sniff","./_FormWidgetMixin"],function(_2be,_2bf,keys,has,_2c0){return _2be("dijit.form._FormValueMixin",_2c0,{readOnly:false,_setReadOnlyAttr:function(_2c1){_2bf.set(this.focusNode,"readOnly",_2c1);this._set("readOnly",_2c1);},postCreate:function(){this.inherited(arguments);if(has("ie")){this.connect(this.focusNode||this.domNode,"onkeydown",this._onKeyDown);}if(this._resetValue===undefined){this._lastValueReported=this._resetValue=this.value;}},_setValueAttr:function(_2c2,_2c3){this._handleOnChange(_2c2,_2c3);},_handleOnChange:function(_2c4,_2c5){this._set("value",_2c4);this.inherited(arguments);},undo:function(){this._setValueAttr(this._lastValueReported,false);},reset:function(){this._hasBeenBlurred=false;this._setValueAttr(this._resetValue,true);},_onKeyDown:function(e){if(e.keyCode==keys.ESCAPE&&!(e.ctrlKey||e.altKey||e.metaKey)){if(has("ie")<9||(has("ie")&&has("quirks"))){e.preventDefault();var node=e.srcElement,te=node.ownerDocument.createEventObject();te.keyCode=keys.ESCAPE;te.shiftKey=e.shiftKey;node.fireEvent("onkeypress",te);}}}});});},"dijit/form/_TextBoxMixin":function(){define("dijit/form/_TextBoxMixin",["dojo/_base/array","dojo/_base/declare","dojo/dom","dojo/_base/event","dojo/keys","dojo/_base/lang","dojo/on","../main"],function(_2c6,_2c7,dom,_2c8,keys,lang,on,_2c9){var _2ca=_2c7("dijit.form._TextBoxMixin",null,{trim:false,uppercase:false,lowercase:false,propercase:false,maxLength:"",selectOnClick:false,placeHolder:"",_getValueAttr:function(){return this.parse(this.get("displayedValue"),this.constraints);},_setValueAttr:function(_2cb,_2cc,_2cd){var _2ce;if(_2cb!==undefined){_2ce=this.filter(_2cb);if(typeof _2cd!="string"){if(_2ce!==null&&((typeof _2ce!="number")||!isNaN(_2ce))){_2cd=this.filter(this.format(_2ce,this.constraints));}else{_2cd="";}}}if(_2cd!=null&&((typeof _2cd)!="number"||!isNaN(_2cd))&&this.textbox.value!=_2cd){this.textbox.value=_2cd;this._set("displayedValue",this.get("displayedValue"));}if(this.textDir=="auto"){this.applyTextDir(this.focusNode,_2cd);}this.inherited(arguments,[_2ce,_2cc]);},displayedValue:"",_getDisplayedValueAttr:function(){return this.filter(this.textbox.value);},_setDisplayedValueAttr:function(_2cf){if(_2cf==null){_2cf="";}else{if(typeof _2cf!="string"){_2cf=String(_2cf);}}this.textbox.value=_2cf;this._setValueAttr(this.get("value"),undefined);this._set("displayedValue",this.get("displayedValue"));if(this.textDir=="auto"){this.applyTextDir(this.focusNode,_2cf);}},format:function(_2d0){return _2d0==null?"":(_2d0.toString?_2d0.toString():_2d0);},parse:function(_2d1){return _2d1;},_refreshState:function(){},onInput:function(){},__skipInputEvent:false,_onInput:function(evt){if(this.textDir=="auto"){this.applyTextDir(this.focusNode,this.focusNode.value);}this._processInput(evt);},_processInput:function(evt){this._refreshState();this._set("displayedValue",this.get("displayedValue"));},postCreate:function(){this.textbox.setAttribute("value",this.textbox.value);this.inherited(arguments);var _2d2=function(e){var _2d3;if(e.type=="keydown"){_2d3=e.keyCode;switch(_2d3){case keys.SHIFT:case keys.ALT:case keys.CTRL:case keys.META:case keys.CAPS_LOCK:case keys.NUM_LOCK:case keys.SCROLL_LOCK:return;}if(!e.ctrlKey&&!e.metaKey&&!e.altKey){switch(_2d3){case keys.NUMPAD_0:case keys.NUMPAD_1:case keys.NUMPAD_2:case keys.NUMPAD_3:case keys.NUMPAD_4:case keys.NUMPAD_5:case keys.NUMPAD_6:case keys.NUMPAD_7:case keys.NUMPAD_8:case keys.NUMPAD_9:case keys.NUMPAD_MULTIPLY:case keys.NUMPAD_PLUS:case keys.NUMPAD_ENTER:case keys.NUMPAD_MINUS:case keys.NUMPAD_PERIOD:case keys.NUMPAD_DIVIDE:return;}if((_2d3>=65&&_2d3<=90)||(_2d3>=48&&_2d3<=57)||_2d3==keys.SPACE){return;}var _2d4=false;for(var i in keys){if(keys[i]===e.keyCode){_2d4=true;break;}}if(!_2d4){return;}}}_2d3=e.charCode>=32?String.fromCharCode(e.charCode):e.charCode;if(!_2d3){_2d3=(e.keyCode>=65&&e.keyCode<=90)||(e.keyCode>=48&&e.keyCode<=57)||e.keyCode==keys.SPACE?String.fromCharCode(e.keyCode):e.keyCode;}if(!_2d3){_2d3=229;}if(e.type=="keypress"){if(typeof _2d3!="string"){return;}if((_2d3>="a"&&_2d3<="z")||(_2d3>="A"&&_2d3<="Z")||(_2d3>="0"&&_2d3<="9")||(_2d3===" ")){if(e.ctrlKey||e.metaKey||e.altKey){return;}}}if(e.type=="input"){if(this.__skipInputEvent){this.__skipInputEvent=false;return;}}else{this.__skipInputEvent=true;}var faux={faux:true},attr;for(attr in e){if(attr!="layerX"&&attr!="layerY"){var v=e[attr];if(typeof v!="function"&&typeof v!="undefined"){faux[attr]=v;}}}lang.mixin(faux,{charOrCode:_2d3,_wasConsumed:false,preventDefault:function(){faux._wasConsumed=true;e.preventDefault();},stopPropagation:function(){e.stopPropagation();}});if(this.onInput(faux)===false){faux.preventDefault();faux.stopPropagation();}if(faux._wasConsumed){return;}this.defer(function(){this._onInput(faux);});};this.own(on(this.textbox,"keydown, keypress, paste, cut, input, compositionend",lang.hitch(this,_2d2)));},_blankValue:"",filter:function(val){if(val===null){return this._blankValue;}if(typeof val!="string"){return val;}if(this.trim){val=lang.trim(val);}if(this.uppercase){val=val.toUpperCase();}if(this.lowercase){val=val.toLowerCase();}if(this.propercase){val=val.replace(/[^\s]+/g,function(word){return word.substring(0,1).toUpperCase()+word.substring(1);});}return val;},_setBlurValue:function(){this._setValueAttr(this.get("value"),true);},_onBlur:function(e){if(this.disabled){return;}this._setBlurValue();this.inherited(arguments);},_isTextSelected:function(){return this.textbox.selectionStart!=this.textbox.selectionEnd;},_onFocus:function(by){if(this.disabled||this.readOnly){return;}if(this.selectOnClick&&by=="mouse"){this._selectOnClickHandle=this.connect(this.domNode,"onmouseup",function(){this.disconnect(this._selectOnClickHandle);this._selectOnClickHandle=null;if(!this._isTextSelected()){_2ca.selectInputText(this.textbox);}});this.defer(function(){if(this._selectOnClickHandle){this.disconnect(this._selectOnClickHandle);this._selectOnClickHandle=null;}},500);}this.inherited(arguments);this._refreshState();},reset:function(){this.textbox.value="";this.inherited(arguments);},_setTextDirAttr:function(_2d5){if(!this._created||this.textDir!=_2d5){this._set("textDir",_2d5);this.applyTextDir(this.focusNode,this.focusNode.value);}}});_2ca._setSelectionRange=_2c9._setSelectionRange=function(_2d6,_2d7,stop){if(_2d6.setSelectionRange){_2d6.setSelectionRange(_2d7,stop);}};_2ca.selectInputText=_2c9.selectInputText=function(_2d8,_2d9,stop){_2d8=dom.byId(_2d8);if(isNaN(_2d9)){_2d9=0;}if(isNaN(stop)){stop=_2d8.value?_2d8.value.length:0;}try{_2d8.focus();_2ca._setSelectionRange(_2d8,_2d9,stop);}catch(e){}};return _2ca;});},"url:dijit/form/templates/TextBox.html":"<div class=\"dijit dijitReset dijitInline dijitLeft\" id=\"widget_${id}\" role=\"presentation\"\n\t><div class=\"dijitReset dijitInputField dijitInputContainer\"\n\t\t><input class=\"dijitReset dijitInputInner\" data-dojo-attach-point='textbox,focusNode' autocomplete=\"off\"\n\t\t\t${!nameAttrSetting} type='${type}'\n\t/></div\n></div>\n","dojo/dnd/AutoSource":function(){define("dojo/dnd/AutoSource",["../_base/declare","./Source"],function(_2da,_2db){return _2da("dojo.dnd.AutoSource",_2db,{constructor:function(){this.autoSync=true;}});});},"dojo/dnd/Source":function(){define("dojo/dnd/Source",["../_base/array","../_base/connect","../_base/declare","../_base/kernel","../_base/lang","../dom-class","../dom-geometry","../mouse","../ready","../topic","./common","./Selector","./Manager"],function(_2dc,_2dd,_2de,_2df,lang,_2e0,_2e1,_2e2,_2e3,_2e4,dnd,_2e5,_2e6){if(!_2df.isAsync){_2e3(0,function(){var _2e7=["dojo/dnd/AutoSource","dojo/dnd/Target"];require(_2e7);});}var _2e8=_2de("dojo.dnd.Source",_2e5,{isSource:true,horizontal:false,copyOnly:false,selfCopy:false,selfAccept:true,skipForm:false,withHandles:false,autoSync:false,delay:0,accept:["text"],generateText:true,constructor:function(node,_2e9){lang.mixin(this,lang.mixin({},_2e9));var type=this.accept;if(type.length){this.accept={};for(var i=0;i<type.length;++i){this.accept[type[i]]=1;}}this.isDragging=false;this.mouseDown=false;this.targetAnchor=null;this.targetBox=null;this.before=true;this._lastX=0;this._lastY=0;this.sourceState="";if(this.isSource){_2e0.add(this.node,"dojoDndSource");}this.targetState="";if(this.accept){_2e0.add(this.node,"dojoDndTarget");}if(this.horizontal){_2e0.add(this.node,"dojoDndHorizontal");}this.topics=[_2e4.subscribe("/dnd/source/over",lang.hitch(this,"onDndSourceOver")),_2e4.subscribe("/dnd/start",lang.hitch(this,"onDndStart")),_2e4.subscribe("/dnd/drop",lang.hitch(this,"onDndDrop")),_2e4.subscribe("/dnd/cancel",lang.hitch(this,"onDndCancel"))];},checkAcceptance:function(_2ea,_2eb){if(this==_2ea){return !this.copyOnly||this.selfAccept;}for(var i=0;i<_2eb.length;++i){var type=_2ea.getItem(_2eb[i].id).type;var flag=false;for(var j=0;j<type.length;++j){if(type[j] in this.accept){flag=true;break;}}if(!flag){return false;}}return true;},copyState:function(_2ec,self){if(_2ec){return true;}if(arguments.length<2){self=this==_2e6.manager().target;}if(self){if(this.copyOnly){return this.selfCopy;}}else{return this.copyOnly;}return false;},destroy:function(){_2e8.superclass.destroy.call(this);_2dc.forEach(this.topics,function(t){t.remove();});this.targetAnchor=null;},onMouseMove:function(e){if(this.isDragging&&this.targetState=="Disabled"){return;}_2e8.superclass.onMouseMove.call(this,e);var m=_2e6.manager();if(!this.isDragging){if(this.mouseDown&&this.isSource&&(Math.abs(e.pageX-this._lastX)>this.delay||Math.abs(e.pageY-this._lastY)>this.delay)){var _2ed=this.getSelectedNodes();if(_2ed.length){m.startDrag(this,_2ed,this.copyState(dnd.getCopyKeyState(e),true));}}}if(this.isDragging){var _2ee=false;if(this.current){if(!this.targetBox||this.targetAnchor!=this.current){this.targetBox=_2e1.position(this.current,true);}if(this.horizontal){_2ee=(e.pageX-this.targetBox.x<this.targetBox.w/2)==_2e1.isBodyLtr(this.current.ownerDocument);}else{_2ee=(e.pageY-this.targetBox.y)<(this.targetBox.h/2);}}if(this.current!=this.targetAnchor||_2ee!=this.before){this._markTargetAnchor(_2ee);m.canDrop(!this.current||m.source!=this||!(this.current.id in this.selection));}}},onMouseDown:function(e){if(!this.mouseDown&&this._legalMouseDown(e)&&(!this.skipForm||!dnd.isFormElement(e))){this.mouseDown=true;this._lastX=e.pageX;this._lastY=e.pageY;_2e8.superclass.onMouseDown.call(this,e);}},onMouseUp:function(e){if(this.mouseDown){this.mouseDown=false;_2e8.superclass.onMouseUp.call(this,e);}},onDndSourceOver:function(_2ef){if(this!==_2ef){this.mouseDown=false;if(this.targetAnchor){this._unmarkTargetAnchor();}}else{if(this.isDragging){var m=_2e6.manager();m.canDrop(this.targetState!="Disabled"&&(!this.current||m.source!=this||!(this.current.id in this.selection)));}}},onDndStart:function(_2f0,_2f1,copy){if(this.autoSync){this.sync();}if(this.isSource){this._changeState("Source",this==_2f0?(copy?"Copied":"Moved"):"");}var _2f2=this.accept&&this.checkAcceptance(_2f0,_2f1);this._changeState("Target",_2f2?"":"Disabled");if(this==_2f0){_2e6.manager().overSource(this);}this.isDragging=true;},onDndDrop:function(_2f3,_2f4,copy,_2f5){if(this==_2f5){this.onDrop(_2f3,_2f4,copy);}this.onDndCancel();},onDndCancel:function(){if(this.targetAnchor){this._unmarkTargetAnchor();this.targetAnchor=null;}this.before=true;this.isDragging=false;this.mouseDown=false;this._changeState("Source","");this._changeState("Target","");},onDrop:function(_2f6,_2f7,copy){if(this!=_2f6){this.onDropExternal(_2f6,_2f7,copy);}else{this.onDropInternal(_2f7,copy);}},onDropExternal:function(_2f8,_2f9,copy){var _2fa=this._normalizedCreator;if(this.creator){this._normalizedCreator=function(node,hint){return _2fa.call(this,_2f8.getItem(node.id).data,hint);};}else{if(copy){this._normalizedCreator=function(node){var t=_2f8.getItem(node.id);var n=node.cloneNode(true);n.id=dnd.getUniqueId();return {node:n,data:t.data,type:t.type};};}else{this._normalizedCreator=function(node){var t=_2f8.getItem(node.id);_2f8.delItem(node.id);return {node:node,data:t.data,type:t.type};};}}this.selectNone();if(!copy&&!this.creator){_2f8.selectNone();}this.insertNodes(true,_2f9,this.before,this.current);if(!copy&&this.creator){_2f8.deleteSelectedNodes();}this._normalizedCreator=_2fa;},onDropInternal:function(_2fb,copy){var _2fc=this._normalizedCreator;if(this.current&&this.current.id in this.selection){return;}if(copy){if(this.creator){this._normalizedCreator=function(node,hint){return _2fc.call(this,this.getItem(node.id).data,hint);};}else{this._normalizedCreator=function(node){var t=this.getItem(node.id);var n=node.cloneNode(true);n.id=dnd.getUniqueId();return {node:n,data:t.data,type:t.type};};}}else{if(!this.current){return;}this._normalizedCreator=function(node){var t=this.getItem(node.id);return {node:node,data:t.data,type:t.type};};}this._removeSelection();this.insertNodes(true,_2fb,this.before,this.current);this._normalizedCreator=_2fc;},onDraggingOver:function(){},onDraggingOut:function(){},onOverEvent:function(){_2e8.superclass.onOverEvent.call(this);_2e6.manager().overSource(this);if(this.isDragging&&this.targetState!="Disabled"){this.onDraggingOver();}},onOutEvent:function(){_2e8.superclass.onOutEvent.call(this);_2e6.manager().outSource(this);if(this.isDragging&&this.targetState!="Disabled"){this.onDraggingOut();}},_markTargetAnchor:function(_2fd){if(this.current==this.targetAnchor&&this.before==_2fd){return;}if(this.targetAnchor){this._removeItemClass(this.targetAnchor,this.before?"Before":"After");}this.targetAnchor=this.current;this.targetBox=null;this.before=_2fd;if(this.targetAnchor){this._addItemClass(this.targetAnchor,this.before?"Before":"After");}},_unmarkTargetAnchor:function(){if(!this.targetAnchor){return;}this._removeItemClass(this.targetAnchor,this.before?"Before":"After");this.targetAnchor=null;this.targetBox=null;this.before=true;},_markDndStatus:function(copy){this._changeState("Source",copy?"Copied":"Moved");},_legalMouseDown:function(e){if(e.type!="touchstart"&&!_2e2.isLeft(e)){return false;}if(!this.withHandles){return true;}for(var node=e.target;node&&node!==this.node;node=node.parentNode){if(_2e0.contains(node,"dojoDndHandle")){return true;}if(_2e0.contains(node,"dojoDndItem")||_2e0.contains(node,"dojoDndIgnore")){break;}}return false;}});return _2e8;});},"dojo/dnd/common":function(){define("dojo/dnd/common",["../_base/connect","../_base/kernel","../_base/lang","../dom"],function(_2fe,_2ff,lang,dom){var _300=lang.getObject("dojo.dnd",true);_300.getCopyKeyState=_2fe.isCopyKey;_300._uniqueId=0;_300.getUniqueId=function(){var id;do{id=_2ff._scopeName+"Unique"+(++_300._uniqueId);}while(dom.byId(id));return id;};_300._empty={};_300.isFormElement=function(e){var t=e.target;if(t.nodeType==3){t=t.parentNode;}return " button textarea input select option ".indexOf(" "+t.tagName.toLowerCase()+" ")>=0;};return _300;});},"dojo/dnd/Selector":function(){define("dojo/dnd/Selector",["../_base/array","../_base/declare","../_base/event","../_base/kernel","../_base/lang","../dom","../dom-construct","../mouse","../_base/NodeList","../on","../touch","./common","./Container"],function(_301,_302,_303,_304,lang,dom,_305,_306,_307,on,_308,dnd,_309){var _30a=_302("dojo.dnd.Selector",_309,{constructor:function(node,_30b){if(!_30b){_30b={};}this.singular=_30b.singular;this.autoSync=_30b.autoSync;this.selection={};this.anchor=null;this.simpleSelection=false;this.events.push(on(this.node,_308.press,lang.hitch(this,"onMouseDown")),on(this.node,_308.release,lang.hitch(this,"onMouseUp")));},singular:false,getSelectedNodes:function(){var t=new _307();var e=dnd._empty;for(var i in this.selection){if(i in e){continue;}t.push(dom.byId(i));}return t;},selectNone:function(){return this._removeSelection()._removeAnchor();},selectAll:function(){this.forInItems(function(data,id){this._addItemClass(dom.byId(id),"Selected");this.selection[id]=1;},this);return this._removeAnchor();},deleteSelectedNodes:function(){var e=dnd._empty;for(var i in this.selection){if(i in e){continue;}var n=dom.byId(i);this.delItem(i);_305.destroy(n);}this.anchor=null;this.selection={};return this;},forInSelectedItems:function(f,o){o=o||_304.global;var s=this.selection,e=dnd._empty;for(var i in s){if(i in e){continue;}f.call(o,this.getItem(i),i,this);}},sync:function(){_30a.superclass.sync.call(this);if(this.anchor){if(!this.getItem(this.anchor.id)){this.anchor=null;}}var t=[],e=dnd._empty;for(var i in this.selection){if(i in e){continue;}if(!this.getItem(i)){t.push(i);}}_301.forEach(t,function(i){delete this.selection[i];},this);return this;},insertNodes:function(_30c,data,_30d,_30e){var _30f=this._normalizedCreator;this._normalizedCreator=function(item,hint){var t=_30f.call(this,item,hint);if(_30c){if(!this.anchor){this.anchor=t.node;this._removeItemClass(t.node,"Selected");this._addItemClass(this.anchor,"Anchor");}else{if(this.anchor!=t.node){this._removeItemClass(t.node,"Anchor");this._addItemClass(t.node,"Selected");}}this.selection[t.node.id]=1;}else{this._removeItemClass(t.node,"Selected");this._removeItemClass(t.node,"Anchor");}return t;};_30a.superclass.insertNodes.call(this,data,_30d,_30e);this._normalizedCreator=_30f;return this;},destroy:function(){_30a.superclass.destroy.call(this);this.selection=this.anchor=null;},onMouseDown:function(e){if(this.autoSync){this.sync();}if(!this.current){return;}if(!this.singular&&!dnd.getCopyKeyState(e)&&!e.shiftKey&&(this.current.id in this.selection)){this.simpleSelection=true;if(_306.isLeft(e)){_303.stop(e);}return;}if(!this.singular&&e.shiftKey){if(!dnd.getCopyKeyState(e)){this._removeSelection();}var c=this.getAllNodes();if(c.length){if(!this.anchor){this.anchor=c[0];this._addItemClass(this.anchor,"Anchor");}this.selection[this.anchor.id]=1;if(this.anchor!=this.current){var i=0,node;for(;i<c.length;++i){node=c[i];if(node==this.anchor||node==this.current){break;}}for(++i;i<c.length;++i){node=c[i];if(node==this.anchor||node==this.current){break;}this._addItemClass(node,"Selected");this.selection[node.id]=1;}this._addItemClass(this.current,"Selected");this.selection[this.current.id]=1;}}}else{if(this.singular){if(this.anchor==this.current){if(dnd.getCopyKeyState(e)){this.selectNone();}}else{this.selectNone();this.anchor=this.current;this._addItemClass(this.anchor,"Anchor");this.selection[this.current.id]=1;}}else{if(dnd.getCopyKeyState(e)){if(this.anchor==this.current){delete this.selection[this.anchor.id];this._removeAnchor();}else{if(this.current.id in this.selection){this._removeItemClass(this.current,"Selected");delete this.selection[this.current.id];}else{if(this.anchor){this._removeItemClass(this.anchor,"Anchor");this._addItemClass(this.anchor,"Selected");}this.anchor=this.current;this._addItemClass(this.current,"Anchor");this.selection[this.current.id]=1;}}}else{if(!(this.current.id in this.selection)){this.selectNone();this.anchor=this.current;this._addItemClass(this.current,"Anchor");this.selection[this.current.id]=1;}}}}_303.stop(e);},onMouseUp:function(){if(!this.simpleSelection){return;}this.simpleSelection=false;this.selectNone();if(this.current){this.anchor=this.current;this._addItemClass(this.anchor,"Anchor");this.selection[this.current.id]=1;}},onMouseMove:function(){this.simpleSelection=false;},onOverEvent:function(){this.onmousemoveEvent=on(this.node,_308.move,lang.hitch(this,"onMouseMove"));},onOutEvent:function(){if(this.onmousemoveEvent){this.onmousemoveEvent.remove();delete this.onmousemoveEvent;}},_removeSelection:function(){var e=dnd._empty;for(var i in this.selection){if(i in e){continue;}var node=dom.byId(i);if(node){this._removeItemClass(node,"Selected");}}this.selection={};return this;},_removeAnchor:function(){if(this.anchor){this._removeItemClass(this.anchor,"Anchor");this.anchor=null;}return this;}});return _30a;});},"dojo/dnd/Container":function(){define("dojo/dnd/Container",["../_base/array","../_base/declare","../_base/event","../_base/kernel","../_base/lang","../_base/window","../dom","../dom-class","../dom-construct","../Evented","../has","../on","../query","../ready","../touch","./common"],function(_310,_311,_312,_313,lang,win,dom,_314,_315,_316,has,on,_317,_318,_319,dnd){var _31a=_311("dojo.dnd.Container",_316,{skipForm:false,allowNested:false,constructor:function(node,_31b){this.node=dom.byId(node);if(!_31b){_31b={};}this.creator=_31b.creator||null;this.skipForm=_31b.skipForm;this.parent=_31b.dropParent&&dom.byId(_31b.dropParent);this.map={};this.current=null;this.containerState="";_314.add(this.node,"dojoDndContainer");if(!(_31b&&_31b._skipStartup)){this.startup();}this.events=[on(this.node,_319.over,lang.hitch(this,"onMouseOver")),on(this.node,_319.out,lang.hitch(this,"onMouseOut")),on(this.node,"dragstart",lang.hitch(this,"onSelectStart")),on(this.node,"selectstart",lang.hitch(this,"onSelectStart"))];},creator:function(){},getItem:function(key){return this.map[key];},setItem:function(key,data){this.map[key]=data;},delItem:function(key){delete this.map[key];},forInItems:function(f,o){o=o||_313.global;var m=this.map,e=dnd._empty;for(var i in m){if(i in e){continue;}f.call(o,m[i],i,this);}return o;},clearItems:function(){this.map={};},getAllNodes:function(){return _317((this.allowNested?"":"> ")+".dojoDndItem",this.parent);},sync:function(){var map={};this.getAllNodes().forEach(function(node){if(node.id){var item=this.getItem(node.id);if(item){map[node.id]=item;return;}}else{node.id=dnd.getUniqueId();}var type=node.getAttribute("dndType"),data=node.getAttribute("dndData");map[node.id]={data:data||node.innerHTML,type:type?type.split(/\s*,\s*/):["text"]};},this);this.map=map;return this;},insertNodes:function(data,_31c,_31d){if(!this.parent.firstChild){_31d=null;}else{if(_31c){if(!_31d){_31d=this.parent.firstChild;}}else{if(_31d){_31d=_31d.nextSibling;}}}var i,t;if(_31d){for(i=0;i<data.length;++i){t=this._normalizedCreator(data[i]);this.setItem(t.node.id,{data:t.data,type:t.type});_31d.parentNode.insertBefore(t.node,_31d);}}else{for(i=0;i<data.length;++i){t=this._normalizedCreator(data[i]);this.setItem(t.node.id,{data:t.data,type:t.type});this.parent.appendChild(t.node);}}return this;},destroy:function(){_310.forEach(this.events,function(_31e){_31e.remove();});this.clearItems();this.node=this.parent=this.current=null;},markupFactory:function(_31f,node,Ctor){_31f._skipStartup=true;return new Ctor(node,_31f);},startup:function(){if(!this.parent){this.parent=this.node;if(this.parent.tagName.toLowerCase()=="table"){var c=this.parent.getElementsByTagName("tbody");if(c&&c.length){this.parent=c[0];}}}this.defaultCreator=dnd._defaultCreator(this.parent);this.sync();},onMouseOver:function(e){var n=e.relatedTarget;while(n){if(n==this.node){break;}try{n=n.parentNode;}catch(x){n=null;}}if(!n){this._changeState("Container","Over");this.onOverEvent();}n=this._getChildByEvent(e);if(this.current==n){return;}if(this.current){this._removeItemClass(this.current,"Over");}if(n){this._addItemClass(n,"Over");}this.current=n;},onMouseOut:function(e){for(var n=e.relatedTarget;n;){if(n==this.node){return;}try{n=n.parentNode;}catch(x){n=null;}}if(this.current){this._removeItemClass(this.current,"Over");this.current=null;}this._changeState("Container","");this.onOutEvent();},onSelectStart:function(e){if(!this.skipForm||!dnd.isFormElement(e)){_312.stop(e);}},onOverEvent:function(){},onOutEvent:function(){},_changeState:function(type,_320){var _321="dojoDnd"+type;var _322=type.toLowerCase()+"State";_314.replace(this.node,_321+_320,_321+this[_322]);this[_322]=_320;},_addItemClass:function(node,type){_314.add(node,"dojoDndItem"+type);},_removeItemClass:function(node,type){_314.remove(node,"dojoDndItem"+type);},_getChildByEvent:function(e){var node=e.target;if(node){for(var _323=node.parentNode;_323;node=_323,_323=node.parentNode){if((_323==this.parent||this.allowNested)&&_314.contains(node,"dojoDndItem")){return node;}}}return null;},_normalizedCreator:function(item,hint){var t=(this.creator||this.defaultCreator).call(this,item,hint);if(!lang.isArray(t.type)){t.type=["text"];}if(!t.node.id){t.node.id=dnd.getUniqueId();}_314.add(t.node,"dojoDndItem");return t;}});dnd._createNode=function(tag){if(!tag){return dnd._createSpan;}return function(text){return _315.create(tag,{innerHTML:text});};};dnd._createTrTd=function(text){var tr=_315.create("tr");_315.create("td",{innerHTML:text},tr);return tr;};dnd._createSpan=function(text){return _315.create("span",{innerHTML:text});};dnd._defaultCreatorNodes={ul:"li",ol:"li",div:"div",p:"div"};dnd._defaultCreator=function(node){var tag=node.tagName.toLowerCase();var c=tag=="tbody"||tag=="thead"?dnd._createTrTd:dnd._createNode(dnd._defaultCreatorNodes[tag]);return function(item,hint){var _324=item&&lang.isObject(item),data,type,n;if(_324&&item.tagName&&item.nodeType&&item.getAttribute){data=item.getAttribute("dndData")||item.innerHTML;type=item.getAttribute("dndType");type=type?type.split(/\s*,\s*/):["text"];n=item;}else{data=(_324&&item.data)?item.data:item;type=(_324&&item.type)?item.type:["text"];n=(hint=="avatar"?dnd._createSpan:c)(String(data));}if(!n.id){n.id=dnd.getUniqueId();}return {node:n,data:data,type:type};};};return _31a;});},"dojo/dnd/Manager":function(){define("dojo/dnd/Manager",["../_base/array","../_base/declare","../_base/event","../_base/lang","../_base/window","../dom-class","../Evented","../has","../keys","../on","../topic","../touch","./common","./autoscroll","./Avatar"],function(_325,_326,_327,lang,win,_328,_329,has,keys,on,_32a,_32b,dnd,_32c,_32d){var _32e=_326("dojo.dnd.Manager",[_329],{constructor:function(){this.avatar=null;this.source=null;this.nodes=[];this.copy=true;this.target=null;this.canDropFlag=false;this.events=[];},OFFSET_X:has("touch")?0:16,OFFSET_Y:has("touch")?-64:16,overSource:function(_32f){if(this.avatar){this.target=(_32f&&_32f.targetState!="Disabled")?_32f:null;this.canDropFlag=Boolean(this.target);this.avatar.update();}_32a.publish("/dnd/source/over",_32f);},outSource:function(_330){if(this.avatar){if(this.target==_330){this.target=null;this.canDropFlag=false;this.avatar.update();_32a.publish("/dnd/source/over",null);}}else{_32a.publish("/dnd/source/over",null);}},startDrag:function(_331,_332,copy){_32c.autoScrollStart(win.doc);this.source=_331;this.nodes=_332;this.copy=Boolean(copy);this.avatar=this.makeAvatar();win.body().appendChild(this.avatar.node);_32a.publish("/dnd/start",_331,_332,this.copy);this.events=[on(win.doc,_32b.move,lang.hitch(this,"onMouseMove")),on(win.doc,_32b.release,lang.hitch(this,"onMouseUp")),on(win.doc,"keydown",lang.hitch(this,"onKeyDown")),on(win.doc,"keyup",lang.hitch(this,"onKeyUp")),on(win.doc,"dragstart",_327.stop),on(win.body(),"selectstart",_327.stop)];var c="dojoDnd"+(copy?"Copy":"Move");_328.add(win.body(),c);},canDrop:function(flag){var _333=Boolean(this.target&&flag);if(this.canDropFlag!=_333){this.canDropFlag=_333;this.avatar.update();}},stopDrag:function(){_328.remove(win.body(),["dojoDndCopy","dojoDndMove"]);_325.forEach(this.events,function(_334){_334.remove();});this.events=[];this.avatar.destroy();this.avatar=null;this.source=this.target=null;this.nodes=[];},makeAvatar:function(){return new _32d(this);},updateAvatar:function(){this.avatar.update();},onMouseMove:function(e){var a=this.avatar;if(a){_32c.autoScrollNodes(e);var s=a.node.style;s.left=(e.pageX+this.OFFSET_X)+"px";s.top=(e.pageY+this.OFFSET_Y)+"px";var copy=Boolean(this.source.copyState(dnd.getCopyKeyState(e)));if(this.copy!=copy){this._setCopyStatus(copy);}}if(has("touch")){e.preventDefault();}},onMouseUp:function(e){if(this.avatar){if(this.target&&this.canDropFlag){var copy=Boolean(this.source.copyState(dnd.getCopyKeyState(e)));_32a.publish("/dnd/drop/before",this.source,this.nodes,copy,this.target,e);_32a.publish("/dnd/drop",this.source,this.nodes,copy,this.target,e);}else{_32a.publish("/dnd/cancel");}this.stopDrag();}},onKeyDown:function(e){if(this.avatar){switch(e.keyCode){case keys.CTRL:var copy=Boolean(this.source.copyState(true));if(this.copy!=copy){this._setCopyStatus(copy);}break;case keys.ESCAPE:_32a.publish("/dnd/cancel");this.stopDrag();break;}}},onKeyUp:function(e){if(this.avatar&&e.keyCode==keys.CTRL){var copy=Boolean(this.source.copyState(false));if(this.copy!=copy){this._setCopyStatus(copy);}}},_setCopyStatus:function(copy){this.copy=copy;this.source._markDndStatus(this.copy);this.updateAvatar();_328.replace(win.body(),"dojoDnd"+(this.copy?"Copy":"Move"),"dojoDnd"+(this.copy?"Move":"Copy"));}});dnd._manager=null;_32e.manager=dnd.manager=function(){if(!dnd._manager){dnd._manager=new _32e();}return dnd._manager;};return _32e;});},"dojo/dnd/autoscroll":function(){define("dojo/dnd/autoscroll",["../_base/lang","../sniff","../_base/window","../dom-geometry","../dom-style","../window"],function(lang,has,win,_335,_336,_337){var _338={};lang.setObject("dojo.dnd.autoscroll",_338);_338.getViewport=_337.getBox;_338.V_TRIGGER_AUTOSCROLL=32;_338.H_TRIGGER_AUTOSCROLL=32;_338.V_AUTOSCROLL_VALUE=16;_338.H_AUTOSCROLL_VALUE=16;var _339,doc=win.doc,_33a=Infinity,_33b=Infinity;_338.autoScrollStart=function(d){doc=d;_339=_337.getBox(doc);var html=win.body(doc).parentNode;_33a=Math.max(html.scrollHeight-_339.h,0);_33b=Math.max(html.scrollWidth-_339.w,0);};_338.autoScroll=function(e){var v=_339||_337.getBox(doc),html=win.body(doc).parentNode,dx=0,dy=0;if(e.clientX<_338.H_TRIGGER_AUTOSCROLL){dx=-_338.H_AUTOSCROLL_VALUE;}else{if(e.clientX>v.w-_338.H_TRIGGER_AUTOSCROLL){dx=Math.min(_338.H_AUTOSCROLL_VALUE,_33b-html.scrollLeft);}}if(e.clientY<_338.V_TRIGGER_AUTOSCROLL){dy=-_338.V_AUTOSCROLL_VALUE;}else{if(e.clientY>v.h-_338.V_TRIGGER_AUTOSCROLL){dy=Math.min(_338.V_AUTOSCROLL_VALUE,_33a-html.scrollTop);}}window.scrollBy(dx,dy);};_338._validNodes={"div":1,"p":1,"td":1};_338._validOverflow={"auto":1,"scroll":1};_338.autoScrollNodes=function(e){var b,t,w,h,rx,ry,dx=0,dy=0,_33c,_33d;for(var n=e.target;n;){if(n.nodeType==1&&(n.tagName.toLowerCase() in _338._validNodes)){var s=_336.getComputedStyle(n),_33e=(s.overflow.toLowerCase() in _338._validOverflow),_33f=(s.overflowX.toLowerCase() in _338._validOverflow),_340=(s.overflowY.toLowerCase() in _338._validOverflow);if(_33e||_33f||_340){b=_335.getContentBox(n,s);t=_335.position(n,true);}if(_33e||_33f){w=Math.min(_338.H_TRIGGER_AUTOSCROLL,b.w/2);rx=e.pageX-t.x;if(has("webkit")||has("opera")){rx+=win.body().scrollLeft;}dx=0;if(rx>0&&rx<b.w){if(rx<w){dx=-w;}else{if(rx>b.w-w){dx=w;}}_33c=n.scrollLeft;n.scrollLeft=n.scrollLeft+dx;}}if(_33e||_340){h=Math.min(_338.V_TRIGGER_AUTOSCROLL,b.h/2);ry=e.pageY-t.y;if(has("webkit")||has("opera")){ry+=win.body().scrollTop;}dy=0;if(ry>0&&ry<b.h){if(ry<h){dy=-h;}else{if(ry>b.h-h){dy=h;}}_33d=n.scrollTop;n.scrollTop=n.scrollTop+dy;}}if(dx||dy){return;}}try{n=n.parentNode;}catch(x){n=null;}}_338.autoScroll(e);};return _338;});},"dojo/dnd/Avatar":function(){define("dojo/dnd/Avatar",["../_base/declare","../_base/window","../dom","../dom-attr","../dom-class","../dom-construct","../hccss","../query"],function(_341,win,dom,_342,_343,_344,has,_345){return _341("dojo.dnd.Avatar",null,{constructor:function(_346){this.manager=_346;this.construct();},construct:function(){var a=_344.create("table",{"class":"dojoDndAvatar",style:{position:"absolute",zIndex:"1999",margin:"0px"}}),_347=this.manager.source,node,b=_344.create("tbody",null,a),tr=_344.create("tr",null,b),td=_344.create("td",null,tr),k=Math.min(5,this.manager.nodes.length),i=0;if(has("highcontrast")){_344.create("span",{id:"a11yIcon",innerHTML:this.manager.copy?"+":"<"},td);}_344.create("span",{innerHTML:_347.generateText?this._generateText():""},td);_342.set(tr,{"class":"dojoDndAvatarHeader",style:{opacity:0.9}});for(;i<k;++i){if(_347.creator){node=_347._normalizedCreator(_347.getItem(this.manager.nodes[i].id).data,"avatar").node;}else{node=this.manager.nodes[i].cloneNode(true);if(node.tagName.toLowerCase()=="tr"){var _348=_344.create("table"),_349=_344.create("tbody",null,_348);_349.appendChild(node);node=_348;}}node.id="";tr=_344.create("tr",null,b);td=_344.create("td",null,tr);td.appendChild(node);_342.set(tr,{"class":"dojoDndAvatarItem",style:{opacity:(9-i)/10}});}this.node=a;},destroy:function(){_344.destroy(this.node);this.node=false;},update:function(){_343.toggle(this.node,"dojoDndAvatarCanDrop",this.manager.canDropFlag);if(has("highcontrast")){var icon=dom.byId("a11yIcon");var text="+";if(this.manager.canDropFlag&&!this.manager.copy){text="< ";}else{if(!this.manager.canDropFlag&&!this.manager.copy){text="o";}else{if(!this.manager.canDropFlag){text="x";}}}icon.innerHTML=text;}_345(("tr.dojoDndAvatarHeader td span"+(has("highcontrast")?" span":"")),this.node).forEach(function(node){node.innerHTML=this.manager.source.generateText?this._generateText():"";},this);},_generateText:function(){return this.manager.nodes.length.toString();}});});},"dojo/dnd/Target":function(){define("dojo/dnd/Target",["../_base/declare","../dom-class","./Source"],function(_34a,_34b,_34c){return _34a("dojo.dnd.Target",_34c,{constructor:function(){this.isSource=false;_34b.remove(this.node,"dojoDndSource");}});});},"dojo/fx/Toggler":function(){define("dojo/fx/Toggler",["../_base/lang","../_base/declare","../_base/fx","../_base/connect"],function(lang,_34d,_34e,_34f){return _34d("dojo.fx.Toggler",null,{node:null,showFunc:_34e.fadeIn,hideFunc:_34e.fadeOut,showDuration:200,hideDuration:200,constructor:function(args){var _350=this;lang.mixin(_350,args);_350.node=args.node;_350._showArgs=lang.mixin({},args);_350._showArgs.node=_350.node;_350._showArgs.duration=_350.showDuration;_350.showAnim=_350.showFunc(_350._showArgs);_350._hideArgs=lang.mixin({},args);_350._hideArgs.node=_350.node;_350._hideArgs.duration=_350.hideDuration;_350.hideAnim=_350.hideFunc(_350._hideArgs);_34f.connect(_350.showAnim,"beforeBegin",lang.hitch(_350.hideAnim,"stop",true));_34f.connect(_350.hideAnim,"beforeBegin",lang.hitch(_350.showAnim,"stop",true));},show:function(_351){return this.showAnim.play(_351||0);},hide:function(_352){return this.hideAnim.play(_352||0);}});});},"dojox/form/Uploader":function(){require({cache:{"url:dojox/form/resources/Uploader.html":"<span class=\"dijit dijitReset dijitInline\"\n\t><span class=\"dijitReset dijitInline dijitButtonNode\"\n\t\tdojoAttachEvent=\"ondijitclick:_onClick\"\n\t\t><span class=\"dijitReset dijitStretch dijitButtonContents\"\n\t\t\tdojoAttachPoint=\"titleNode,focusNode\"\n\t\t\trole=\"button\" aria-labelledby=\"${id}_label\"\n\t\t\t><span class=\"dijitReset dijitInline dijitIcon\" dojoAttachPoint=\"iconNode\"></span\n\t\t\t><span class=\"dijitReset dijitToggleButtonIconChar\">&#x25CF;</span\n\t\t\t><span class=\"dijitReset dijitInline dijitButtonText\"\n\t\t\t\tid=\"${id}_label\"\n\t\t\t\tdojoAttachPoint=\"containerNode\"\n\t\t\t></span\n\t\t></span\n\t></span\n\t><!--no need to have this for Uploader \n\t<input ${!nameAttrSetting} type=\"${type}\" value=\"${value}\" class=\"dijitOffScreen\" tabIndex=\"-1\"\n\t\tdojoAttachPoint=\"valueNode\"\n/--></span>\n"}});define("dojox/form/Uploader",["dojo/_base/kernel","dojo/_base/declare","dojo/_base/lang","dojo/_base/array","dojo/_base/connect","dojo/_base/window","dojo/dom-style","dojo/dom-geometry","dojo/dom-attr","dojo/dom-construct","dojo/dom-form","dijit","dijit/form/Button","dojox/form/uploader/Base","dojo/i18n!./nls/Uploader","dojo/text!./resources/Uploader.html"],function(_353,_354,lang,_355,_356,win,_357,_358,_359,_35a,_35b,_35c,_35d,_35e,res,_35f){_353.experimental("dojox.form.Uploader");_354("dojox.form.Uploader",[_35e,_35d],{uploadOnSelect:false,tabIndex:0,multiple:false,label:res.label,url:"",name:"uploadedfile",flashFieldName:"",uploadType:"form",showInput:"",_nameIndex:0,templateString:_35f,baseClass:"dijitUploader "+_35d.prototype.baseClass,postMixInProperties:function(){this._inputs=[];this._cons=[];this.inherited(arguments);},buildRendering:function(){this.inherited(arguments);_357.set(this.domNode,{overflow:"hidden",position:"relative"});this._buildDisplay();_359.set(this.titleNode,"tabIndex",-1);},_buildDisplay:function(){if(this.showInput){this.displayInput=dojo.create("input",{"class":"dijitUploadDisplayInput","tabIndex":-1,"autocomplete":"off"},this.containerNode,this.showInput);this._attachPoints.push("displayInput");this.connect(this,"onChange",function(_360){var i=0,l=_360.length,f,r=[];while((f=_360[i++])){if(f&&f.name){r.push(f.name);}}this.displayInput.value=r.join(", ");});this.connect(this,"reset",function(){this.displayInput.value="";});}},startup:function(){if(this._buildInitialized){return;}this._buildInitialized=true;this._getButtonStyle(this.domNode);this._setButtonStyle();this.inherited(arguments);},onChange:function(_361){},onBegin:function(_362){},onProgress:function(_363){},onComplete:function(_364){this.reset();},onCancel:function(){},onAbort:function(){},onError:function(_365){},upload:function(_366){},submit:function(form){form=!!form?form.tagName?form:this.getForm():this.getForm();var data=_35b.toObject(form);this.upload(data);},reset:function(){delete this._files;this._disconnectButton();_355.forEach(this._inputs,_35a.destroy,dojo);this._inputs=[];this._nameIndex=0;this._createInput();},getFileList:function(){var _367=[];if(this.supports("multiple")){_355.forEach(this._files,function(f,i){_367.push({index:i,name:f.name,size:f.size,type:f.type});},this);}else{_355.forEach(this._inputs,function(n,i){if(n.value){_367.push({index:i,name:n.value.substring(n.value.lastIndexOf("\\")+1),size:0,type:n.value.substring(n.value.lastIndexOf(".")+1)});}},this);}return _367;},_getValueAttr:function(){return this.getFileList();},_setValueAttr:function(_368){console.error("Uploader value is read only");},_setDisabledAttr:function(_369){if(this.disabled==_369||!this.inputNode){return;}this.inherited(arguments);_357.set(this.inputNode,"display",_369?"none":"");},_getButtonStyle:function(node){this.btnSize={w:_357.get(node,"width"),h:_357.get(node,"height")};},_setButtonStyle:function(){this.inputNodeFontSize=Math.max(2,Math.max(Math.ceil(this.btnSize.w/60),Math.ceil(this.btnSize.h/15)));this._createInput();},_getFileFieldName:function(){var name;if(this.multiple&&this.supports("multiple")){name=this.name+"s[]";}else{name=this.name+(this.multiple?this._nameIndex:"");}return name;},_createInput:function(){if(this._inputs.length){_357.set(this.inputNode,{top:"500px"});this._disconnectButton();this._nameIndex++;}var name=this._getFileFieldName();this.focusNode=this.inputNode=_35a.create("input",{type:"file",name:name},this.domNode,"first");if(this.supports("multiple")&&this.multiple){_359.set(this.inputNode,"multiple",true);}this._inputs.push(this.inputNode);_357.set(this.inputNode,{position:"absolute",fontSize:this.inputNodeFontSize+"em",top:"-3px",right:"-3px",opacity:0});this._connectButton();},_connectButton:function(){this._cons.push(_356.connect(this.inputNode,"change",this,function(evt){this._files=this.inputNode.files;this.onChange(this.getFileList(evt));if(!this.supports("multiple")&&this.multiple){this._createInput();}}));if(this.tabIndex>-1){this.inputNode.tabIndex=this.tabIndex;this._cons.push(_356.connect(this.inputNode,"focus",this,function(){this.titleNode.style.outline="1px dashed #ccc";}));this._cons.push(_356.connect(this.inputNode,"blur",this,function(){this.titleNode.style.outline="";}));}},_disconnectButton:function(){_355.forEach(this._cons,_356.disconnect);this._cons.splice(0,this._cons.length);}});dojox.form.UploaderOrg=dojox.form.Uploader;var _36a=[dojox.form.UploaderOrg];dojox.form.addUploaderPlugin=function(plug){_36a.push(plug);_354("dojox.form.Uploader",_36a,{});};return dojox.form.Uploader;});},"dijit/form/Button":function(){require({cache:{"url:dijit/form/templates/Button.html":"<span class=\"dijit dijitReset dijitInline\" role=\"presentation\"\n\t><span class=\"dijitReset dijitInline dijitButtonNode\"\n\t\tdata-dojo-attach-event=\"ondijitclick:_onClick\" role=\"presentation\"\n\t\t><span class=\"dijitReset dijitStretch dijitButtonContents\"\n\t\t\tdata-dojo-attach-point=\"titleNode,focusNode\"\n\t\t\trole=\"button\" aria-labelledby=\"${id}_label\"\n\t\t\t><span class=\"dijitReset dijitInline dijitIcon\" data-dojo-attach-point=\"iconNode\"></span\n\t\t\t><span class=\"dijitReset dijitToggleButtonIconChar\">&#x25CF;</span\n\t\t\t><span class=\"dijitReset dijitInline dijitButtonText\"\n\t\t\t\tid=\"${id}_label\"\n\t\t\t\tdata-dojo-attach-point=\"containerNode\"\n\t\t\t></span\n\t\t></span\n\t></span\n\t><input ${!nameAttrSetting} type=\"${type}\" value=\"${value}\" class=\"dijitOffScreen\"\n\t\ttabIndex=\"-1\" role=\"presentation\" data-dojo-attach-point=\"valueNode\"\n/></span>\n"}});define("dijit/form/Button",["require","dojo/_base/declare","dojo/dom-class","dojo/has","dojo/_base/kernel","dojo/_base/lang","dojo/ready","./_FormWidget","./_ButtonMixin","dojo/text!./templates/Button.html"],function(_36b,_36c,_36d,has,_36e,lang,_36f,_370,_371,_372){if(has("dijit-legacy-requires")){_36f(0,function(){var _373=["dijit/form/DropDownButton","dijit/form/ComboButton","dijit/form/ToggleButton"];_36b(_373);});}return _36c("dijit.form.Button",[_370,_371],{showLabel:true,iconClass:"dijitNoIcon",_setIconClassAttr:{node:"iconNode",type:"class"},baseClass:"dijitButton",templateString:_372,_setValueAttr:"valueNode",_onClick:function(e){var ok=this.inherited(arguments);if(ok){if(this.valueNode){this.valueNode.click();e.preventDefault();e.stopPropagation();}}return ok;},_fillContent:function(_374){if(_374&&(!this.params||!("label" in this.params))){var _375=lang.trim(_374.innerHTML);if(_375){this.label=_375;}}},_setShowLabelAttr:function(val){if(this.containerNode){_36d.toggle(this.containerNode,"dijitDisplayNone",!val);}this._set("showLabel",val);},setLabel:function(_376){_36e.deprecated("dijit.form.Button.setLabel() is deprecated.  Use set('label', ...) instead.","","2.0");this.set("label",_376);},_setLabelAttr:function(_377){this.inherited(arguments);if(!this.showLabel&&!("title" in this.params)){this.titleNode.title=lang.trim(this.containerNode.innerText||this.containerNode.textContent||"");}}});});},"dijit/form/_ButtonMixin":function(){define("dijit/form/_ButtonMixin",["dojo/_base/declare","dojo/dom","dojo/_base/event","../registry"],function(_378,dom,_379,_37a){return _378("dijit.form._ButtonMixin",null,{label:"",type:"button",_onClick:function(e){if(this.disabled){_379.stop(e);return false;}var _37b=this.onClick(e)===false;if(!_37b&&this.type=="submit"&&!(this.valueNode||this.focusNode).form){for(var node=this.domNode;node.parentNode;node=node.parentNode){var _37c=_37a.byNode(node);if(_37c&&typeof _37c._onSubmit=="function"){_37c._onSubmit(e);_37b=true;break;}}}if(_37b){e.preventDefault();}return !_37b;},postCreate:function(){this.inherited(arguments);dom.setSelectable(this.focusNode,false);},onClick:function(){return true;},_setLabelAttr:function(_37d){this._set("label",_37d);(this.containerNode||this.focusNode).innerHTML=_37d;}});});},"url:dijit/form/templates/Button.html":"<span class=\"dijit dijitReset dijitInline\" role=\"presentation\"\n\t><span class=\"dijitReset dijitInline dijitButtonNode\"\n\t\tdata-dojo-attach-event=\"ondijitclick:_onClick\" role=\"presentation\"\n\t\t><span class=\"dijitReset dijitStretch dijitButtonContents\"\n\t\t\tdata-dojo-attach-point=\"titleNode,focusNode\"\n\t\t\trole=\"button\" aria-labelledby=\"${id}_label\"\n\t\t\t><span class=\"dijitReset dijitInline dijitIcon\" data-dojo-attach-point=\"iconNode\"></span\n\t\t\t><span class=\"dijitReset dijitToggleButtonIconChar\">&#x25CF;</span\n\t\t\t><span class=\"dijitReset dijitInline dijitButtonText\"\n\t\t\t\tid=\"${id}_label\"\n\t\t\t\tdata-dojo-attach-point=\"containerNode\"\n\t\t\t></span\n\t\t></span\n\t></span\n\t><input ${!nameAttrSetting} type=\"${type}\" value=\"${value}\" class=\"dijitOffScreen\"\n\t\ttabIndex=\"-1\" role=\"presentation\" data-dojo-attach-point=\"valueNode\"\n/></span>\n","dojox/form/uploader/Base":function(){define("dojox/form/uploader/Base",["dojo/dom-form","dojo/dom-style","dojo/dom-construct","dojo/dom-attr","dojo/has","dojo/_base/declare","dojo/_base/event","dijit/_Widget","dijit/_TemplatedMixin","dijit/_WidgetsInTemplateMixin"],function(_37e,_37f,_380,_381,has,_382,_383,_384,_385,_386){has.add("FormData",function(){return !!window.FormData;});has.add("xhr-sendAsBinary",function(){var xhr=window.XMLHttpRequest&&new window.XMLHttpRequest();return xhr&&!!xhr.sendAsBinary;});has.add("file-multiple",function(){return !!({"true":1,"false":1}[_381.get(document.createElement("input",{type:"file"}),"multiple")]);});return _382("dojox.form.uploader.Base",[_384,_385,_386],{getForm:function(){if(!this.form){var n=this.domNode;while(n&&n.tagName&&n!==document.body){if(n.tagName.toLowerCase()=="form"){this.form=n;break;}n=n.parentNode;}}return this.form;},getUrl:function(){if(this.uploadUrl){this.url=this.uploadUrl;}if(this.url){return this.url;}if(this.getForm()){this.url=this.form.action;}return this.url;},connectForm:function(){this.url=this.getUrl();if(!this._fcon&&!!this.getForm()){this._fcon=true;this.connect(this.form,"onsubmit",function(evt){_383.stop(evt);this.submit(this.form);});}},supports:function(what){switch(what){case "multiple":if(this.force=="flash"||this.force=="iframe"){return false;}return has("file-multiple");case "FormData":return has(what);case "sendAsBinary":return has("xhr-sendAsBinary");}return false;},getMimeType:function(){return "application/octet-stream";},getFileType:function(name){return name.substring(name.lastIndexOf(".")+1).toUpperCase();},convertBytes:function(_387){var kb=Math.round(_387/1024*100000)/100000;var mb=Math.round(_387/1048576*100000)/100000;var gb=Math.round(_387/1073741824*100000)/100000;var _388=_387;if(kb>1){_388=kb.toFixed(1)+" kb";}if(mb>1){_388=mb.toFixed(1)+" mb";}if(gb>1){_388=gb.toFixed(1)+" gb";}return {kb:kb,mb:mb,gb:gb,bytes:_387,value:_388};}});});},"dijit/_WidgetsInTemplateMixin":function(){define("dijit/_WidgetsInTemplateMixin",["dojo/_base/array","dojo/_base/declare","dojo/parser"],function(_389,_38a,_38b){return _38a("dijit._WidgetsInTemplateMixin",null,{_earlyTemplatedStartup:false,widgetsInTemplate:true,_beforeFillContent:function(){if(this.widgetsInTemplate){var node=this.domNode;var cw=(this._startupWidgets=_38b.parse(node,{noStart:!this._earlyTemplatedStartup,template:true,inherited:{dir:this.dir,lang:this.lang,textDir:this.textDir},propsThis:this,scope:"dojo"}));if(!cw.isFulfilled()){throw new Error(this.declaredClass+": parser returned unfilled promise (probably waiting for module auto-load), "+"unsupported by _WidgetsInTemplateMixin.   Must pre-load all supporting widgets before instantiation.");}this._attachTemplateNodes(cw,function(n,p){return n[p];});}},startup:function(){_389.forEach(this._startupWidgets,function(w){if(w&&!w._started&&w.startup){w.startup();}});this.inherited(arguments);}});});},"url:dojox/form/resources/Uploader.html":"<span class=\"dijit dijitReset dijitInline\"\n\t><span class=\"dijitReset dijitInline dijitButtonNode\"\n\t\tdojoAttachEvent=\"ondijitclick:_onClick\"\n\t\t><span class=\"dijitReset dijitStretch dijitButtonContents\"\n\t\t\tdojoAttachPoint=\"titleNode,focusNode\"\n\t\t\trole=\"button\" aria-labelledby=\"${id}_label\"\n\t\t\t><span class=\"dijitReset dijitInline dijitIcon\" dojoAttachPoint=\"iconNode\"></span\n\t\t\t><span class=\"dijitReset dijitToggleButtonIconChar\">&#x25CF;</span\n\t\t\t><span class=\"dijitReset dijitInline dijitButtonText\"\n\t\t\t\tid=\"${id}_label\"\n\t\t\t\tdojoAttachPoint=\"containerNode\"\n\t\t\t></span\n\t\t></span\n\t></span\n\t><!--no need to have this for Uploader \n\t<input ${!nameAttrSetting} type=\"${type}\" value=\"${value}\" class=\"dijitOffScreen\" tabIndex=\"-1\"\n\t\tdojoAttachPoint=\"valueNode\"\n/--></span>\n","dojox/form/uploader/plugins/HTML5":function(){define("dojox/form/uploader/plugins/HTML5",["dojo/_base/declare","dojo/_base/lang","dojo/_base/array","dojo"],function(_38c,lang,_38d,dojo){var _38e=_38c("dojox.form.uploader.plugins.HTML5",[],{errMsg:"Error uploading files. Try checking permissions",uploadType:"html5",postCreate:function(){this.connectForm();this.inherited(arguments);if(this.uploadOnSelect){this.connect(this,"onChange",function(data){this.upload(data[0]);});}},_drop:function(e){dojo.stopEvent(e);var dt=e.dataTransfer;this._files=dt.files;this.onChange(this.getFileList());},upload:function(_38f){this.onBegin(this.getFileList());if(this.supports("FormData")){this.uploadWithFormData(_38f);}else{if(this.supports("sendAsBinary")){this.sendAsBinary(_38f);}}},addDropTarget:function(node,_390){if(!_390){this.connect(node,"dragenter",dojo.stopEvent);this.connect(node,"dragover",dojo.stopEvent);this.connect(node,"dragleave",dojo.stopEvent);}this.connect(node,"drop","_drop");},sendAsBinary:function(data){if(!this.getUrl()){console.error("No upload url found.",this);return;}var _391="---------------------------"+(new Date).getTime();var xhr=this.createXhr();xhr.setRequestHeader("Content-Type","multipart/form-data; boundary="+_391);var msg=this._buildRequestBody(data,_391);if(!msg){this.onError(this.errMsg);}else{xhr.sendAsBinary(msg);}},uploadWithFormData:function(data){if(!this.getUrl()){console.error("No upload url found.",this);return;}var fd=new FormData(),_392=this._getFileFieldName();_38d.forEach(this._files,function(f,i){fd.append(_392,f);},this);if(data){for(var nm in data){fd.append(nm,data[nm]);}}var xhr=this.createXhr();xhr.send(fd);},_xhrProgress:function(evt){if(evt.lengthComputable){var o={bytesLoaded:evt.loaded,bytesTotal:evt.total,type:evt.type,timeStamp:evt.timeStamp};if(evt.type=="load"){o.percent="100%";o.decimal=1;}else{o.decimal=evt.loaded/evt.total;o.percent=Math.ceil((evt.loaded/evt.total)*100)+"%";}this.onProgress(o);}},createXhr:function(){var xhr=new XMLHttpRequest();var _393;xhr.upload.addEventListener("progress",lang.hitch(this,"_xhrProgress"),false);xhr.addEventListener("load",lang.hitch(this,"_xhrProgress"),false);xhr.addEventListener("error",lang.hitch(this,function(evt){this.onError(evt);clearInterval(_393);}),false);xhr.addEventListener("abort",lang.hitch(this,function(evt){this.onAbort(evt);clearInterval(_393);}),false);xhr.onreadystatechange=lang.hitch(this,function(){if(xhr.readyState===4){clearInterval(_393);this.onComplete(JSON.parse(xhr.responseText.replace(/^\{\}&&/,"")));}});xhr.open("POST",this.getUrl());_393=setInterval(lang.hitch(this,function(){try{if(typeof (xhr.statusText)){}}catch(e){clearInterval(_393);}}),250);return xhr;},_buildRequestBody:function(data,_394){var EOL="\r\n";var part="";_394="--"+_394;var _395=[],_396=this._files,_397=this._getFileFieldName();_38d.forEach(_396,function(f,i){var _398=f.fileName;var _399;try{_399=f.getAsBinary()+EOL;part+=_394+EOL;part+="Content-Disposition: form-data; ";part+="name=\""+_397+"\"; ";part+="filename=\""+_398+"\""+EOL;part+="Content-Type: "+this.getMimeType()+EOL+EOL;part+=_399;}catch(e){_395.push({index:i,name:_398});}},this);if(_395.length){if(_395.length>=_396.length){this.onError({message:this.errMsg,filesInError:_395});part=false;}}if(!part){return false;}if(data){for(var nm in data){part+=_394+EOL;part+="Content-Disposition: form-data; ";part+="name=\""+nm+"\""+EOL+EOL;part+=data[nm]+EOL;}}part+=_394+"--"+EOL;return part;}});dojox.form.addUploaderPlugin(_38e);return _38e;});},"epi/shell/component/IFrameContextComponent":function(){define(["dojo","dijit","epi/shell/widget/Iframe","epi/shell/_ContextMixin"],function(dojo,_39a,_39b,_39c){return dojo.declare([_39b,_39c],{reloadOnContextChange:true,keepUrlOnContextChange:false,postCreate:function(){dojo.when(this.getCurrentContext(),dojo.hitch(this,function(_39d){this.contextChanged(_39d);}));if(!this.reloadOnContextChange){this.load(this.get("urlTemplate"));}},_constructQuery:function(_39e){return {uri:_39e.uri,id:_39e.id||""};},contextChanged:function(_39f,_3a0){this.inherited(arguments);if(this.reloadOnContextChange){if(this.keepUrlOnContextChange){var url=this.get("url");if(url=="about:blank"){url=this.get("urlTemplate");}this.load(url,{query:this._constructQuery(_39f)},true);}else{this.load(this.get("urlTemplate"),{query:this._constructQuery(_39f)},true);}}}});});},"epi/shell/widget/Iframe":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/dom","dojo/dom-style","dojo/Deferred","dojo/io-query","dojo/on","dojo/sniff","dijit/_TemplatedMixin","dijit/_Widget","dijit/focus","epi","epi/Url","epi/shell/postMessage"],function(_3a1,lang,dom,_3a2,_3a3,_3a4,on,_3a5,_3a6,_3a7,_3a8,epi,Url,_3a9){return _3a1([_3a7,_3a6],{url:"about:blank",_triggeredExternally:false,templateString:"<iframe data-dojo-attach-point=\"iframe\" class=\"dijitReset\" src=\"${url}\" role=\"presentation\" frameborder=\"0\" style=\"width:100%;\"></iframe>",minHeight:10,maxHeight:Infinity,autoFit:false,visible:true,isLoading:false,_isInspectable:null,_loadDeferred:null,onLoading:function(url){this._set("isLoading",true);},onUnload:function(url){this._set("isLoading",true);},onLoad:function(url,_3aa){this._set("isLoading",false);},buildRendering:function(){this.inherited(arguments);dom.setSelectable(this.domNode,false);var _3ab=function(_3ac){return typeof _3ac=="number"&&isFinite(_3ac);};_3a2.set(this.domNode,"minHeight",_3ab(this.minHeight)?this.minHeight+"px":"none");_3a2.set(this.domNode,"maxHeight",_3ab(this.maxHeight)?this.maxHeight+"px":"none");this.own(on(this.iframe,"load",lang.hitch(this,this._onIframeLoad)),_3a9.subscribe("/site/load",lang.hitch(this,function(_3ad){if(!this.isInspectable(true)){this._set("url",_3ad.url);this.onLoad(this.url,this._triggeredExternally);}})));},resize:function(size){if(this.autoFit){return;}if(size){_3a2.set(this.iframe,{width:size.w+"px",height:size.h+"px"});}},getDocument:function(){if(!this.isInspectable()){return null;}try{return this.iframe.contentWindow?this.iframe.contentWindow.document:null;}catch(ex){return null;}},getWindow:function(){return this.iframe.contentWindow;},_setVisibleAttr:function(_3ae){_3a2.set(this.domNode,"display",_3ae?"block":"none");},_onIframeLoad:function(_3af){var url=null,_3b0,_3b1;function _3b2(e){_3b1.remove();this.set("_isInspectable",false);if(this._focusHandle){this._focusHandle.remove();this._focusHandle=null;}if(this._mousedownHandle){this._mousedownHandle.remove();this._mousedownHandle=null;}this.onUnload(this.url);};if(this.isInspectable(true)){url=this.getLocation().href;this._focusHandle=_3a8.registerIframe(this.iframe);this._mousedownHandle=this.connect(this.getDocument(),"onmousedown",function(){on.emit(this.domNode,"mousedown",{bubbles:true,cancelable:true});});_3b0=this.getWindow();_3b1=on(_3b0,"unload",lang.hitch(this,_3b2));}this._set("url",url);if(url!=="about:blank"){if(this._loadDeferred){this._loadDeferred.resolve();this._loadDeferred=null;}this.onLoad(this.url,this._triggeredExternally);}this._triggeredExternally=false;if(this.autoFit){this._adjustSize(this._calculateActualSize());}},isInspectable:function(_3b3){if(!_3b3&&this._isInspectable!==null){return this._isInspectable;}try{return this._isInspectable=!!this.getLocation().href;}catch(ex){}return this._isInspectable=false;},load:function(url,_3b4,_3b5,_3b6){if(this._loadDeferred){this._loadDeferred.cancel();}var _3b7=new _3a3();if(!url){_3b7.cancel();return _3b7.promise;}var _3b8=new Url(this.url),_3b9=new Url(url,_3b4,_3b5);if(!_3b6&&_3b9.path===_3b8.path&&epi.areEqual(_3b9.query,_3b8.query)){_3b7.resolve();}else{this._loadDeferred=_3b7;this.set("url",_3b9.toString());}return _3b7.promise;},reload:function(){return this.load(this.get("url"),null,null,true);},getCurrentQuery:function(){return _3a4.queryToObject(this.getWindow().location.search.substring(1));},getLocation:function(){return this.getWindow().location;},_getUrlAttr:function(){return this.url;},_setUrlAttr:function(url){this._triggeredExternally=true;this.onLoading(url);if(this.iframe.contentWindow){this.iframe.contentWindow.location.replace(url);}else{this.iframe.src=url;}this._set("url",url);},_calculateActualSize:function(){var doc=this.getDocument();function _3ba(dir){if(doc&&doc.body&&doc.documentElement){return Math.max(doc.documentElement["client"+dir],doc.documentElement["scroll"+dir],doc.documentElement["offset"+dir],doc.body["scroll"+dir],doc.body["offset"+dir]);}return 0;};return {h:_3ba("Height"),w:_3ba("Width")};},_adjustSize:function(size){_3a2.set(this.iframe,"height",size.h+"px");_3a2.set(this.getWindow().document.body,"height","auto");}});});},"epi/Url":function(){define("epi/Url",["dojo","dojo/io-query"],function(dojo,_3bb){return dojo.declare(null,{scheme:null,authority:null,path:null,query:null,fragment:null,constructor:function(url,_3bc,_3bd){dojo.mixin(this,_3bc);if(url&&url!=""){this._extractParameters(url,_3bd);}},_extractParameters:function(url,_3be){var ore=new RegExp("^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?$");var r=url.match(ore);if(!this.scheme){this.scheme=r[2]||(r[1]?"":null);}if(!this.authority){this.authority=r[4]||(r[3]?"":null);}if(!this.path){this.path=r[5];}var _3bf=r[7]||(r[6]?"":null);if(_3bf&&_3bf!==""){var _3c0=_3bb.queryToObject(_3bf);if(_3be){this.query=dojo.mixin(_3c0,this.query);}else{if(!this.query){this.query=_3c0;}}}else{if(!this.query){this.query={};}}if(!this.fragment){this.fragment=r[9]||(r[8]?"":null);}},getQueryParameterValue:function(_3c1){return this.query?this.query[_3c1]:null;},toString:function(){var url=[];if(this.scheme){url.push(this.scheme);if(this.scheme.lastIndexOf(":")!=this.scheme.length-1){url.push(":");}}if(this.authority){url.push("//",this.authority);}url.push(this.path);if(this.query){var _3c2=_3bb.objectToQuery(this.query);if(_3c2!==""){url.push("?",_3c2);}}if(this.fragment){url.push("#",this.fragment);}return url.join("");}});});},"epi/shell/postMessage":function(){define("epi/shell/postMessage",["dojo/Evented","dojo/on"],function(_3c3,on){var hub=new _3c3(),_3c4,_3c5,_3c6={setContext:function(ctx){_3c5=ctx;_3c7();},publish:function(_3c8,_3c9){var i=0,_3ca=_3cb().frames;for(;i<_3ca.length;i++){_3ca[i].postMessage({id:_3c8,data:_3c9},"*");}},subscribe:function(_3cc,_3cd){return hub.on.apply(hub,arguments);}};function _3cb(){return _3c5||window.top;};function _3c7(){_3c4&&_3c4.remove();_3c4=on(_3cb(),"message",function(evt){var data=evt.data;data&&data.id&&hub.emit.apply(hub,[data.id,data.message]);},false);};_3c7();return _3c6;});},"epi/shell/_ContextMixin":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/Deferred","dojo/topic","dijit/Destroyable"],function(_3ce,lang,_3cf,_3d0,_3d1){return _3ce([_3d1],{_currentContext:null,_waitingForContext:null,constructor:function(_3d2){this.own(_3d0.subscribe("/epi/shell/context/changed",lang.hitch(this,this._contextChanged)),_3d0.subscribe("/epi/shell/context/updated",lang.hitch(this,function(ctx,_3d3){this._currentContext=ctx;this.contextUpdated(ctx,_3d3);})),_3d0.subscribe("/epi/shell/context/requestfailed",lang.hitch(this,"contextChangeFailed")));var _3d4=this.own(_3d0.subscribe("/epi/shell/context/current",lang.hitch(this,function(ctx,_3d5){if(this._currentContext||!_3d5||_3d5.sender!==this){return;}_3d4.remove();this._initialContextChanged(ctx,_3d5);})))[0];_3d0.publish("/epi/shell/context/requestcurrent",{sender:this});},getCurrentContext:function(){if(this._currentContext!=null){return this._currentContext;}if(!this._waitingForContext){this._waitingForContext=new _3cf();}return this._waitingForContext.promise;},contextChanged:function(ctx,_3d6){},contextUpdated:function(ctx,_3d7){},contextChangeFailed:function(ctx,_3d8){},_contextChanged:function(_3d9,_3da){if(!this._currentContext){this._initialContextChanged(_3d9,_3da);}this._currentContext=_3d9;this.contextChanged(_3d9,_3da);},_initialContextChanged:function(_3db,_3dc){this._currentContext=_3db;if(this._waitingForContext){this._waitingForContext.resolve(_3db);delete this._waitingForContext;}}});});},"epi/shell/ContextService":function(){define("epi/shell/ContextService",["dojo","dojo/_base/array","dojo/_base/declare","dojo/_base/lang","dojo/DeferredList","dojo/topic","epi/dependency","epi/shell/widget/dialog/Confirmation","epi/UriParser","epi/i18n!epi/shell/ui/nls/EPiServer.Shell.UI.Resources.ContextService"],function(dojo,_3dd,_3de,lang,_3df,_3e0,_3e1,_3e2,_3e3,res){return _3de([],{currentContext:null,_contextStore:null,_listeners:[],_profile:null,_routes:{},res:res,_requestQueue:null,_requestInterceptors:null,constructor:function(_3e4,_3e5){this._contextStore=_3e4;if(_3e5===undefined){this._profile=_3e1.resolve("epi.shell.Profile");}this._requestInterceptors=[];this._requestQueue=[];this._initialize();},destroy:function(){if(this._listeners){this._listeners.forEach(function(item){item.remove();},this);}},_initialize:function(){this._listeners.push(_3e0.subscribe("/epi/shell/context/request",lang.hitch(this,this._handleContextChangeRequest)));this._listeners.push(_3e0.subscribe("/epi/shell/context/updateRequest",lang.hitch(this,this._handleContextUpdateRequest)));this._listeners.push(_3e0.subscribe("/epi/shell/context/requestcurrent",lang.hitch(this,this._handleRequestCurrentContext)));},registerRoute:function(_3e6,_3e7){this._routes[_3e6]=_3e7;},registerRequestInterceptor:function(_3e8){var _3e9=_3dd.indexOf(this._requestInterceptors,_3e8);if(_3e9==-1){this._requestInterceptors.push(_3e8);}return {remove:lang.hitch(this,function(){this.unregisterRequestInterceptor(_3e8);})};},unregisterRequestInterceptor:function(_3ea){var _3eb=_3dd.indexOf(this._requestInterceptors,_3ea);if(_3eb!=-1){this._requestInterceptors.splice(_3ea,1);return _3ea;}return null;},_handleContextChangeRequest:function(_3ec,_3ed){if(_3ec===null){this.currentContext={};this._publishContextChanged(this.currentContext);return;}if(this._requestInterceptors.length===0){this._loadNewContext(_3ec,_3ed,this._publishContextChanged);return;}var _3ee=_3dd.map(this._requestInterceptors,function(item){return item(_3ec,_3ed);},this);var _3ef=new _3df(_3ee);_3ef.then(lang.hitch(this,function(_3f0){var _3f1=!_3dd.some(_3f0,function(_3f2){if(_3f2[0]===false){return true;}});if(_3f1){this._loadNewContext(_3ec,_3ed,this._publishContextChanged);}else{this._publishRequestFailed(_3ec,_3ed);}}));},_handleContextUpdateRequest:function(_3f3,_3f4){if(_3f3===null){return;}this._loadNewContext(_3f3,_3f4,this._publishContextUpdated);},_handleRequestCurrentContext:function(_3f5){if(this.currentContext){_3e0.publish("/epi/shell/context/current",this.currentContext,_3f5);}},_loadNewContext:function(_3f6,_3f7,_3f8){var item={success:null,request:null,response:null,contextParameters:_3f6,callerData:_3f7,callback:_3f8};var _3f9=lang.hitch(this,function(_3fa){if(_3fa){item.response=_3fa;item.success=true;this._handleContextLoaded();}else{_3fb(_3fa);}});var _3fb=lang.hitch(this,function(_3fc){item.response=_3fc;item.success=false;this._handleContextLoaded();});if(this._profile&&!this._profile.get("view_publicsite")){_3f6.epiworkspaceactive=true;}this._requestQueue.push(item);var _3fd=this._getContextStore();var rq=_3fd.query(_3f6);rq.then(_3f9,_3fb);item.request=rq;},_handleContextLoaded:function(){var item=(this._requestQueue.length>0)?this._requestQueue[0]:null;while(item&&item.success!=null){this._requestQueue.shift();var _3fe=item.callback;var _3ff=item.response;var _400=item.contextParameters;var _401=item.callerData;var _402=item.success;var _403=item.request;if(_402){var uri=new _3e3(_3ff.uri);_3ff.type=uri.getType();_3ff.id=uri.getId();this.currentContext=item.response;if(this._routes&&this._routes[_3ff.type]){this._routes[_3ff.type](this.currentContext,_401,uri);}if(_3fe){_3fe(_3ff,_401,_403);}}else{if(_401&&!_401.suppressFailure){this._contextLoadFailed(_3ff,_400,_401);}}item=(this._requestQueue.length>0)?this._requestQueue[0]:null;}},_contextLoadFailed:function(_404,_405,_406){var _407=lang.hitch(this,function(_408){if(_408){this._loadNewContext(_405,_406,this._publishContextChanged);}else{this._publishRequestFailed(_405,_406,_405);}});var _409=this.res.errors.couldnotloadcontext.description,_40a=this.res.errors.couldnotloadcontext["descriptioncontent"+_404.status],_40b=this.res.errors.couldnotloadcontext["description"+_404.status];if(_40a&&_406.sender&&_406.sender.requestedContent){var _40c=_406.sender.requestedContent;_409=lang.replace(_40a,[_40c.typeName,_40c.name]);}else{if(_40b){_409=lang.replace(_40b,[_405.uri||_405.url]);}}var _40d=new _3e2({title:this.res.errors.couldnotloadcontext.title,description:_409,confirmActionText:this.res.errors.couldnotloadcontext.retry,cancelActionText:epi.resources.action.ignore,onAction:_407,destroyOnHide:true});_40d.show();},_getContextStore:function(){if(!this._contextStore){var _40e=_3e1.resolve("epi.storeregistry");this._contextStore=_40e.get("epi.shell.context");}return this._contextStore;},_publishContextChanged:function(_40f,_410,_411){_3e0.publish("/epi/shell/context/changed",_40f,_410,_411);},_publishContextUpdated:function(_412,_413,_414){_3e0.publish("/epi/shell/context/updated",_412,_413,_414);},_publishRequestFailed:function(_415,_416){_3e0.publish("/epi/shell/context/requestfailed",this.currentContext,_415,_416);}});});},"dojo/DeferredList":function(){define("dojo/DeferredList",["./_base/kernel","./_base/Deferred","./_base/array"],function(dojo,_417,_418){dojo.DeferredList=function(list,_419,_41a,_41b,_41c){var _41d=[];_417.call(this);var self=this;if(list.length===0&&!_419){this.resolve([0,[]]);}var _41e=0;_418.forEach(list,function(item,i){item.then(function(_41f){if(_419){self.resolve([i,_41f]);}else{_420(true,_41f);}},function(_421){if(_41a){self.reject(_421);}else{_420(false,_421);}if(_41b){return null;}throw _421;});function _420(_422,_423){_41d[i]=[_422,_423];_41e++;if(_41e===list.length){self.resolve(_41d);}};});};dojo.DeferredList.prototype=new _417();dojo.DeferredList.prototype.gatherResults=function(_424){var d=new dojo.DeferredList(_424,false,true,false);d.addCallback(function(_425){var ret=[];_418.forEach(_425,function(_426){ret.push(_426[1]);});return ret;});return d;};return dojo.DeferredList;});},"epi/shell/widget/dialog/Confirmation":function(){define(["dojo/_base/declare","dojo/_base/lang","epi/shell/widget/dialog/Dialog"],function(_427,lang,_428){return _427([_428],{confirmActionText:epi.resources.action.yes,cancelActionText:epi.resources.action.no,closeIconVisible:false,dialogClass:"epi-dialog-confirm",getActions:function(){var _429={name:this._okButtonName,label:this.confirmActionText,title:null,action:lang.hitch(this,this._onConfirm)},_42a={name:this._cancelButtonName,label:this.cancelActionText,title:null,action:lang.hitch(this,this._onCancel)};if(this.setFocusOnConfirmButton){_429.settings={"class":"Salt"};}return [_429,_42a];},_onConfirm:function(){this.hide();this.onAction(true);},_onCancel:function(){this.hide();this.onAction(false);},onAction:function(){}});});},"epi/shell/widget/dialog/Dialog":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/_base/lang","dojo/dom-class","dojo/dom-style","dojo/promise/all","epi","epi/shell/widget/dialog/_DialogBase","epi/shell/widget/_ActionConsumerWidget","epi/shell/widget/Toolbar","epi/shell/widget/ToolbarSet"],function(_42b,_42c,lang,_42d,_42e,_42f,epi,_430,_431,_432,_433){return _42c([_430,_431],{confirmActionText:epi.resources.action.ok,cancelActionText:epi.resources.action.cancel,contentClass:"",dialogClass:"epi-dialog-landscape",defaultActionsVisible:true,setFocusOnConfirmButton:true,destroyOnHide:false,_preferredHeight:0,_validators:null,_okButtonName:"ok",_cancelButtonName:"cancel",postMixInProperties:function(){this.inherited(arguments);this._validators=[];if(this.content&&this.content.onSubmit){this.connect(this.content,"onSubmit",this._onSubmit);}},postCreate:function(){this.inherited(arguments);this.set("definitionConsumer",new _433({baseClass:"dijitDialogPaneActionBar",layoutContainerClass:_432},this.actionContainerNode));},_size:function(){_42e.set(this.containerNode,{minHeight:this.get("_preferredHeight")+"px"});this.inherited(arguments);_42e.set(this.containerNode,{minHeight:""});_42b.forEach(["height","width"],function(prop){if(this[prop]==="auto"){this[prop]="";}},this.containerNode.style);},addValidator:function(_434){this._validators.push(_434);},getActions:function(){var _435=this.inherited(arguments);if(this.defaultActionsVisible){var _436={name:this._okButtonName,label:this.confirmActionText,title:null,settings:{type:"submit"}},_437={name:this._cancelButtonName,label:this.cancelActionText,title:null,action:lang.hitch(this,this._onCancel)};if(this.setFocusOnConfirmButton){_436.settings["class"]="Salt";}else{_437.settings={"class":"Salt",firstFocusable:true};}_435.push(_436,_437);}return _435;},_onCancel:function(){this.onCancel();},_onSubmit:function(){if(!this.validate()){return;}if(this._validators.length===0){this.inherited(arguments);return;}var _438=_42b.map(this._validators,function(item){return item();});var _439=arguments;var _43a=new _42f(_438);_43a.then(lang.hitch(this,function(_43b){if(_42b.some(_43b,function(_43c){return !_43c[0];})){return;}this.inherited(_439);}));},_setContentClassAttr:function(_43d){_42d.remove(this.containerNode,this.contentClass);this._set("contentClass",_43d);_42d.add(this.containerNode,this.contentClass);},_get_preferredHeightAttr:function(){if(!!this.dialogClass&&this._preferredHeight<25){this._preferredHeight=_42e.get(this.containerNode,"height");}return this._preferredHeight;}});});},"epi/shell/widget/dialog/_DialogBase":function(){define(["epi","dojo","dojo/_base/array","dojo/dom-class","dojo/dom-style","dojo/query","dojo/text!./templates/Dialog.html","dojo/when","dijit/a11y","dijit/focus","dijit/Dialog","epi/shell/widget/dialog/_DialogMixin","epi/shell/widget/_FocusableMixin"],function(epi,dojo,_43e,_43f,_440,_441,_442,when,a11y,_443,_444,_445,_446){return dojo.declare([_444,_445,_446],{templateString:_442,heading:"",description:"",dialogClass:"",iconClass:"dijitNoIcon",destroyOnHide:true,focusActionsOnLoad:false,postMixInProperties:function(){this.inherited(arguments);this.resources=epi.resources.action;},buildRendering:function(){this.inherited(arguments);if(this.dialogClass){_43f.add(this.domNode,this.dialogClass);}this.set("closeIconVisible",this.closeIconVisible);this.set("iconClass",this.iconClass);this.set("heading",this.heading);this.set("description",this.description);},postCreate:function(){this.inherited(arguments);if(this.content&&this.content.executeDialog){this.connect(this.content,"executeDialog","onExecute");}if(this.content&&this.content.cancelDialog){this.connect(this.content,"cancelDialog","onCancel");}},hide:function(){var _447=dojo.hitch(this,function(){if(this.destroyOnHide){this.destroyRecursive();}});return when(this.inherited(arguments),_447);},_getFocusItems:function(){var node=this.focusActionsOnLoad?this.actionContainerNode:this.contentContainerNode,_448=a11y._getTabNavigable(node);this.focusActionsOnLoad=false;this._firstFocusItem=_448.lowest||_448.first||this.closeButtonNode||this.domNode;this._lastFocusItem=_448.last||_448.highest||this._firstFocusItem;},_setDialogContentNode:function(_449,_44a){_449.innerHTML=_44a;_440.set(_449,"display",_44a?"":"none");var _44b=_441("div",this.contentContainerNode);_44b.removeClass("epi-firstVisible");_43e.some(_44b,function(_44c){if(_440.get(_44c,"display")!=="none"){_43f.add(_44c,"epi-firstVisible");return true;}});},_setHeadingAttr:function(_44d){this._setDialogContentNode(this.headingNode,_44d);},_setDescriptionAttr:function(_44e){this._setDialogContentNode(this.descriptionNode,_44e);},_setIconClassAttr:function(_44f){_43f.remove(this.iconNode,this.iconClass);this._set("iconClass",_44f);_43f.add(this.iconNode,this.iconClass);}});});},"url:epi/shell/widget/dialog/templates/Dialog.html":"<div class=\"dijitDialog\" role=\"dialog\" aria-labelledby=\"${id}_title\">\r\n    <div data-dojo-attach-point=\"titleBar\" class=\"dijitDialogTitleBar\">\r\n        <span data-dojo-attach-point=\"titleNode\" class=\"dijitDialogTitle\" id=\"${id}_title\"></span>\r\n        <span data-dojo-attach-point=\"closeButtonNode\" class=\"dijitDialogCloseIcon\" data-dojo-attach-event=\"ondijitclick: onCancel\" title=\"${resources.close}\" role=\"button\" tabIndex=\"-1\">\r\n            <span data-dojo-attach-point=\"closeText\" class=\"closeText\" title=\"${resources.cancel}\">x</span>\r\n        </span>\r\n    </div>\r\n    <div data-dojo-attach-point=\"contentContainerNode\" class=\"epi-dialogPaneContent\">\r\n        <span data-dojo-attach-point=\"iconNode\" class=\"dijitIcon dijitInline epi-dialogIcon\"></span>\r\n        <div data-dojo-attach-point=\"headingNode\" class=\"epi-dialogDescriptionHeader\"></div>\r\n        <div data-dojo-attach-point=\"descriptionNode\" class=\"epi-dialogDescriptionSummary\"></div>\r\n        <div data-dojo-attach-point=\"containerNode\" class=\"dijitDialogPaneContentArea\"></div>\r\n        <div data-dojo-attach-point=\"actionContainerNode\" class=\"dijitDialogPaneActionBar\"></div>\r\n    </div>\r\n</div>","dijit/Dialog":function(){require({cache:{"url:dijit/templates/Dialog.html":"<div class=\"dijitDialog\" role=\"dialog\" aria-labelledby=\"${id}_title\">\n\t<div data-dojo-attach-point=\"titleBar\" class=\"dijitDialogTitleBar\">\n\t\t<span data-dojo-attach-point=\"titleNode\" class=\"dijitDialogTitle\" id=\"${id}_title\"\n\t\t\t\trole=\"heading\" level=\"1\"></span>\n\t\t<span data-dojo-attach-point=\"closeButtonNode\" class=\"dijitDialogCloseIcon\" data-dojo-attach-event=\"ondijitclick: onCancel\" title=\"${buttonCancel}\" role=\"button\" tabIndex=\"-1\">\n\t\t\t<span data-dojo-attach-point=\"closeText\" class=\"closeText\" title=\"${buttonCancel}\">x</span>\n\t\t</span>\n\t</div>\n\t<div data-dojo-attach-point=\"containerNode\" class=\"dijitDialogPaneContent\"></div>\n</div>\n"}});define("dijit/Dialog",["require","dojo/_base/array","dojo/_base/connect","dojo/_base/declare","dojo/_base/Deferred","dojo/dom","dojo/dom-class","dojo/dom-geometry","dojo/dom-style","dojo/_base/event","dojo/_base/fx","dojo/i18n","dojo/keys","dojo/_base/lang","dojo/on","dojo/ready","dojo/sniff","dojo/window","dojo/dnd/Moveable","dojo/dnd/TimedMoveable","./focus","./_base/manager","./_Widget","./_TemplatedMixin","./_CssStateMixin","./form/_FormMixin","./_DialogMixin","./DialogUnderlay","./layout/ContentPane","dojo/text!./templates/Dialog.html","./main","dojo/i18n!./nls/common"],function(_450,_451,_452,_453,_454,dom,_455,_456,_457,_458,fx,i18n,keys,lang,on,_459,has,_45a,_45b,_45c,_45d,_45e,_45f,_460,_461,_462,_463,_464,_465,_466,_467){var _468=_453("dijit._DialogBase",[_460,_462,_463,_461],{templateString:_466,baseClass:"dijitDialog",cssStateNodes:{closeButtonNode:"dijitDialogCloseIcon"},_setTitleAttr:[{node:"titleNode",type:"innerHTML"},{node:"titleBar",type:"attribute"}],open:false,duration:_45e.defaultDuration,refocus:true,autofocus:true,_firstFocusItem:null,_lastFocusItem:null,doLayout:false,draggable:true,_setDraggableAttr:function(val){this._set("draggable",val);},"aria-describedby":"",maxRatio:0.9,postMixInProperties:function(){var _469=i18n.getLocalization("dijit","common");lang.mixin(this,_469);this.inherited(arguments);},postCreate:function(){_457.set(this.domNode,{display:"none",position:"absolute"});this.ownerDocumentBody.appendChild(this.domNode);this.inherited(arguments);this.connect(this,"onExecute","hide");this.connect(this,"onCancel","hide");this._modalconnects=[];},onLoad:function(){this._position();if(this.autofocus&&_46a.isTop(this)){this._getFocusItems(this.domNode);_45d.focus(this._firstFocusItem);}this.inherited(arguments);},_onBlur:function(by){this.inherited(arguments);var _46b=lang.hitch(this,function(){if(this.open&&!this._destroyed&&_46a.isTop(this)){this._getFocusItems(this.domNode);_45d.focus(this._firstFocusItem);}});if(by=="mouse"){on.once(this.ownerDocument,"mouseup",_46b);}else{_46b();}},_endDrag:function(){var _46c=_456.position(this.domNode),_46d=_45a.getBox(this.ownerDocument);_46c.y=Math.min(Math.max(_46c.y,0),(_46d.h-_46c.h));_46c.x=Math.min(Math.max(_46c.x,0),(_46d.w-_46c.w));this._relativePosition=_46c;this._position();},_setup:function(){var node=this.domNode;if(this.titleBar&&this.draggable){this._moveable=new ((has("ie")==6)?_45c:_45b)(node,{handle:this.titleBar});this.connect(this._moveable,"onMoveStop","_endDrag");}else{_455.add(node,"dijitDialogFixed");}this.underlayAttrs={dialogId:this.id,"class":_451.map(this["class"].split(/\s/),function(s){return s+"_underlay";}).join(" "),ownerDocument:this.ownerDocument};},_size:function(){this._checkIfSingleChild();if(this._singleChild){if(typeof this._singleChildOriginalStyle!="undefined"){this._singleChild.domNode.style.cssText=this._singleChildOriginalStyle;delete this._singleChildOriginalStyle;}}else{_457.set(this.containerNode,{width:"auto",height:"auto"});}var bb=_456.position(this.domNode);var _46e=_45a.getBox(this.ownerDocument);_46e.w*=this.maxRatio;_46e.h*=this.maxRatio;if(bb.w>=_46e.w||bb.h>=_46e.h){var _46f=_456.position(this.containerNode),w=Math.min(bb.w,_46e.w)-(bb.w-_46f.w),h=Math.min(bb.h,_46e.h)-(bb.h-_46f.h);if(this._singleChild&&this._singleChild.resize){if(typeof this._singleChildOriginalStyle=="undefined"){this._singleChildOriginalStyle=this._singleChild.domNode.style.cssText;}this._singleChild.resize({w:w,h:h});}else{_457.set(this.containerNode,{width:w+"px",height:h+"px",overflow:"auto",position:"relative"});}}else{if(this._singleChild&&this._singleChild.resize){this._singleChild.resize();}}},_position:function(){if(!_455.contains(this.ownerDocumentBody,"dojoMove")){var node=this.domNode,_470=_45a.getBox(this.ownerDocument),p=this._relativePosition,bb=p?null:_456.position(node),l=Math.floor(_470.l+(p?p.x:(_470.w-bb.w)/2)),t=Math.floor(_470.t+(p?p.y:(_470.h-bb.h)/2));_457.set(node,{left:l+"px",top:t+"px"});}},_onKey:function(evt){if(evt.charOrCode){var node=evt.target;if(evt.charOrCode===keys.TAB){this._getFocusItems(this.domNode);}var _471=(this._firstFocusItem==this._lastFocusItem);if(node==this._firstFocusItem&&evt.shiftKey&&evt.charOrCode===keys.TAB){if(!_471){_45d.focus(this._lastFocusItem);}_458.stop(evt);}else{if(node==this._lastFocusItem&&evt.charOrCode===keys.TAB&&!evt.shiftKey){if(!_471){_45d.focus(this._firstFocusItem);}_458.stop(evt);}else{while(node){if(node==this.domNode||_455.contains(node,"dijitPopup")){if(evt.charOrCode==keys.ESCAPE){this.onCancel();}else{return;}}node=node.parentNode;}if(evt.charOrCode!==keys.TAB){_458.stop(evt);}else{if(!has("opera")){try{this._firstFocusItem.focus();}catch(e){}}}}}}},show:function(){if(this.open){return;}if(!this._started){this.startup();}if(!this._alreadyInitialized){this._setup();this._alreadyInitialized=true;}if(this._fadeOutDeferred){this._fadeOutDeferred.cancel();}var win=_45a.get(this.ownerDocument);this._modalconnects.push(on(win,"scroll",lang.hitch(this,"resize")));this._modalconnects.push(on(this.domNode,_452._keypress,lang.hitch(this,"_onKey")));_457.set(this.domNode,{opacity:0,display:""});this._set("open",true);this._onShow();this._size();this._position();var _472;this._fadeInDeferred=new _454(lang.hitch(this,function(){_472.stop();delete this._fadeInDeferred;}));_472=fx.fadeIn({node:this.domNode,duration:this.duration,beforeBegin:lang.hitch(this,function(){_46a.show(this,this.underlayAttrs);}),onEnd:lang.hitch(this,function(){if(this.autofocus&&_46a.isTop(this)){this._getFocusItems(this.domNode);_45d.focus(this._firstFocusItem);}this._fadeInDeferred.resolve(true);delete this._fadeInDeferred;})}).play();return this._fadeInDeferred;},hide:function(){if(!this._alreadyInitialized||!this.open){return;}if(this._fadeInDeferred){this._fadeInDeferred.cancel();}var _473;this._fadeOutDeferred=new _454(lang.hitch(this,function(){_473.stop();delete this._fadeOutDeferred;}));this._fadeOutDeferred.then(lang.hitch(this,"onHide"));_473=fx.fadeOut({node:this.domNode,duration:this.duration,onEnd:lang.hitch(this,function(){this.domNode.style.display="none";_46a.hide(this);this._fadeOutDeferred.resolve(true);delete this._fadeOutDeferred;})}).play();if(this._scrollConnected){this._scrollConnected=false;}var h;while(h=this._modalconnects.pop()){h.remove();}if(this._relativePosition){delete this._relativePosition;}this._set("open",false);return this._fadeOutDeferred;},resize:function(){if(this.domNode.style.display!="none"){if(_464._singleton){_464._singleton.layout();}this._position();this._size();}},destroy:function(){if(this._fadeInDeferred){this._fadeInDeferred.cancel();}if(this._fadeOutDeferred){this._fadeOutDeferred.cancel();}if(this._moveable){this._moveable.destroy();}var h;while(h=this._modalconnects.pop()){h.remove();}_46a.hide(this);this.inherited(arguments);}});var _474=_453("dijit.Dialog",[_465,_468],{});_474._DialogBase=_468;var _46a=_474._DialogLevelManager={_beginZIndex:950,show:function(_475,_476){ds[ds.length-1].focus=_45d.curNode;var _477=_464._singleton;if(!_477||_477._destroyed){_477=_467._underlay=_464._singleton=new _464(_476);}else{_477.set(_475.underlayAttrs);}var _478=ds[ds.length-1].dialog?ds[ds.length-1].zIndex+2:_474._DialogLevelManager._beginZIndex;if(ds.length==1){_477.show();}_457.set(_464._singleton.domNode,"zIndex",_478-1);_457.set(_475.domNode,"zIndex",_478);ds.push({dialog:_475,underlayAttrs:_476,zIndex:_478});},hide:function(_479){if(ds[ds.length-1].dialog==_479){ds.pop();var pd=ds[ds.length-1];if(!_464._singleton._destroyed){if(ds.length==1){_464._singleton.hide();}else{_457.set(_464._singleton.domNode,"zIndex",pd.zIndex-1);_464._singleton.set(pd.underlayAttrs);}}if(_479.refocus){var _47a=pd.focus;if(pd.dialog&&(!_47a||!dom.isDescendant(_47a,pd.dialog.domNode))){pd.dialog._getFocusItems(pd.dialog.domNode);_47a=pd.dialog._firstFocusItem;}if(_47a){try{_47a.focus();}catch(e){}}}}else{var idx=_451.indexOf(_451.map(ds,function(elem){return elem.dialog;}),_479);if(idx!=-1){ds.splice(idx,1);}}},isTop:function(_47b){return ds[ds.length-1].dialog==_47b;}};var ds=_474._dialogStack=[{dialog:null,focus:null,underlayAttrs:null}];if(has("dijit-legacy-requires")){_459(0,function(){var _47c=["dijit/TooltipDialog"];_450(_47c);});}return _474;});},"dojo/dnd/Moveable":function(){define("dojo/dnd/Moveable",["../_base/array","../_base/declare","../_base/event","../_base/lang","../dom","../dom-class","../Evented","../on","../topic","../touch","./common","./Mover","../_base/window"],function(_47d,_47e,_47f,lang,dom,_480,_481,on,_482,_483,dnd,_484,win){var _485=_47e("dojo.dnd.Moveable",[_481],{handle:"",delay:0,skip:false,constructor:function(node,_486){this.node=dom.byId(node);if(!_486){_486={};}this.handle=_486.handle?dom.byId(_486.handle):null;if(!this.handle){this.handle=this.node;}this.delay=_486.delay>0?_486.delay:0;this.skip=_486.skip;this.mover=_486.mover?_486.mover:_484;this.events=[on(this.handle,_483.press,lang.hitch(this,"onMouseDown")),on(this.handle,"dragstart",lang.hitch(this,"onSelectStart")),on(this.handle,"selectstart",lang.hitch(this,"onSelectStart"))];},markupFactory:function(_487,node,Ctor){return new Ctor(node,_487);},destroy:function(){_47d.forEach(this.events,function(_488){_488.remove();});this.events=this.node=this.handle=null;},onMouseDown:function(e){if(this.skip&&dnd.isFormElement(e)){return;}if(this.delay){this.events.push(on(this.handle,_483.move,lang.hitch(this,"onMouseMove")),on(this.handle,_483.release,lang.hitch(this,"onMouseUp")));this._lastX=e.pageX;this._lastY=e.pageY;}else{this.onDragDetected(e);}_47f.stop(e);},onMouseMove:function(e){if(Math.abs(e.pageX-this._lastX)>this.delay||Math.abs(e.pageY-this._lastY)>this.delay){this.onMouseUp(e);this.onDragDetected(e);}_47f.stop(e);},onMouseUp:function(e){for(var i=0;i<2;++i){this.events.pop().remove();}_47f.stop(e);},onSelectStart:function(e){if(!this.skip||!dnd.isFormElement(e)){_47f.stop(e);}},onDragDetected:function(e){new this.mover(this.node,e,this);},onMoveStart:function(_489){_482.publish("/dnd/move/start",_489);_480.add(win.body(),"dojoMove");_480.add(this.node,"dojoMoveItem");},onMoveStop:function(_48a){_482.publish("/dnd/move/stop",_48a);_480.remove(win.body(),"dojoMove");_480.remove(this.node,"dojoMoveItem");},onFirstMove:function(){},onMove:function(_48b,_48c){this.onMoving(_48b,_48c);var s=_48b.node.style;s.left=_48c.l+"px";s.top=_48c.t+"px";this.onMoved(_48b,_48c);},onMoving:function(){},onMoved:function(){}});return _485;});},"dojo/dnd/Mover":function(){define("dojo/dnd/Mover",["../_base/array","../_base/declare","../_base/event","../_base/lang","../sniff","../_base/window","../dom","../dom-geometry","../dom-style","../Evented","../on","../touch","./common","./autoscroll"],function(_48d,_48e,_48f,lang,has,win,dom,_490,_491,_492,on,_493,dnd,_494){return _48e("dojo.dnd.Mover",[_492],{constructor:function(node,e,host){this.node=dom.byId(node);this.marginBox={l:e.pageX,t:e.pageY};this.mouseButton=e.button;var h=(this.host=host),d=node.ownerDocument;this.events=[on(d,_493.move,lang.hitch(this,"onFirstMove")),on(d,_493.move,lang.hitch(this,"onMouseMove")),on(d,_493.release,lang.hitch(this,"onMouseUp")),on(d,"dragstart",_48f.stop),on(d.body,"selectstart",_48f.stop)];_494.autoScrollStart(d);if(h&&h.onMoveStart){h.onMoveStart(this);}},onMouseMove:function(e){_494.autoScroll(e);var m=this.marginBox;this.host.onMove(this,{l:m.l+e.pageX,t:m.t+e.pageY},e);_48f.stop(e);},onMouseUp:function(e){if(has("webkit")&&has("mac")&&this.mouseButton==2?e.button==0:this.mouseButton==e.button){this.destroy();}_48f.stop(e);},onFirstMove:function(e){var s=this.node.style,l,t,h=this.host;switch(s.position){case "relative":case "absolute":l=Math.round(parseFloat(s.left))||0;t=Math.round(parseFloat(s.top))||0;break;default:s.position="absolute";var m=_490.getMarginBox(this.node);var b=win.doc.body;var bs=_491.getComputedStyle(b);var bm=_490.getMarginBox(b,bs);var bc=_490.getContentBox(b,bs);l=m.l-(bc.l-bm.l);t=m.t-(bc.t-bm.t);break;}this.marginBox.l=l-this.marginBox.l;this.marginBox.t=t-this.marginBox.t;if(h&&h.onFirstMove){h.onFirstMove(this,e);}this.events.shift().remove();},destroy:function(){_48d.forEach(this.events,function(_495){_495.remove();});var h=this.host;if(h&&h.onMoveStop){h.onMoveStop(this);}this.events=this.node=this.host=null;}});});},"dojo/dnd/TimedMoveable":function(){define("dojo/dnd/TimedMoveable",["../_base/declare","./Moveable"],function(_496,_497){var _498=_497.prototype.onMove;return _496("dojo.dnd.TimedMoveable",_497,{timeout:40,constructor:function(node,_499){if(!_499){_499={};}if(_499.timeout&&typeof _499.timeout=="number"&&_499.timeout>=0){this.timeout=_499.timeout;}},onMoveStop:function(_49a){if(_49a._timer){clearTimeout(_49a._timer);_498.call(this,_49a,_49a._leftTop);}_497.prototype.onMoveStop.apply(this,arguments);},onMove:function(_49b,_49c){_49b._leftTop=_49c;if(!_49b._timer){var _49d=this;_49b._timer=setTimeout(function(){_49b._timer=null;_498.call(_49d,_49b,_49b._leftTop);},this.timeout);}}});});},"dijit/_base/manager":function(){define("dijit/_base/manager",["dojo/_base/array","dojo/_base/config","dojo/_base/lang","../registry","../main"],function(_49e,_49f,lang,_4a0,_4a1){var _4a2={};_49e.forEach(["byId","getUniqueId","findWidgets","_destroyAll","byNode","getEnclosingWidget"],function(name){_4a2[name]=_4a0[name];});lang.mixin(_4a2,{defaultDuration:_49f["defaultDuration"]||200});lang.mixin(_4a1,_4a2);return _4a1;});},"dijit/DialogUnderlay":function(){define("dijit/DialogUnderlay",["dojo/_base/declare","dojo/dom-attr","dojo/window","./_Widget","./_TemplatedMixin","./BackgroundIframe"],function(_4a3,_4a4,_4a5,_4a6,_4a7,_4a8){return _4a3("dijit.DialogUnderlay",[_4a6,_4a7],{templateString:"<div class='dijitDialogUnderlayWrapper'><div class='dijitDialogUnderlay' data-dojo-attach-point='node'></div></div>",dialogId:"","class":"",_setDialogIdAttr:function(id){_4a4.set(this.node,"id",id+"_underlay");this._set("dialogId",id);},_setClassAttr:function(_4a9){this.node.className="dijitDialogUnderlay "+_4a9;this._set("class",_4a9);},postCreate:function(){this.ownerDocumentBody.appendChild(this.domNode);},layout:function(){var is=this.node.style,os=this.domNode.style;os.display="none";var _4aa=_4a5.getBox(this.ownerDocument);os.top=_4aa.t+"px";os.left=_4aa.l+"px";is.width=_4aa.w+"px";is.height=_4aa.h+"px";os.display="block";},show:function(){this.domNode.style.display="block";this.layout();this.bgIframe=new _4a8(this.domNode);},hide:function(){this.bgIframe.destroy();delete this.bgIframe;this.domNode.style.display="none";}});});},"dijit/BackgroundIframe":function(){define("dijit/BackgroundIframe",["require","./main","dojo/_base/config","dojo/dom-construct","dojo/dom-style","dojo/_base/lang","dojo/on","dojo/sniff","dojo/_base/window"],function(_4ab,_4ac,_4ad,_4ae,_4af,lang,on,has,win){var _4b0=new function(){var _4b1=[];this.pop=function(){var _4b2;if(_4b1.length){_4b2=_4b1.pop();_4b2.style.display="";}else{if(has("ie")<9){var burl=_4ad["dojoBlankHtmlUrl"]||_4ab.toUrl("dojo/resources/blank.html")||"javascript:\"\"";var html="<iframe src='"+burl+"' role='presentation'"+" style='position: absolute; left: 0px; top: 0px;"+"z-index: -1; filter:Alpha(Opacity=\"0\");'>";_4b2=win.doc.createElement(html);}else{_4b2=_4ae.create("iframe");_4b2.src="javascript:\"\"";_4b2.className="dijitBackgroundIframe";_4b2.setAttribute("role","presentation");_4af.set(_4b2,"opacity",0.1);}_4b2.tabIndex=-1;}return _4b2;};this.push=function(_4b3){_4b3.style.display="none";_4b1.push(_4b3);};}();_4ac.BackgroundIframe=function(node){if(!node.id){throw new Error("no id");}if(has("ie")||has("mozilla")){var _4b4=(this.iframe=_4b0.pop());node.appendChild(_4b4);if(has("ie")<7||has("quirks")){this.resize(node);this._conn=on(node,"resize",lang.hitch(this,function(){this.resize(node);}));}else{_4af.set(_4b4,{width:"100%",height:"100%"});}}};lang.extend(_4ac.BackgroundIframe,{resize:function(node){if(this.iframe){_4af.set(this.iframe,{width:node.offsetWidth+"px",height:node.offsetHeight+"px"});}},destroy:function(){if(this._conn){this._conn.remove();this._conn=null;}if(this.iframe){_4b0.push(this.iframe);delete this.iframe;}}});return _4ac.BackgroundIframe;});},"url:dijit/templates/Dialog.html":"<div class=\"dijitDialog\" role=\"dialog\" aria-labelledby=\"${id}_title\">\n\t<div data-dojo-attach-point=\"titleBar\" class=\"dijitDialogTitleBar\">\n\t\t<span data-dojo-attach-point=\"titleNode\" class=\"dijitDialogTitle\" id=\"${id}_title\"\n\t\t\t\trole=\"heading\" level=\"1\"></span>\n\t\t<span data-dojo-attach-point=\"closeButtonNode\" class=\"dijitDialogCloseIcon\" data-dojo-attach-event=\"ondijitclick: onCancel\" title=\"${buttonCancel}\" role=\"button\" tabIndex=\"-1\">\n\t\t\t<span data-dojo-attach-point=\"closeText\" class=\"closeText\" title=\"${buttonCancel}\">x</span>\n\t\t</span>\n\t</div>\n\t<div data-dojo-attach-point=\"containerNode\" class=\"dijitDialogPaneContent\"></div>\n</div>\n","epi/shell/widget/dialog/_DialogMixin":function(){define(["dojo","dojo/dom-style"],function(dojo,_4b5){return dojo.declare(null,{closeIconVisible:true,_setCloseIconVisibleAttr:function(){this._set("closeIconVisible",this.closeIconVisible);_4b5.set(this.closeButtonNode,"visibility",this.closeIconVisible?"visible":"hidden");}});});},"epi/shell/widget/_FocusableMixin":function(){define(["dojo/dom-class","dojo/_base/declare","dijit/_FocusMixin"],function(_4b6,_4b7,_4b8){return _4b7(_4b8,{onFocus:function(){_4b6.add(this.domNode,"epi-focused");},onBlur:function(){_4b6.remove(this.domNode,"epi-focused");}});});},"epi/shell/widget/_ActionConsumerWidget":function(){define(["dojo/_base/declare","./_ActionConsumer"],function(_4b9,_4ba){return _4b9(_4ba,{definitionConsumer:null,startup:function(){this.inherited(arguments);this._populateActions();},_setDefinitionConsumerAttr:function(_4bb){this._set("definitionConsumer",_4bb);if(this._started){this._populateActions();}},onActionAdded:function(_4bc){if(this.definitionConsumer){this.definitionConsumer.add(_4bc);}},onActionRemoved:function(_4bd){if(this.definitionConsumer){this.definitionConsumer.remove(_4bd.name);}},onActionPropertyChanged:function(_4be,_4bf,_4c0){if(this.definitionConsumer){this.definitionConsumer.setItemProperty(_4be.name,_4bf,_4c0);}},_populateActions:function(){if(this.definitionConsumer){this.definitionConsumer.add(this.getActions());}}});});},"epi/shell/widget/_ActionConsumer":function(){define(["dojo","dojo/_base/kernel","epi/shell/widget/_ActionProviderBase"],function(dojo,_4c1,_4c2){return dojo.declare(_4c2,{_actionProviders:null,constructor:function(args){_4c1.deprecated("epi/shell/widget/_ActionConsumer","use the command pattern with epi/shell/command/_CommandConsumerMixin instead");this._actionProviders=[];if(typeof (args)!=="undefined"||args!=null&&dojo.isArray(args.actionProviders)){dojo.forEach(args.actionProviders,function(_4c3){this.addProvider(_4c3);},this);}},isProviderRegistered:function(_4c4){if(typeof (_4c4)==="undefined"||_4c4==null){return false;}return dojo.some(this._actionProviders,function(_4c5){return _4c5.provider===_4c4;});},addProvider:function(_4c6){if(typeof (_4c6)==="undefined"||_4c6==null||this.isProviderRegistered(_4c6)){return;}this._actionProviders.push({provider:_4c6,connects:[dojo.connect(_4c6,"onActionAdded",this,"onActionAdded"),dojo.connect(_4c6,"onActionRemoved",this,"onActionRemoved"),dojo.connect(_4c6,"onActionPropertyChanged",this,"onActionPropertyChanged")]});},removeProvider:function(_4c7){if(typeof (_4c7)==="undefined"||_4c7==null||!this.isProviderRegistered(_4c7)){return;}for(var i=0;i<this._actionProviders.length;i++){if(this._actionProviders[i].provider==_4c7){var _4c8=this._actionProviders.splice(i,1);dojo.forEach(_4c8.connects,dojo.disconnect);break;}}},getActions:function(){var _4c9=[];dojo.forEach(this._actionProviders,function(_4ca,_4cb){_4c9=_4c9.concat(this._getProviderActions(_4ca.provider));},this);return _4c9;},_getProviderActions:function(_4cc){if(typeof (_4cc)!=="undefined"&&_4cc!=null&&typeof (_4cc.getActions)=="function"){return _4cc.getActions();}else{return [];}}});});},"epi/shell/widget/_ActionProviderBase":function(){define(["epi","dojo"],function(epi,dojo){return dojo.declare(null,{getActions:function(){return [];},onActionAdded:function(_4cd){},onActionRemoved:function(_4ce){},onActionPropertyChanged:function(_4cf,_4d0,_4d1){}});});},"epi/shell/widget/Toolbar":function(){define(["dojo/_base/declare","dojo/_base/lang","dijit/Toolbar","epi/shell/DestroyableByKey"],function(_4d2,lang,_4d3,_4d4){return _4d2([_4d3,_4d4],{_originalTabIndex:null,_focusable:null,_firstFocusableItem:null,postCreate:function(){this.inherited(arguments);this._originalTabIndex=this.get("tabIndex");this._correctTabIndex();},addChild:function(_4d5){this.inherited(arguments);if(_4d5.firstFocusable){this.set("_firstFocusableItem",_4d5);}this.destroyByKey(_4d5);this.ownByKey(_4d5,_4d5.watch("itemVisibility",lang.hitch(this,function(){this._correctTabIndex();})));this._correctTabIndex();},removeChild:function(_4d6){this.destroyByKey(_4d6);this.inherited(arguments);this._correctTabIndex();},_correctTabIndex:function(){this._focusable=(this._getFirstFocusableChild()!==null);this.set("tabIndex",this._focusable?this._originalTabIndex:-1);},_getFirstFocusableChild:function(){return this._firstFocusableItem||this.inherited(arguments);},_startupChild:function(_4d7){_4d7.set("tabIndex","-1");},_onChildBlur:function(_4d8){_4d8.set("tabIndex","-1");}});});},"dijit/Toolbar":function(){define("dijit/Toolbar",["require","dojo/_base/declare","dojo/has","dojo/keys","dojo/ready","./_Widget","./_KeyNavContainer","./_TemplatedMixin"],function(_4d9,_4da,has,keys,_4db,_4dc,_4dd,_4de){if(has("dijit-legacy-requires")){_4db(0,function(){var _4df=["dijit/ToolbarSeparator"];_4d9(_4df);});}return _4da("dijit.Toolbar",[_4dc,_4de,_4dd],{templateString:"<div class=\"dijit\" role=\"toolbar\" tabIndex=\"${tabIndex}\" data-dojo-attach-point=\"containerNode\">"+"</div>",baseClass:"dijitToolbar",postCreate:function(){this.inherited(arguments);this.connectKeyNavHandlers(this.isLeftToRight()?[keys.LEFT_ARROW]:[keys.RIGHT_ARROW],this.isLeftToRight()?[keys.RIGHT_ARROW]:[keys.LEFT_ARROW]);}});});},"dijit/_KeyNavContainer":function(){define("dijit/_KeyNavContainer",["dojo/_base/kernel","./_Container","./_FocusMixin","dojo/_base/array","dojo/keys","dojo/_base/declare","dojo/_base/event","dojo/dom-attr","dojo/_base/lang"],function(_4e0,_4e1,_4e2,_4e3,keys,_4e4,_4e5,_4e6,lang){return _4e4("dijit._KeyNavContainer",[_4e2,_4e1],{tabIndex:"0",connectKeyNavHandlers:function(_4e7,_4e8){var _4e9=(this._keyNavCodes={});var prev=lang.hitch(this,"focusPrev");var next=lang.hitch(this,"focusNext");_4e3.forEach(_4e7,function(code){_4e9[code]=prev;});_4e3.forEach(_4e8,function(code){_4e9[code]=next;});_4e9[keys.HOME]=lang.hitch(this,"focusFirstChild");_4e9[keys.END]=lang.hitch(this,"focusLastChild");this.connect(this.domNode,"onkeypress","_onContainerKeypress");this.connect(this.domNode,"onfocus","_onContainerFocus");},startupKeyNavChildren:function(){_4e0.deprecated("startupKeyNavChildren() call no longer needed","","2.0");},startup:function(){this.inherited(arguments);_4e3.forEach(this.getChildren(),lang.hitch(this,"_startupChild"));},addChild:function(_4ea,_4eb){this.inherited(arguments);this._startupChild(_4ea);},focus:function(){this.focusFirstChild();},focusFirstChild:function(){this.focusChild(this._getFirstFocusableChild());},focusLastChild:function(){this.focusChild(this._getLastFocusableChild());},focusNext:function(){this.focusChild(this._getNextFocusableChild(this.focusedChild,1));},focusPrev:function(){this.focusChild(this._getNextFocusableChild(this.focusedChild,-1),true);},focusChild:function(_4ec,last){if(!_4ec){return;}if(this.focusedChild&&_4ec!==this.focusedChild){this._onChildBlur(this.focusedChild);}_4ec.set("tabIndex",this.tabIndex);_4ec.focus(last?"end":"start");this._set("focusedChild",_4ec);},_startupChild:function(_4ed){_4ed.set("tabIndex","-1");this.connect(_4ed,"_onFocus",function(){_4ed.set("tabIndex",this.tabIndex);});this.connect(_4ed,"_onBlur",function(){_4ed.set("tabIndex","-1");});},_onContainerFocus:function(evt){if(evt.target!==this.domNode||this.focusedChild){return;}this.focusFirstChild();_4e6.set(this.domNode,"tabIndex","-1");},_onBlur:function(evt){if(this.tabIndex){_4e6.set(this.domNode,"tabIndex",this.tabIndex);}this.focusedChild=null;this.inherited(arguments);},_onContainerKeypress:function(evt){if(evt.ctrlKey||evt.altKey){return;}var func=this._keyNavCodes[evt.charOrCode];if(func){func();_4e5.stop(evt);}},_onChildBlur:function(){},_getFirstFocusableChild:function(){return this._getNextFocusableChild(null,1);},_getLastFocusableChild:function(){return this._getNextFocusableChild(null,-1);},_getNextFocusableChild:function(_4ee,dir){if(_4ee){_4ee=this._getSiblingOfChild(_4ee,dir);}var _4ef=this.getChildren();for(var i=0;i<_4ef.length;i++){if(!_4ee){_4ee=_4ef[(dir>0)?0:(_4ef.length-1)];}if(_4ee.isFocusable()){return _4ee;}_4ee=this._getSiblingOfChild(_4ee,dir);}return null;}});});},"epi/shell/DestroyableByKey":function(){define("epi/shell/DestroyableByKey",["dojo/_base/array","dojo/_base/declare","dijit/Destroyable"],function(_4f0,_4f1,_4f2){return _4f1([_4f2],{_ownedByKey:null,constructor:function(){this._ownedByKey=[];},destroy:function(){var item;while(item=this._ownedByKey.pop()){item.handler.destroy();}this.inherited(arguments);},ownByKey:function(key,_4f3){var i;var _4f4=this._findOwnedByKey(key);if(!_4f4){_4f4={"key":key,"handler":new _4f2()};this._ownedByKey.push(_4f4);}for(i=1;i<arguments.length;i++){_4f4.handler.own(arguments[i]);}return this;},destroyByKey:function(key){var _4f5=this._findOwnedByKey(key);var _4f6;if(!_4f5){return;}_4f5.handler.destroy();_4f6=_4f0.indexOf(this._ownedByKey,_4f5);this._ownedByKey.splice(_4f6,1);},_findOwnedByKey:function(key){var _4f7;_4f0.some(this._ownedByKey,function(item){if(item.key===key){_4f7=item;return false;}});return _4f7;}});});},"epi/shell/widget/ToolbarSet":function(){define(["dojo/_base/declare","dijit/_WidgetBase","epi/shell/layout/ToolbarContainer","epi/shell/widget/_AddByDefinition"],function(_4f8,_4f9,_4fa,_4fb){return _4f8([_4f9,_4fb],{_layoutContainer:null,layoutContainerClass:null,postMixInProperties:function(){this.inherited(arguments);this.layoutContainerClass=this.layoutContainerClass||_4fa;},buildRendering:function(){this.inherited(arguments);this._layoutContainer=new this.layoutContainerClass();this._layoutContainer.placeAt(this.domNode);this.own(this._layoutContainer);},addChild:function(_4fc){return this._layoutContainer.addChild(_4fc);},_getLayoutContainerAttr:function(){return this._layoutContainer;}});});},"epi/shell/layout/ToolbarContainer":function(){define(["dojo/_base/declare","dojo/dom-style","dijit/_Container","dijit/_TemplatedMixin","dijit/_WidgetBase"],function(_4fd,_4fe,_4ff,_500,_501){return _4fd([_501,_500,_4ff],{cssClasses:{container:"epi-toolbarGroupContainer",leading:"epi-toolbarGroup epi-toolbarLeading",center:"epi-toolbarGroup epi-toolbarCenter",trailing:"epi-toolbarGroup epi-toolbarTrailing"},templateString:"<div class='${cssClasses.container}'>                            <div data-dojo-attach-point='leadingNode' class='${cssClasses.leading}'></div>                            <div data-dojo-attach-point='centerNode' class='${cssClasses.center}'></div>                            <div data-dojo-attach-point='trailingNode' class='${cssClasses.trailing}'></div>                        </div>",addChild:function(_502){_502.region=_502.region||"center";var _503;switch(_502.region){case "leading":_503=this.leadingNode;break;case "center":_503=this.centerNode;break;case "trailing":_503=this.trailingNode;break;}_502.placeAt(_503);}});});},"epi/shell/widget/_AddByDefinition":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/_base/lang","dojo/Deferred","dojo/dom","dojo/dom-construct","dojo/dom-style","dojo/when","dijit","dijit/_Widget","dijit/ToolbarSeparator","dijit/Menu","dijit/MenuSeparator","epi/shell/widget/WidgetFactory","dijit/CheckedMenuItem","dijit/MenuItem","dijit/form/Button","dijit/form/ComboButton","dijit/form/DropDownButton","dijit/form/RadioButton","epi/shell/widget/PopupMenuItem","epi/shell/widget/Toolbar","epi/shell/widget/ToolbarLabel","epi/shell/widget/ToolbarDropDownButton"],function(_504,_505,lang,_506,dom,_507,_508,when,_509,_50a,_50b,Menu,_50c,_50d){return _505(null,{_widgetTypeTemplates:{checkedmenuitem:{widgetType:"dijit.CheckedMenuItem"},menu:{widgetType:"dijit.Menu"},menuitem:{widgetType:"dijit.MenuItem"},popupmenu:{widgetType:"epi.shell.widget.PopupMenuItem"},button:{widgetType:"dijit.form.Button"},combo:{widgetType:"dijit.form.ComboButton"},dropdown:{widgetType:"epi.shell.widget.ToolbarDropDownButton"},radio:{widgetType:"dijit.form.RadioButton"},toolbargroup:{widgetType:"epi.shell.widget.Toolbar"},label:{widgetType:"epi.shell.widget.ToolbarLabel"}},constructor:function(){this._widgetFactory=new _50d();this._widgetMap={};},postMixInProperties:function(){this.connect(this._widgetFactory,"onWidgetHierarchyCreated",lang.hitch(this,function(_50e,_50f){this._widgetMap[_50f.name]=_50e;if(_50f.firstChildIsContainer){_50e.containerWidget=_50e.getChildren()[0];}}));var _510=function(_511,_512){var _513=_511.get("dropDown");if(!_513){_513=new Menu();_511.set("dropDown",_513);}_513.addChild(_512);if(!_512.separator){_512.set("separator","dijit.MenuSeparator");}};this._widgetFactory.addHandler("dijit.form.ComboButton",_510);},buildRendering:function(){this.inherited(arguments);dom.setSelectable(this.domNode,false);},_toComponentDefinition:function(_514){var _515=this._getComponentDefinitionTemplate(_514);_515.name=_514.name;_515.settings=lang.mixin({label:_514.label||"",showLabel:_514.label,title:_514.title||"",disabled:_514.disabled||false},_514.settings);if(_514.iconClass){_515.settings.iconClass=_514.iconClass;}var _516={onClick:_514.action};_515.connections=lang.mixin(_516,_514.connections);return _515;},_getComponentDefinitionTemplate:function(_517){var _518=lang.mixin({},this._widgetTypeTemplates[_517.type]||this._widgetTypeTemplates["button"]);if(_517.widgetType){_518.widgetType=_517.widgetType;}return _518;},_getWidget:function(name){return this._widgetMap[name];},_addSingle:function(_519){if(this._getWidget(_519.name)){return;}var _51a=this._getWidget(_519.parent)||this;var _51b=this._toComponentDefinition(_519);var def=new _506();when(this._widgetFactory.createWidgets(_51a,_51b),lang.hitch(this,function(_51c){var _51d=_51c[0];if(_519.tooltip){var html=_519.tooltip;var show=function(e){_509.showTooltip(html,e.target);};var hide=function(e){_509.hideTooltip(e.target);};this.connect(_51d.domNode,"onmouseenter",show);this.connect(_51d.domNode,"onmouseleave",hide);}this._addSeparators(_51d);def.resolve();}),function(e){console.error(e.stack||e);def.reject(e);});return def.promise;},_addSeparators:function(_51e){var _51f=_51e.getParent();if(!_51f){return;}var _520=_51f.getChildren();var i=_504.indexOf(_520,_51e);var _521=(i>0)?_520[i-1]:null;if(_521&&!this._isSeparator(_521)){if(_51e.separate){this.addSeparator(_51e,"before");}else{if(_521.separate){this.addSeparator(_521,"after");}}}var next=(_520.length>i)?_520[i+1]:null;if(next&&!this._isSeparator(next)&&(_51e.separate||next.separate)){this.addSeparator(_51e,"after");}},_getSiblingOfWidget:function(_522,dir){var node=_522.domNode;do{node=node[dir];}while(node&&(node.nodeType!=1||!_509.byNode(node)));return node&&_509.byNode(node);},add:function(_523){var self=this;var _524=function(_525){var item=_525.shift();if(!item){return null;}return when(self._addSingle(item),function(){return _524(_525);});};if(lang.isArray(_523)){return _524(_523);}else{this._addSingle(_523);}},addSeparator:function(_526,_527){var _528=function(){if(_526.separator){var _529=_526.separator.replace(/\./g,"/"),_52a=new _506();require([_529],function(_52b){_52a.resolve(new _52b());});return _52a.promise;}return new _50b();};when(_528(),lang.hitch(this,function(_52c){var _52d=_526?_526.domNode:this.domNode;_507.place(_52c.domNode,_52d,_527);}));},_removeSingle:function(name){var _52e=this._widgetMap[name];delete this._widgetMap[name];if(_52e){this._removeSeparators(_52e);_52e.destroy();}},_removeSeparators:function(_52f){if(!_52f.domNode){return;}var _530=_52f.getParent();if(!_530){return;}var _531;var _532=_530.getChildren();var i=_504.indexOf(_532,_52f);var next=(_532.length>i)?_532[i+1]:null;var _533=(i>0)?_532[i-1]:null;if(next&&this._isSeparator(next)&&_532.length>=i+2){_531=next;next=_532[i+2];if(next.separate&&i>0){if(_533&&this._isSeparator(_533)){_533.destroy();return;}}else{_531.destroy();}}if(_533&&this._isSeparator(_533)&&i-2>=0){_531=_533;_533=_532[i-2];if(!_533.separate){_531.destroy();}}},_isSeparator:function(_534){return _534 instanceof _509.ToolbarSeparator||_534 instanceof _509.MenuSeparator;},remove:function(_535){if(lang.isArray(_535)){_504.forEach(_535,lang.hitch(this,this._removeSingle));}else{this._removeSingle(_535);}},clear:function(){for(var name in this._widgetMap){this._removeSingle(name);}},destroy:function(){this.clear();this.inherited(arguments);},setItemProperty:function(_536,_537,_538){if(lang.isArray(_536)){_504.forEach(_536,function(name){this._setInternal(name,_537,_538);});}else{this._setInternal(_536,_537,_538);}},setItemVisibility:function(name,_539){var _53a=this._widgetMap[name];if(_53a){_508.set(_53a.domNode,{display:(_539?"":"none")});_53a.set("itemVisibility",_539);}},_setInternal:function(name,_53b,_53c){var _53d=this._widgetMap[name];if(_53d){_53d.set(_53b,_53c);}}});});},"dijit/ToolbarSeparator":function(){define("dijit/ToolbarSeparator",["dojo/_base/declare","dojo/dom","./_Widget","./_TemplatedMixin"],function(_53e,dom,_53f,_540){return _53e("dijit.ToolbarSeparator",[_53f,_540],{templateString:"<div class=\"dijitToolbarSeparator dijitInline\" role=\"presentation\"></div>",buildRendering:function(){this.inherited(arguments);dom.setSelectable(this.domNode,false);},isFocusable:function(){return false;}});});},"dijit/Menu":function(){define("dijit/Menu",["require","dojo/_base/array","dojo/_base/declare","dojo/_base/event","dojo/dom","dojo/dom-attr","dojo/dom-geometry","dojo/dom-style","dojo/keys","dojo/_base/lang","dojo/on","dojo/sniff","dojo/_base/window","dojo/window","./popup","./DropDownMenu","dojo/ready"],function(_541,_542,_543,_544,dom,_545,_546,_547,keys,lang,on,has,win,_548,pm,_549,_54a){if(has("dijit-legacy-requires")){_54a(0,function(){var _54b=["dijit/MenuItem","dijit/PopupMenuItem","dijit/CheckedMenuItem","dijit/MenuSeparator"];_541(_54b);});}return _543("dijit.Menu",_549,{constructor:function(){this._bindings=[];},targetNodeIds:[],selector:"",contextMenuForWindow:false,leftClickToOpen:false,refocus:true,postCreate:function(){if(this.contextMenuForWindow){this.bindDomNode(this.ownerDocumentBody);}else{_542.forEach(this.targetNodeIds,this.bindDomNode,this);}this.inherited(arguments);},_iframeContentWindow:function(_54c){return _548.get(this._iframeContentDocument(_54c))||this._iframeContentDocument(_54c)["__parent__"]||(_54c.name&&win.doc.frames[_54c.name])||null;},_iframeContentDocument:function(_54d){return _54d.contentDocument||(_54d.contentWindow&&_54d.contentWindow.document)||(_54d.name&&win.doc.frames[_54d.name]&&win.doc.frames[_54d.name].document)||null;},bindDomNode:function(node){node=dom.byId(node,this.ownerDocument);var cn;if(node.tagName.toLowerCase()=="iframe"){var _54e=node,_54f=this._iframeContentWindow(_54e);cn=win.body(_54f.document);}else{cn=(node==win.body(this.ownerDocument)?this.ownerDocument.documentElement:node);}var _550={node:node,iframe:_54e};_545.set(node,"_dijitMenu"+this.id,this._bindings.push(_550));var _551=lang.hitch(this,function(cn){var _552=this.selector,_553=_552?function(_554){return on.selector(_552,_554);}:function(_555){return _555;},self=this;return [on(cn,_553(this.leftClickToOpen?"click":"contextmenu"),function(evt){_544.stop(evt);self._scheduleOpen(this,_54e,{x:evt.pageX,y:evt.pageY});}),on(cn,_553("keydown"),function(evt){if(evt.shiftKey&&evt.keyCode==keys.F10){_544.stop(evt);self._scheduleOpen(this,_54e);}})];});_550.connects=cn?_551(cn):[];if(_54e){_550.onloadHandler=lang.hitch(this,function(){var _556=this._iframeContentWindow(_54e);cn=win.body(_556.document);_550.connects=_551(cn);});if(_54e.addEventListener){_54e.addEventListener("load",_550.onloadHandler,false);}else{_54e.attachEvent("onload",_550.onloadHandler);}}},unBindDomNode:function(_557){var node;try{node=dom.byId(_557,this.ownerDocument);}catch(e){return;}var _558="_dijitMenu"+this.id;if(node&&_545.has(node,_558)){var bid=_545.get(node,_558)-1,b=this._bindings[bid],h;while((h=b.connects.pop())){h.remove();}var _559=b.iframe;if(_559){if(_559.removeEventListener){_559.removeEventListener("load",b.onloadHandler,false);}else{_559.detachEvent("onload",b.onloadHandler);}}_545.remove(node,_558);delete this._bindings[bid];}},_scheduleOpen:function(_55a,_55b,_55c){if(!this._openTimer){this._openTimer=this.defer(function(){delete this._openTimer;this._openMyself({target:_55a,iframe:_55b,coords:_55c});},1);}},_openMyself:function(args){var _55d=args.target,_55e=args.iframe,_55f=args.coords;this.currentTarget=_55d;if(_55f){if(_55e){var ifc=_546.position(_55e,true),_560=this._iframeContentWindow(_55e),_561=_546.docScroll(_560.document);var cs=_547.getComputedStyle(_55e),tp=_547.toPixelValue,left=(has("ie")&&has("quirks")?0:tp(_55e,cs.paddingLeft))+(has("ie")&&has("quirks")?tp(_55e,cs.borderLeftWidth):0),top=(has("ie")&&has("quirks")?0:tp(_55e,cs.paddingTop))+(has("ie")&&has("quirks")?tp(_55e,cs.borderTopWidth):0);_55f.x+=ifc.x+left-_561.x;_55f.y+=ifc.y+top-_561.y;}}else{_55f=_546.position(_55d,true);_55f.x+=10;_55f.y+=10;}var self=this;var _562=this._focusManager.get("prevNode");var _563=this._focusManager.get("curNode");var _564=!_563||(dom.isDescendant(_563,this.domNode))?_562:_563;function _565(){if(self.refocus&&_564){_564.focus();}pm.close(self);};pm.open({popup:this,x:_55f.x,y:_55f.y,onExecute:_565,onCancel:_565,orient:this.isLeftToRight()?"L":"R"});this.focus();this._onBlur=function(){this.inherited("_onBlur",arguments);pm.close(this);};},destroy:function(){_542.forEach(this._bindings,function(b){if(b){this.unBindDomNode(b.node);}},this);this.inherited(arguments);}});});},"dijit/popup":function(){define("dijit/popup",["dojo/_base/array","dojo/aspect","dojo/_base/connect","dojo/_base/declare","dojo/dom","dojo/dom-attr","dojo/dom-construct","dojo/dom-geometry","dojo/dom-style","dojo/_base/event","dojo/keys","dojo/_base/lang","dojo/on","dojo/sniff","./place","./BackgroundIframe","./main"],function(_566,_567,_568,_569,dom,_56a,_56b,_56c,_56d,_56e,keys,lang,on,has,_56f,_570,_571){function _572(){if(this._popupWrapper){_56b.destroy(this._popupWrapper);delete this._popupWrapper;}};var _573=_569(null,{_stack:[],_beginZIndex:1000,_idGen:1,_createWrapper:function(_574){var _575=_574._popupWrapper,node=_574.domNode;if(!_575){_575=_56b.create("div",{"class":"dijitPopup",style:{display:"none"},role:"presentation"},_574.ownerDocumentBody);_575.appendChild(node);var s=node.style;s.display="";s.visibility="";s.position="";s.top="0px";_574._popupWrapper=_575;_567.after(_574,"destroy",_572,true);}return _575;},moveOffScreen:function(_576){var _577=this._createWrapper(_576);_56d.set(_577,{visibility:"hidden",top:"-9999px",display:""});},hide:function(_578){var _579=this._createWrapper(_578);_56d.set(_579,"display","none");},getTopPopup:function(){var _57a=this._stack;for(var pi=_57a.length-1;pi>0&&_57a[pi].parent===_57a[pi-1].widget;pi--){}return _57a[pi];},open:function(args){var _57b=this._stack,_57c=args.popup,_57d=args.orient||["below","below-alt","above","above-alt"],ltr=args.parent?args.parent.isLeftToRight():_56c.isBodyLtr(_57c.ownerDocument),_57e=args.around,id=(args.around&&args.around.id)?(args.around.id+"_dropdown"):("popup_"+this._idGen++);while(_57b.length&&(!args.parent||!dom.isDescendant(args.parent.domNode,_57b[_57b.length-1].widget.domNode))){this.close(_57b[_57b.length-1].widget);}var _57f=this._createWrapper(_57c);_56a.set(_57f,{id:id,style:{zIndex:this._beginZIndex+_57b.length},"class":"dijitPopup "+(_57c.baseClass||_57c["class"]||"").split(" ")[0]+"Popup",dijitPopupParent:args.parent?args.parent.id:""});if(has("ie")||has("mozilla")){if(!_57c.bgIframe){_57c.bgIframe=new _570(_57f);}}var best=_57e?_56f.around(_57f,_57e,_57d,ltr,_57c.orient?lang.hitch(_57c,"orient"):null):_56f.at(_57f,args,_57d=="R"?["TR","BR","TL","BL"]:["TL","BL","TR","BR"],args.padding);_57f.style.display="";_57f.style.visibility="visible";_57c.domNode.style.visibility="visible";var _580=[];_580.push(on(_57f,_568._keypress,lang.hitch(this,function(evt){if(evt.charOrCode==keys.ESCAPE&&args.onCancel){_56e.stop(evt);args.onCancel();}else{if(evt.charOrCode===keys.TAB){_56e.stop(evt);var _581=this.getTopPopup();if(_581&&_581.onCancel){_581.onCancel();}}}})));if(_57c.onCancel&&args.onCancel){_580.push(_57c.on("cancel",args.onCancel));}_580.push(_57c.on(_57c.onExecute?"execute":"change",lang.hitch(this,function(){var _582=this.getTopPopup();if(_582&&_582.onExecute){_582.onExecute();}})));_57b.push({widget:_57c,parent:args.parent,onExecute:args.onExecute,onCancel:args.onCancel,onClose:args.onClose,handlers:_580});if(_57c.onOpen){_57c.onOpen(best);}return best;},close:function(_583){var _584=this._stack;while((_583&&_566.some(_584,function(elem){return elem.widget==_583;}))||(!_583&&_584.length)){var top=_584.pop(),_585=top.widget,_586=top.onClose;if(_585.onClose){_585.onClose();}var h;while(h=top.handlers.pop()){h.remove();}if(_585&&_585.domNode){this.hide(_585);}if(_586){_586();}}}});return (_571.popup=new _573());});},"dijit/place":function(){define("dijit/place",["dojo/_base/array","dojo/dom-geometry","dojo/dom-style","dojo/_base/kernel","dojo/_base/window","dojo/window","./main"],function(_587,_588,_589,_58a,win,_58b,_58c){function _58d(node,_58e,_58f,_590){var view=_58b.getBox(node.ownerDocument);if(!node.parentNode||String(node.parentNode.tagName).toLowerCase()!="body"){win.body(node.ownerDocument).appendChild(node);}var best=null;_587.some(_58e,function(_591){var _592=_591.corner;var pos=_591.pos;var _593=0;var _594={w:{"L":view.l+view.w-pos.x,"R":pos.x-view.l,"M":view.w}[_592.charAt(1)],h:{"T":view.t+view.h-pos.y,"B":pos.y-view.t,"M":view.h}[_592.charAt(0)]};var s=node.style;s.left=s.right="auto";if(_58f){var res=_58f(node,_591.aroundCorner,_592,_594,_590);_593=typeof res=="undefined"?0:res;}var _595=node.style;var _596=_595.display;var _597=_595.visibility;if(_595.display=="none"){_595.visibility="hidden";_595.display="";}var bb=_588.position(node);_595.display=_596;_595.visibility=_597;var _598={"L":pos.x,"R":pos.x-bb.w,"M":Math.max(view.l,Math.min(view.l+view.w,pos.x+(bb.w>>1))-bb.w)}[_592.charAt(1)],_599={"T":pos.y,"B":pos.y-bb.h,"M":Math.max(view.t,Math.min(view.t+view.h,pos.y+(bb.h>>1))-bb.h)}[_592.charAt(0)],_59a=Math.max(view.l,_598),_59b=Math.max(view.t,_599),endX=Math.min(view.l+view.w,_598+bb.w),endY=Math.min(view.t+view.h,_599+bb.h),_59c=endX-_59a,_59d=endY-_59b;_593+=(bb.w-_59c)+(bb.h-_59d);if(best==null||_593<best.overflow){best={corner:_592,aroundCorner:_591.aroundCorner,x:_59a,y:_59b,w:_59c,h:_59d,overflow:_593,spaceAvailable:_594};}return !_593;});if(best.overflow&&_58f){_58f(node,best.aroundCorner,best.corner,best.spaceAvailable,_590);}var l=_588.isBodyLtr(node.ownerDocument),s=node.style;s.top=best.y+"px";s[l?"left":"right"]=(l?best.x:view.w-best.x-best.w)+"px";s[l?"right":"left"]="auto";return best;};var _59e={at:function(node,pos,_59f,_5a0){var _5a1=_587.map(_59f,function(_5a2){var c={corner:_5a2,pos:{x:pos.x,y:pos.y}};if(_5a0){c.pos.x+=_5a2.charAt(1)=="L"?_5a0.x:-_5a0.x;c.pos.y+=_5a2.charAt(0)=="T"?_5a0.y:-_5a0.y;}return c;});return _58d(node,_5a1);},around:function(node,_5a3,_5a4,_5a5,_5a6){var _5a7=(typeof _5a3=="string"||"offsetWidth" in _5a3)?_588.position(_5a3,true):_5a3;if(_5a3.parentNode){var _5a8=_589.getComputedStyle(_5a3).position=="absolute";var _5a9=_5a3.parentNode;while(_5a9&&_5a9.nodeType==1&&_5a9.nodeName!="BODY"){var _5aa=_588.position(_5a9,true),pcs=_589.getComputedStyle(_5a9);if(/relative|absolute/.test(pcs.position)){_5a8=false;}if(!_5a8&&/hidden|auto|scroll/.test(pcs.overflow)){var _5ab=Math.min(_5a7.y+_5a7.h,_5aa.y+_5aa.h);var _5ac=Math.min(_5a7.x+_5a7.w,_5aa.x+_5aa.w);_5a7.x=Math.max(_5a7.x,_5aa.x);_5a7.y=Math.max(_5a7.y,_5aa.y);_5a7.h=_5ab-_5a7.y;_5a7.w=_5ac-_5a7.x;}if(pcs.position=="absolute"){_5a8=true;}_5a9=_5a9.parentNode;}}var x=_5a7.x,y=_5a7.y,_5ad="w" in _5a7?_5a7.w:(_5a7.w=_5a7.width),_5ae="h" in _5a7?_5a7.h:(_58a.deprecated("place.around: dijit/place.__Rectangle: { x:"+x+", y:"+y+", height:"+_5a7.height+", width:"+_5ad+" } has been deprecated.  Please use { x:"+x+", y:"+y+", h:"+_5a7.height+", w:"+_5ad+" }","","2.0"),_5a7.h=_5a7.height);var _5af=[];function push(_5b0,_5b1){_5af.push({aroundCorner:_5b0,corner:_5b1,pos:{x:{"L":x,"R":x+_5ad,"M":x+(_5ad>>1)}[_5b0.charAt(1)],y:{"T":y,"B":y+_5ae,"M":y+(_5ae>>1)}[_5b0.charAt(0)]}});};_587.forEach(_5a4,function(pos){var ltr=_5a5;switch(pos){case "above-centered":push("TM","BM");break;case "below-centered":push("BM","TM");break;case "after-centered":ltr=!ltr;case "before-centered":push(ltr?"ML":"MR",ltr?"MR":"ML");break;case "after":ltr=!ltr;case "before":push(ltr?"TL":"TR",ltr?"TR":"TL");push(ltr?"BL":"BR",ltr?"BR":"BL");break;case "below-alt":ltr=!ltr;case "below":push(ltr?"BL":"BR",ltr?"TL":"TR");push(ltr?"BR":"BL",ltr?"TR":"TL");break;case "above-alt":ltr=!ltr;case "above":push(ltr?"TL":"TR",ltr?"BL":"BR");push(ltr?"TR":"TL",ltr?"BR":"BL");break;default:push(pos.aroundCorner,pos.corner);}});var _5b2=_58d(node,_5af,_5a6,{w:_5ad,h:_5ae});_5b2.aroundNodePos=_5a7;return _5b2;}};return _58c.place=_59e;});},"dijit/DropDownMenu":function(){require({cache:{"url:dijit/templates/Menu.html":"<table class=\"dijit dijitMenu dijitMenuPassive dijitReset dijitMenuTable\" role=\"menu\" tabIndex=\"${tabIndex}\"\n\t   data-dojo-attach-event=\"onkeypress:_onKeyPress\" cellspacing=\"0\">\n\t<tbody class=\"dijitReset\" data-dojo-attach-point=\"containerNode\"></tbody>\n</table>\n"}});define("dijit/DropDownMenu",["dojo/_base/declare","dojo/_base/event","dojo/keys","dojo/text!./templates/Menu.html","./_OnDijitClickMixin","./_MenuBase"],function(_5b3,_5b4,keys,_5b5,_5b6,_5b7){return _5b3("dijit.DropDownMenu",[_5b7,_5b6],{templateString:_5b5,baseClass:"dijitMenu",postCreate:function(){this.inherited(arguments);var l=this.isLeftToRight();this._openSubMenuKey=l?keys.RIGHT_ARROW:keys.LEFT_ARROW;this._closeSubMenuKey=l?keys.LEFT_ARROW:keys.RIGHT_ARROW;this.connectKeyNavHandlers([keys.UP_ARROW],[keys.DOWN_ARROW]);},_onKeyPress:function(evt){if(evt.ctrlKey||evt.altKey){return;}switch(evt.charOrCode){case this._openSubMenuKey:this._moveToPopup(evt);_5b4.stop(evt);break;case this._closeSubMenuKey:if(this.parentMenu){if(this.parentMenu._isMenuBar){this.parentMenu.focusPrev();}else{this.onCancel(false);}}else{_5b4.stop(evt);}break;}}});});},"url:dijit/templates/Menu.html":"<table class=\"dijit dijitMenu dijitMenuPassive dijitReset dijitMenuTable\" role=\"menu\" tabIndex=\"${tabIndex}\"\n\t   data-dojo-attach-event=\"onkeypress:_onKeyPress\" cellspacing=\"0\">\n\t<tbody class=\"dijitReset\" data-dojo-attach-point=\"containerNode\"></tbody>\n</table>\n","dijit/_MenuBase":function(){define("dijit/_MenuBase",["dojo/_base/array","dojo/_base/declare","dojo/dom","dojo/dom-attr","dojo/dom-class","dojo/_base/lang","dojo/mouse","dojo/on","dojo/window","./a11yclick","./popup","./registry","./_Widget","./_KeyNavContainer","./_TemplatedMixin"],function(_5b8,_5b9,dom,_5ba,_5bb,lang,_5bc,on,_5bd,_5be,pm,_5bf,_5c0,_5c1,_5c2){return _5b9("dijit._MenuBase",[_5c0,_5c2,_5c1],{parentMenu:null,popupDelay:500,autoFocus:false,childSelector:function(node){var _5c3=_5bf.byNode(node);return node.parentNode==this.containerNode&&_5c3&&_5c3.focus;},postCreate:function(){var self=this,_5c4=typeof this.childSelector=="string"?this.childSelector:lang.hitch(this,"childSelector");this.own(on(this.containerNode,on.selector(_5c4,_5bc.enter),function(){self.onItemHover(_5bf.byNode(this));}),on(this.containerNode,on.selector(_5c4,_5bc.leave),function(){self.onItemUnhover(_5bf.byNode(this));}),on(this.containerNode,on.selector(_5c4,_5be),function(evt){self.onItemClick(_5bf.byNode(this),evt);evt.stopPropagation();evt.preventDefault();}));this.inherited(arguments);},onExecute:function(){},onCancel:function(){},_moveToPopup:function(evt){if(this.focusedChild&&this.focusedChild.popup&&!this.focusedChild.disabled){this.onItemClick(this.focusedChild,evt);}else{var _5c5=this._getTopMenu();if(_5c5&&_5c5._isMenuBar){_5c5.focusNext();}}},_onPopupHover:function(){if(this.currentPopup&&this.currentPopup._pendingClose_timer){var _5c6=this.currentPopup.parentMenu;if(_5c6.focusedChild){_5c6.focusedChild._setSelected(false);}_5c6.focusedChild=this.currentPopup.from_item;_5c6.focusedChild._setSelected(true);this._stopPendingCloseTimer(this.currentPopup);}},onItemHover:function(item){if(this.isActive){this.focusChild(item);if(this.focusedChild.popup&&!this.focusedChild.disabled&&!this.hover_timer){this.hover_timer=this.defer("_openPopup",this.popupDelay);}}if(this.focusedChild){this.focusChild(item);}this._hoveredChild=item;item._set("hovering",true);},_onChildBlur:function(item){this._stopPopupTimer();item._setSelected(false);var _5c7=item.popup;if(_5c7){this._stopPendingCloseTimer(_5c7);_5c7._pendingClose_timer=this.defer(function(){_5c7._pendingClose_timer=null;if(_5c7.parentMenu){_5c7.parentMenu.currentPopup=null;}pm.close(_5c7);},this.popupDelay);}},onItemUnhover:function(item){if(this.isActive){this._stopPopupTimer();}if(this._hoveredChild==item){this._hoveredChild=null;}item._set("hovering",false);},_stopPopupTimer:function(){if(this.hover_timer){this.hover_timer=this.hover_timer.remove();}},_stopPendingCloseTimer:function(_5c8){if(_5c8._pendingClose_timer){_5c8._pendingClose_timer=_5c8._pendingClose_timer.remove();}},_stopFocusTimer:function(){if(this._focus_timer){this._focus_timer=this._focus_timer.remove();}},_getTopMenu:function(){for(var top=this;top.parentMenu;top=top.parentMenu){}return top;},onItemClick:function(item,evt){if(typeof this.isShowingNow=="undefined"){this._markActive();}this.focusChild(item);if(item.disabled){return false;}if(item.popup){this._openPopup(evt.type=="keypress");}else{this.onExecute();item._onClick?item._onClick(evt):item.onClick(evt);}},_openPopup:function(_5c9){this._stopPopupTimer();var _5ca=this.focusedChild;if(!_5ca){return;}var _5cb=_5ca.popup;if(!_5cb.isShowingNow){if(this.currentPopup){this._stopPendingCloseTimer(this.currentPopup);pm.close(this.currentPopup);}_5cb.parentMenu=this;_5cb.from_item=_5ca;var self=this;pm.open({parent:this,popup:_5cb,around:_5ca.domNode,orient:this._orient||["after","before"],onCancel:function(){self.focusChild(_5ca);self._cleanUp();_5ca._setSelected(true);self.focusedChild=_5ca;},onExecute:lang.hitch(this,"_cleanUp")});this.currentPopup=_5cb;_5cb.connect(_5cb.domNode,"onmouseenter",lang.hitch(self,"_onPopupHover"));}if(_5c9&&_5cb.focus){_5cb._focus_timer=this.defer(lang.hitch(_5cb,function(){this._focus_timer=null;this.focus();}));}},_markActive:function(){this.isActive=true;_5bb.replace(this.domNode,"dijitMenuActive","dijitMenuPassive");},onOpen:function(){this.isShowingNow=true;this._markActive();},_markInactive:function(){this.isActive=false;_5bb.replace(this.domNode,"dijitMenuPassive","dijitMenuActive");},onClose:function(){this._stopFocusTimer();this._markInactive();this.isShowingNow=false;this.parentMenu=null;},_closeChild:function(){this._stopPopupTimer();if(this.currentPopup){if(_5b8.indexOf(this._focusManager.activeStack,this.id)>=0){_5ba.set(this.focusedChild.focusNode,"tabIndex",this.tabIndex);this.focusedChild.focusNode.focus();}pm.close(this.currentPopup);this.currentPopup=null;}if(this.focusedChild){this.focusedChild._setSelected(false);this.onItemUnhover(this.focusedChild);this.focusedChild=null;}},_onItemFocus:function(item){if(this._hoveredChild&&this._hoveredChild!=item){this.onItemUnhover(this._hoveredChild);}},_onBlur:function(){this._cleanUp();this.inherited(arguments);},_cleanUp:function(){this._closeChild();if(typeof this.isShowingNow=="undefined"){this._markInactive();}}});});},"dijit/MenuSeparator":function(){require({cache:{"url:dijit/templates/MenuSeparator.html":"<tr class=\"dijitMenuSeparator\">\n\t<td class=\"dijitMenuSeparatorIconCell\">\n\t\t<div class=\"dijitMenuSeparatorTop\"></div>\n\t\t<div class=\"dijitMenuSeparatorBottom\"></div>\n\t</td>\n\t<td colspan=\"3\" class=\"dijitMenuSeparatorLabelCell\">\n\t\t<div class=\"dijitMenuSeparatorTop dijitMenuSeparatorLabel\"></div>\n\t\t<div class=\"dijitMenuSeparatorBottom\"></div>\n\t</td>\n</tr>"}});define("dijit/MenuSeparator",["dojo/_base/declare","dojo/dom","./_WidgetBase","./_TemplatedMixin","./_Contained","dojo/text!./templates/MenuSeparator.html"],function(_5cc,dom,_5cd,_5ce,_5cf,_5d0){return _5cc("dijit.MenuSeparator",[_5cd,_5ce,_5cf],{templateString:_5d0,buildRendering:function(){this.inherited(arguments);dom.setSelectable(this.domNode,false);},isFocusable:function(){return false;}});});},"dijit/_Contained":function(){define("dijit/_Contained",["dojo/_base/declare","./registry"],function(_5d1,_5d2){return _5d1("dijit._Contained",null,{_getSibling:function(_5d3){var node=this.domNode;do{node=node[_5d3+"Sibling"];}while(node&&node.nodeType!=1);return node&&_5d2.byNode(node);},getPreviousSibling:function(){return this._getSibling("previous");},getNextSibling:function(){return this._getSibling("next");},getIndexInParent:function(){var p=this.getParent();if(!p||!p.getIndexOfChild){return -1;}return p.getIndexOfChild(this);}});});},"url:dijit/templates/MenuSeparator.html":"<tr class=\"dijitMenuSeparator\">\n\t<td class=\"dijitMenuSeparatorIconCell\">\n\t\t<div class=\"dijitMenuSeparatorTop\"></div>\n\t\t<div class=\"dijitMenuSeparatorBottom\"></div>\n\t</td>\n\t<td colspan=\"3\" class=\"dijitMenuSeparatorLabelCell\">\n\t\t<div class=\"dijitMenuSeparatorTop dijitMenuSeparatorLabel\"></div>\n\t\t<div class=\"dijitMenuSeparatorBottom\"></div>\n\t</td>\n</tr>","epi/shell/widget/WidgetFactory":function(){define(["dojo/_base/array","dojo/_base/Deferred","dojo/_base/declare","dojo/_base/lang","dojo/dom","dojo/promise/all","dojo/when","epi/string","epi/dependency","dijit/_Widget","dijit/_Container","dojox/layout/GridContainerLite","epi/shell/widget/ToolbarDropDownButton","epi/shell/widget/ToolbarSet"],function(_5d4,_5d5,_5d6,lang,dom,all,when,_5d7,_5d8){return _5d6(null,{_domNodeName:"[domnode]",_handlers:null,moduleManager:null,messageService:undefined,onWidgetHierarchyCreated:null,onWidgetCreated:null,constructor:function(_5d9){_5d6.safeMixin(this,_5d9);this._handlers=[];this._addDefaultHandlers();this.messageService=this.messageService||_5d8.resolve("epi.shell.MessageService");this.moduleManager=this.moduleManager||_5d8.resolve("epi.ModuleManager");},createWidgets:function(root,_5da){if(typeof (root)==="string"){root=dom.byId(root);}if(_5da&&!lang.isArray(_5da)){_5da=[_5da];}var _5db=[];var _5dc=[];var _5dd=lang.hitch(this,function(_5de){if(_5de instanceof Array){for(var i in _5de){_5dd(_5de[i]);}}if(_5de.components instanceof Array){_5dd(_5de.components);}if(_5de.moduleName){_5dc.push(this.moduleManager.startModules(_5de.moduleName));}if(_5de.widgetPackage){_5db.push(_5d7.slashName(_5de.widgetPackage));}else{if(_5de.widgetType){_5db.push(_5d7.slashName(_5de.widgetType));}}});_5dd(_5da);var _5df=new _5d5();var _5e0=require.on("error",function(_5e1){console.error(_5e1.stack||_5e1);_5e0.remove();_5df.reject(_5e1);});all(_5dc).then(lang.hitch(this,function(){require(_5db,lang.hitch(this,function(){_5e0.remove();this._createWidgets(root,_5da).then(function(_5e2){try{_5d4.forEach(_5e2,function(w){if(!w._started&&w.startup){w.startup();}});_5df.resolve(_5e2);}catch(err){_5df.reject(err);}},_5df.reject);}));}));return _5df;},_createWidgets:function(root,_5e3){var dfd=new _5d5();var _5e4=[];var _5e5=this.getHandler(root);if(!_5e5||!lang.isArray(_5e3)){dfd.resolve(_5e4);return dfd;}var _5e6=_5d4.map(_5e3,lang.hitch(this,function(_5e7){var done=new _5d5();var _5e8=this._createInternal(root,_5e7,_5e5);_5e8.then(function(_5e9){if(_5e9){_5e4.push(_5e9);}done.resolve(_5e9);},function(e){console.error(e.stack||e);done.reject(e);});return done;}));all(_5e6).then(function(){dfd.resolve(_5e4);},function(_5ea){console.error("WidgetFactory: Could not resolve one or more widgets");dfd.reject(_5ea);});return dfd;},_createInternal:function(root,_5eb,_5ec){var _5ed=new _5d5();when(_5ec.instantiateWidgetFunction(_5eb),lang.hitch(this,function(_5ee){if(_5ee){try{if(typeof this.onWidgetCreated=="function"){this.onWidgetCreated(_5ee,_5eb);}var _5ef=(_5ec.type==this._domNodeName);if(!_5ef){_5ec.addWidgetToRootFunction(root,_5ee);}}catch(e){_5ed.reject(e);return;}var _5f0=new _5d5();if(_5eb.components&&lang.isArray(_5eb.components)&&_5eb.components.length>0){_5f0=this._createWidgets(_5ee,_5eb.components);}else{_5f0.resolve();}_5f0.then(lang.hitch(this,function(){try{if(_5ef){_5ec.addWidgetToRootFunction(root,_5ee);}if(typeof this.onWidgetHierarchyCreated=="function"){this.onWidgetHierarchyCreated(_5ee,_5eb);}_5ed.resolve(_5ee);}catch(e){_5ed.reject(e);}}),_5ed.reject);}else{_5ed.reject();}}),function(_5f1){console.error(_5f1.stack||_5f1);_5ed.reject(_5f1);});return _5ed;},defaultWidgetInstantiator:function(_5f2){var def=new _5d5();var _5f3=lang.mixin({},_5f2.settings,{componentId:_5f2.id});var _5f4=_5d7.slashName(_5f2.widgetType);var _5f5=_5f2.widgetPackage&&lang.getObject(_5f2.widgetType);var _5f6=require.on("error",function(_5f7){console.error(_5f7.stack||_5f7);_5f6.remove();def.reject(_5f7);});function _5f8(ctor){var _5f9=new ctor(_5f3);if(_5f2.connections){for(var evt in _5f2.connections){if(_5f2.connections[evt]){_5f9.connect(_5f9,evt,_5f2.connections[evt]);}}}_5f6.remove();def.resolve(_5f9);};if(_5f5){_5f8(_5f5);}else{require([_5f4],lang.hitch(this,_5f8));}return def;},_notifyError:function(msg){if(this.messageService){this.messageService.put("error",msg);}},_addDefaultHandlers:function(){this.addHandler(this._domNodeName,function(_5fa,_5fb){_5fb.placeAt(_5fa);},null,function(){return true;});this.addHandler("dijit/_Widget",function(_5fc,_5fd){_5fc.set("content",_5fd);});this.addHandler("dijit/_Container",function(_5fe,_5ff){_5fe.addChild(_5ff);});this.addHandler("dojox/layout/GridContainerLite",function(_600,_601){_600.addChild(_601,_601.params.column);});this.addHandler("epi/shell/widget/ToolbarDropDownButton",function(_602,_603){_602.addChild(_603);});this.addHandler("epi/shell/widget/ToolbarSet",function(_604,_605){_604.addChild(_605);});},addHandler:function(_606,_607,_608,_609){var _60a=function(_60b,_60c){return _60c&&lang.isFunction(_60b.isInstanceOf)&&_60b.isInstanceOf(_60c);};var _60d=lang.hitch(this,function(type){var _60e=this.getHandlerByTypeName(_606);var _60f=_609||_60a;var _610=_60e?true:false;if(!_610){_60e={};}var _611=_608||lang.hitch(this,this.defaultWidgetInstantiator);_60e.type=_606;_60e.instantiateWidgetFunction=_611;_60e.addWidgetToRootFunction=_607;_60e.widgetConstructor=type;_60e.canHandle=_60f;if(!_610){this._handlers.push(_60e);}});if(_606!=this._domNodeName){require([_5d7.slashName(_606)],_60d);}else{_60d();}},getHandler:function(root){var _612=this._handlers;for(var i=_612.length-1;i>=0;i--){if(_612[i].canHandle(root,_612[i].widgetConstructor)){return _612[i];}}return null;},getHandlerByTypeName:function(_613){var _614=this._handlers;for(var i=0;i<_614.length;i++){if(_614[i].type===_613){return _614[i];}}return null;},removeHandler:function(_615){var _616=this._handlers;for(var i=0;i<_616.length;i++){if(_616[i].type===_615){_616.splice(i,1);}}},listHandlers:function(){var _617=this._handlers;return _5d4.map(_617,function(_618){return _618.type;});}});});},"epi/string":function(){define("epi/string",["dojo/_base/lang","dojo/dom-construct"],function(lang,_619){return {pascalToCamel:function(_61a){var _61b=_61a.split(".");var _61c=this._toCamelCase(_61b[0]);for(var i=1;i<_61b.length;i++){_61c+="."+this._toCamelCase(_61b[i]);}return _61c;},_toCamelCase:function(_61d){if(!_61d){return "";}if(_61d[0]===_61d[0].toLowerCase()){return _61d;}var _61e="";for(var i=0;i<_61d.length;i++){var _61f=(i+1<_61d.length);if((i===0||!_61f)||_61d[i+1]===_61d[i+1].toUpperCase()){_61e+=_61d[i].toLowerCase();}else{_61e+=_61d.substring(i);break;}}return _61e;},stripHtmlTags:function(_620){if(this.isNullOrEmpty(_620)){return "";}var dom=_619.toDom(_620.replace(/&/gim,"&amp;"));return this.removeAllCarriageReturns(dom.textContent||dom.innerText);},removeAllCarriageReturns:function(_621){if(this.isNullOrEmpty(_621)){return "";}var _622=_621.replace(/\t|\r|\n/gim,"");return _622.replace(/  +/gim," ");},encodeForWebString:function(_623,_624){if(this.isNullOrEmpty(_623)){return "";}var _625=_623.replace(/&/gim,"&amp;").replace(/</gim,"&lt;").replace(/>/gim,"&gt;");if(_624==null||_624.Length==0){return _625;}var _626=new RegExp("&lt;(/?("+_624.join("|")+")/?s*)&gt;","gim");return _625.replace(_626,"<$1>");},isNullOrEmpty:function(_627){return !_627||(/^\s*$/).test(_627);},toHTML:function(_628){if(this.isNullOrEmpty(_628)){return "";}return _628.replace(/\\n/gim,"<br/>");},toTooltipText:function(_629){if(this.isNullOrEmpty(_629)){return "";}return _629.replace(/\\n/gim,"\n");},slashName:function(name){return name.replace(/\./g,"/");},appendTrailingSlash:function(url){return url.replace(/\/?$/,"/");}};});},"dojox/layout/GridContainerLite":function(){require({cache:{"url:dojox/layout/resources/GridContainer.html":"<div id=\"${id}\" class=\"gridContainer\" dojoAttachPoint=\"containerNode\" tabIndex=\"0\" dojoAttachEvent=\"onkeypress:_selectFocus\">\n\t<div dojoAttachPoint=\"gridContainerDiv\">\n\t\t<table class=\"gridContainerTable\" dojoAttachPoint=\"gridContainerTable\" cellspacing=\"0\" cellpadding=\"0\">\n\t\t\t<tbody>\n\t\t\t\t<tr dojoAttachPoint=\"gridNode\" >\n\t\t\t\t\t\n\t\t\t\t</tr>\n\t\t\t</tbody>\n\t\t</table>\n\t</div>\n</div>"}});define("dojox/layout/GridContainerLite",["dojo/_base/kernel","dojo/text!./resources/GridContainer.html","dojo/_base/declare","dojo/query","dojo/_base/sniff","dojo/dom-class","dojo/dom-style","dojo/dom-geometry","dojo/dom-construct","dojo/dom-attr","dojo/_base/array","dojo/_base/lang","dojo/_base/event","dojo/keys","dojo/topic","dijit/registry","dijit/focus","dijit/_base/focus","dijit/_WidgetBase","dijit/_TemplatedMixin","dijit/layout/_LayoutWidget","dojo/_base/NodeList","dojox/mdnd/AreaManager","dojox/mdnd/DropIndicator","dojox/mdnd/dropMode/OverDropMode","dojox/mdnd/AutoScroll"],function(dojo,_62a,_62b,_62c,has,_62d,_62e,geom,_62f,_630,_631,lang,_632,keys,_633,_634,_635,_636,_637,_638,_639,_63a){var gcl=_62b("dojox.layout.GridContainerLite",[_639,_638],{autoRefresh:true,templateString:_62a,dragHandleClass:"dojoxDragHandle",nbZones:1,doLayout:true,isAutoOrganized:true,acceptTypes:[],colWidths:"",constructor:function(_63b,node){this.acceptTypes=(_63b||{}).acceptTypes||["text"];this._disabled=true;},postCreate:function(){this.inherited(arguments);this._grid=[];this._createCells();this.subscribe("/dojox/mdnd/drop","resizeChildAfterDrop");this.subscribe("/dojox/mdnd/drag/start","resizeChildAfterDragStart");this._dragManager=dojox.mdnd.areaManager();this._dragManager.autoRefresh=this.autoRefresh;this._dragManager.dragHandleClass=this.dragHandleClass;if(this.doLayout){this._border={h:has("ie")?geom.getBorderExtents(this.gridContainerTable).h:0,w:(has("ie")==6)?1:0};}else{_62e.set(this.domNode,"overflowY","hidden");_62e.set(this.gridContainerTable,"height","auto");}},startup:function(){if(this._started){return;}if(this.isAutoOrganized){this._organizeChildren();}else{this._organizeChildrenManually();}_631.forEach(this.getChildren(),function(_63c){_63c.startup();});if(this._isShown()){this.enableDnd();}this.inherited(arguments);},resizeChildAfterDrop:function(node,_63d,_63e){if(this._disabled){return false;}if(_634.getEnclosingWidget(_63d.node)==this){var _63f=_634.byNode(node);if(_63f.resize&&lang.isFunction(_63f.resize)){_63f.resize();}_63f.set("column",node.parentNode.cellIndex);if(this.doLayout){var _640=this._contentBox.h,_641=geom.getContentBox(this.gridContainerDiv).h;if(_641>=_640){_62e.set(this.gridContainerTable,"height",(_640-this._border.h)+"px");}}return true;}return false;},resizeChildAfterDragStart:function(node,_642,_643){if(this._disabled){return false;}if(_634.getEnclosingWidget(_642.node)==this){this._draggedNode=node;if(this.doLayout){geom.getMarginBox(this.gridContainerTable,{h:geom.getContentBox(this.gridContainerDiv).h-this._border.h});}return true;}return false;},getChildren:function(){var _644=new _63a();_631.forEach(this._grid,function(_645){_62c("> [widgetId]",_645.node).map(_634.byNode).forEach(function(item){_644.push(item);});});return _644;},_isShown:function(){if("open" in this){return this.open;}else{var node=this.domNode;return (node.style.display!="none")&&(node.style.visibility!="hidden")&&!_62d.contains(node,"dijitHidden");}},layout:function(){if(this.doLayout){var _646=this._contentBox;geom.getMarginBox(this.gridContainerTable,{h:_646.h-this._border.h});geom.getContentBox(this.domNode,{w:_646.w-this._border.w});}_631.forEach(this.getChildren(),function(_647){if(_647.resize&&lang.isFunction(_647.resize)){_647.resize();}});},onShow:function(){if(this._disabled){this.enableDnd();}},onHide:function(){if(!this._disabled){this.disableDnd();}},_createCells:function(){if(this.nbZones===0){this.nbZones=1;}var _648=this.acceptTypes.join(","),i=0;var _649=this.colWidths||[];var _64a=[];var _64b;var _64c=0;for(i=0;i<this.nbZones;i++){if(_64a.length<_649.length){_64c+=_649[i];_64a.push(_649[i]);}else{if(!_64b){_64b=(100-_64c)/(this.nbZones-i);}_64a.push(_64b);}}i=0;while(i<this.nbZones){this._grid.push({node:_62f.create("td",{"class":"gridContainerZone",accept:_648,id:this.id+"_dz"+i,style:{"width":_64a[i]+"%"}},this.gridNode)});i++;}},_getZonesAttr:function(){return _62c(".gridContainerZone",this.containerNode);},enableDnd:function(){var m=this._dragManager;_631.forEach(this._grid,function(_64d){m.registerByNode(_64d.node);});m._dropMode.updateAreas(m._areaList);this._disabled=false;},disableDnd:function(){var m=this._dragManager;_631.forEach(this._grid,function(_64e){m.unregister(_64e.node);});m._dropMode.updateAreas(m._areaList);this._disabled=true;},_organizeChildren:function(){var _64f=dojox.layout.GridContainerLite.superclass.getChildren.call(this);var _650=this.nbZones,_651=Math.floor(_64f.length/_650),mod=_64f.length%_650,i=0;for(var z=0;z<_650;z++){for(var r=0;r<_651;r++){this._insertChild(_64f[i],z);i++;}if(mod>0){try{this._insertChild(_64f[i],z);i++;}catch(e){console.error("Unable to insert child in GridContainer",e);}mod--;}else{if(_651===0){break;}}}},_organizeChildrenManually:function(){var _652=dojox.layout.GridContainerLite.superclass.getChildren.call(this),_653=_652.length,_654;for(var i=0;i<_653;i++){_654=_652[i];try{this._insertChild(_654,_654.column-1);}catch(e){console.error("Unable to insert child in GridContainer",e);}}},_insertChild:function(_655,_656,p){var zone=this._grid[_656].node,_657=zone.childNodes.length;if(typeof (p)==undefined||p>_657){p=_657;}if(this._disabled){_62f.place(_655.domNode,zone,p);_630.set(_655.domNode,"tabIndex","0");}else{if(!_655.dragRestriction){this._dragManager.addDragItem(zone,_655.domNode,p,true);}else{_62f.place(_655.domNode,zone,p);_630.set(_655.domNode,"tabIndex","0");}}_655.set("column",_656);return _655;},removeChild:function(_658){if(this._disabled){this.inherited(arguments);}else{this._dragManager.removeDragItem(_658.domNode.parentNode,_658.domNode);}},addService:function(_659,_65a,p){kernel.deprecated("addService is deprecated.","Please use  instead.","Future");this.addChild(_659,_65a,p);},addChild:function(_65b,_65c,p){_65b.domNode.id=_65b.id;dojox.layout.GridContainerLite.superclass.addChild.call(this,_65b,0);if(_65c<0||_65c==undefined){_65c=0;}if(p<=0){p=0;}try{return this._insertChild(_65b,_65c,p);}catch(e){console.error("Unable to insert child in GridContainer",e);}return null;},_setColWidthsAttr:function(_65d){this.colWidths=lang.isString(_65d)?_65d.split(","):(lang.isArray(_65d)?_65d:[_65d]);if(this._started){this._updateColumnsWidth();}},_updateColumnsWidth:function(_65e){var _65f=this._grid.length;var _660=this.colWidths||[];var _661=[];var _662;var _663=0;var i;for(i=0;i<_65f;i++){if(_661.length<_660.length){_663+=_660[i]*1;_661.push(_660[i]);}else{if(!_662){_662=(100-_663)/(this.nbZones-i);if(_662<0){_662=100/this.nbZones;}}_661.push(_662);_663+=_662*1;}}if(_663>100){var _664=100/_663;for(i=0;i<_661.length;i++){_661[i]*=_664;}}for(i=0;i<_65f;i++){this._grid[i].node.style.width=_661[i]+"%";}},_selectFocus:function(_665){if(this._disabled){return;}var key=_665.keyCode,k=keys,zone=null,_666=_636.getFocus(),_667=_666.node,m=this._dragManager,_668,i,j,r,_669,area,_66a;if(_667==this.containerNode){area=this.gridNode.childNodes;switch(key){case k.DOWN_ARROW:case k.RIGHT_ARROW:_668=false;for(i=0;i<area.length;i++){_669=area[i].childNodes;for(j=0;j<_669.length;j++){zone=_669[j];if(zone!=null&&zone.style.display!="none"){_635.focus(zone);_632.stop(_665);_668=true;break;}}if(_668){break;}}break;case k.UP_ARROW:case k.LEFT_ARROW:area=this.gridNode.childNodes;_668=false;for(i=area.length-1;i>=0;i--){_669=area[i].childNodes;for(j=_669.length;j>=0;j--){zone=_669[j];if(zone!=null&&zone.style.display!="none"){_635.focus(zone);_632.stop(_665);_668=true;break;}}if(_668){break;}}break;}}else{if(_667.parentNode.parentNode==this.gridNode){var _66b=(key==k.UP_ARROW||key==k.LEFT_ARROW)?"lastChild":"firstChild";var pos=(key==k.UP_ARROW||key==k.LEFT_ARROW)?"previousSibling":"nextSibling";switch(key){case k.UP_ARROW:case k.DOWN_ARROW:_632.stop(_665);_668=false;var _66c=_667;while(!_668){_669=_66c.parentNode.childNodes;var num=0;for(i=0;i<_669.length;i++){if(_669[i].style.display!="none"){num++;}if(num>1){break;}}if(num==1){return;}if(_66c[pos]==null){zone=_66c.parentNode[_66b];}else{zone=_66c[pos];}if(zone.style.display==="none"){_66c=zone;}else{_668=true;}}if(_665.shiftKey){var _66d=_667.parentNode;for(i=0;i<this.gridNode.childNodes.length;i++){if(_66d==this.gridNode.childNodes[i]){break;}}_669=this.gridNode.childNodes[i].childNodes;for(j=0;j<_669.length;j++){if(zone==_669[j]){break;}}if(has("mozilla")||has("webkit")){i--;}_66a=_634.byNode(_667);if(!_66a.dragRestriction){r=m.removeDragItem(_66d,_667);this.addChild(_66a,i,j);_630.set(_667,"tabIndex","0");_635.focus(_667);}else{_633.publish("/dojox/layout/gridContainer/moveRestriction",this);}}else{_635.focus(zone);}break;case k.RIGHT_ARROW:case k.LEFT_ARROW:_632.stop(_665);if(_665.shiftKey){var z=0;if(_667.parentNode[pos]==null){if(has("ie")&&key==k.LEFT_ARROW){z=this.gridNode.childNodes.length-1;}}else{if(_667.parentNode[pos].nodeType==3){z=this.gridNode.childNodes.length-2;}else{for(i=0;i<this.gridNode.childNodes.length;i++){if(_667.parentNode[pos]==this.gridNode.childNodes[i]){break;}z++;}if(has("mozilla")||has("webkit")){z--;}}}_66a=_634.byNode(_667);var _66e=_667.getAttribute("dndtype");if(_66e==null){if(_66a&&_66a.dndType){_66e=_66a.dndType.split(/\s*,\s*/);}else{_66e=["text"];}}else{_66e=_66e.split(/\s*,\s*/);}var _66f=false;for(i=0;i<this.acceptTypes.length;i++){for(j=0;j<_66e.length;j++){if(_66e[j]==this.acceptTypes[i]){_66f=true;break;}}}if(_66f&&!_66a.dragRestriction){var _670=_667.parentNode,_671=0;if(k.LEFT_ARROW==key){var t=z;if(has("mozilla")||has("webkit")){t=z+1;}_671=this.gridNode.childNodes[t].childNodes.length;}r=m.removeDragItem(_670,_667);this.addChild(_66a,z,_671);_630.set(r,"tabIndex","0");_635.focus(r);}else{_633.publish("/dojox/layout/gridContainer/moveRestriction",this);}}else{var node=_667.parentNode;while(zone===null){if(node[pos]!==null&&node[pos].nodeType!==3){node=node[pos];}else{if(pos==="previousSibling"){node=node.parentNode.childNodes[node.parentNode.childNodes.length-1];}else{node=node.parentNode.childNodes[has("ie")?0:1];}}zone=node[_66b];if(zone&&zone.style.display=="none"){_669=zone.parentNode.childNodes;var _672=null;if(pos=="previousSibling"){for(i=_669.length-1;i>=0;i--){if(_669[i].style.display!="none"){_672=_669[i];break;}}}else{for(i=0;i<_669.length;i++){if(_669[i].style.display!="none"){_672=_669[i];break;}}}if(!_672){_667=zone;node=_667.parentNode;zone=null;}else{zone=_672;}}}_635.focus(zone);}break;}}}},destroy:function(){var m=this._dragManager;_631.forEach(this._grid,function(_673){m.unregister(_673.node);});this.inherited(arguments);}});gcl.ChildWidgetProperties={column:"1",dragRestriction:false};lang.extend(_637,gcl.ChildWidgetProperties);return gcl;});},"url:dojox/layout/resources/GridContainer.html":"<div id=\"${id}\" class=\"gridContainer\" dojoAttachPoint=\"containerNode\" tabIndex=\"0\" dojoAttachEvent=\"onkeypress:_selectFocus\">\n\t<div dojoAttachPoint=\"gridContainerDiv\">\n\t\t<table class=\"gridContainerTable\" dojoAttachPoint=\"gridContainerTable\" cellspacing=\"0\" cellpadding=\"0\">\n\t\t\t<tbody>\n\t\t\t\t<tr dojoAttachPoint=\"gridNode\" >\n\t\t\t\t\t\n\t\t\t\t</tr>\n\t\t\t</tbody>\n\t\t</table>\n\t</div>\n</div>","dijit/_base/focus":function(){define("dijit/_base/focus",["dojo/_base/array","dojo/dom","dojo/_base/lang","dojo/topic","dojo/_base/window","../focus","../main"],function(_674,dom,lang,_675,win,_676,_677){var _678={_curFocus:null,_prevFocus:null,isCollapsed:function(){return _677.getBookmark().isCollapsed;},getBookmark:function(){var bm,rg,tg,sel=win.doc.selection,cf=_676.curNode;if(win.global.getSelection){sel=win.global.getSelection();if(sel){if(sel.isCollapsed){tg=cf?cf.tagName:"";if(tg){tg=tg.toLowerCase();if(tg=="textarea"||(tg=="input"&&(!cf.type||cf.type.toLowerCase()=="text"))){sel={start:cf.selectionStart,end:cf.selectionEnd,node:cf,pRange:true};return {isCollapsed:(sel.end<=sel.start),mark:sel};}}bm={isCollapsed:true};if(sel.rangeCount){bm.mark=sel.getRangeAt(0).cloneRange();}}else{rg=sel.getRangeAt(0);bm={isCollapsed:false,mark:rg.cloneRange()};}}}else{if(sel){tg=cf?cf.tagName:"";tg=tg.toLowerCase();if(cf&&tg&&(tg=="button"||tg=="textarea"||tg=="input")){if(sel.type&&sel.type.toLowerCase()=="none"){return {isCollapsed:true,mark:null};}else{rg=sel.createRange();return {isCollapsed:rg.text&&rg.text.length?false:true,mark:{range:rg,pRange:true}};}}bm={};try{rg=sel.createRange();bm.isCollapsed=!(sel.type=="Text"?rg.htmlText.length:rg.length);}catch(e){bm.isCollapsed=true;return bm;}if(sel.type.toUpperCase()=="CONTROL"){if(rg.length){bm.mark=[];var i=0,len=rg.length;while(i<len){bm.mark.push(rg.item(i++));}}else{bm.isCollapsed=true;bm.mark=null;}}else{bm.mark=rg.getBookmark();}}else{}}return bm;},moveToBookmark:function(_679){var _67a=win.doc,mark=_679.mark;if(mark){if(win.global.getSelection){var sel=win.global.getSelection();if(sel&&sel.removeAllRanges){if(mark.pRange){var n=mark.node;n.selectionStart=mark.start;n.selectionEnd=mark.end;}else{sel.removeAllRanges();sel.addRange(mark);}}else{}}else{if(_67a.selection&&mark){var rg;if(mark.pRange){rg=mark.range;}else{if(lang.isArray(mark)){rg=_67a.body.createControlRange();_674.forEach(mark,function(n){rg.addElement(n);});}else{rg=_67a.body.createTextRange();rg.moveToBookmark(mark);}}rg.select();}}}},getFocus:function(menu,_67b){var node=!_676.curNode||(menu&&dom.isDescendant(_676.curNode,menu.domNode))?_677._prevFocus:_676.curNode;return {node:node,bookmark:node&&(node==_676.curNode)&&win.withGlobal(_67b||win.global,_677.getBookmark),openedForWindow:_67b};},_activeStack:[],registerIframe:function(_67c){return _676.registerIframe(_67c);},unregisterIframe:function(_67d){_67d&&_67d.remove();},registerWin:function(_67e,_67f){return _676.registerWin(_67e,_67f);},unregisterWin:function(_680){_680&&_680.remove();}};_676.focus=function(_681){if(!_681){return;}var node="node" in _681?_681.node:_681,_682=_681.bookmark,_683=_681.openedForWindow,_684=_682?_682.isCollapsed:false;if(node){var _685=(node.tagName.toLowerCase()=="iframe")?node.contentWindow:node;if(_685&&_685.focus){try{_685.focus();}catch(e){}}_676._onFocusNode(node);}if(_682&&win.withGlobal(_683||win.global,_677.isCollapsed)&&!_684){if(_683){_683.focus();}try{win.withGlobal(_683||win.global,_677.moveToBookmark,null,[_682]);}catch(e2){}}};_676.watch("curNode",function(name,_686,_687){_677._curFocus=_687;_677._prevFocus=_686;if(_687){_675.publish("focusNode",_687);}});_676.watch("activeStack",function(name,_688,_689){_677._activeStack=_689;});_676.on("widget-blur",function(_68a,by){_675.publish("widgetBlur",_68a,by);});_676.on("widget-focus",function(_68b,by){_675.publish("widgetFocus",_68b,by);});lang.mixin(_677,_678);return _677;});},"dijit/layout/_LayoutWidget":function(){define("dijit/layout/_LayoutWidget",["dojo/_base/lang","../_Widget","../_Container","../_Contained","../Viewport","dojo/_base/declare","dojo/dom-class","dojo/dom-geometry","dojo/dom-style"],function(lang,_68c,_68d,_68e,_68f,_690,_691,_692,_693){return _690("dijit.layout._LayoutWidget",[_68c,_68d,_68e],{baseClass:"dijitLayoutContainer",isLayoutContainer:true,buildRendering:function(){this.inherited(arguments);_691.add(this.domNode,"dijitContainer");},startup:function(){if(this._started){return;}this.inherited(arguments);var _694=this.getParent&&this.getParent();if(!(_694&&_694.isLayoutContainer)){this.resize();this.own(_68f.on("resize",lang.hitch(this,"resize")));}},resize:function(_695,_696){var node=this.domNode;if(_695){_692.setMarginBox(node,_695);}var mb=_696||{};lang.mixin(mb,_695||{});if(!("h" in mb)||!("w" in mb)){mb=lang.mixin(_692.getMarginBox(node),mb);}var cs=_693.getComputedStyle(node);var me=_692.getMarginExtents(node,cs);var be=_692.getBorderExtents(node,cs);var bb=(this._borderBox={w:mb.w-(me.w+be.w),h:mb.h-(me.h+be.h)});var pe=_692.getPadExtents(node,cs);this._contentBox={l:_693.toPixelValue(node,cs.paddingLeft),t:_693.toPixelValue(node,cs.paddingTop),w:bb.w-pe.w,h:bb.h-pe.h};this.layout();},layout:function(){},_setupChild:function(_697){var cls=this.baseClass+"-child "+(_697.baseClass?this.baseClass+"-"+_697.baseClass:"");_691.add(_697.domNode,cls);},addChild:function(_698,_699){this.inherited(arguments);if(this._started){this._setupChild(_698);}},removeChild:function(_69a){var cls=this.baseClass+"-child"+(_69a.baseClass?" "+this.baseClass+"-"+_69a.baseClass:"");_691.remove(_69a.domNode,cls);this.inherited(arguments);}});});},"dojox/mdnd/AreaManager":function(){define("dojox/mdnd/AreaManager",["dojo/_base/kernel","dojo/_base/declare","dojo/_base/connect","dojo/_base/window","dojo/_base/array","dojo/_base/sniff","dojo/_base/lang","dojo/query","dojo/topic","dojo/dom-class","dojo/dom-geometry","dojo/dom-construct","dijit/registry","dijit/_Widget","./Moveable"],function(dojo,_69b,_69c,win,_69d,_69e,lang,_69f,_6a0,_6a1,geom,_6a2,_6a3,_6a4,_6a5){var am=_69b("dojox.mdnd.AreaManager",null,{autoRefresh:true,areaClass:"dojoxDndArea",dragHandleClass:"dojoxDragHandle",constructor:function(){this._areaList=[];this.resizeHandler=_69c.connect(dojo.global,"onresize",this,function(){this._dropMode.updateAreas(this._areaList);});this._oldIndexArea=this._currentIndexArea=this._oldDropIndex=this._currentDropIndex=this._sourceIndexArea=this._sourceDropIndex=-1;},init:function(){this.registerByClass();},registerByNode:function(area,_6a6){var _6a7=this._getIndexArea(area);if(area&&_6a7==-1){var _6a8=area.getAttribute("accept");var _6a9=(_6a8)?_6a8.split(/\s*,\s*/):["text"];var obj={"node":area,"items":[],"coords":{},"margin":null,"accept":_6a9,"initItems":false};_69d.forEach(this._getChildren(area),function(item){this._setMarginArea(obj,item);obj.items.push(this._addMoveableItem(item));},this);this._areaList=this._dropMode.addArea(this._areaList,obj);if(!_6a6){this._dropMode.updateAreas(this._areaList);}_69c.publish("/dojox/mdnd/manager/register",[area]);}},registerByClass:function(){_69f("."+this.areaClass).forEach(function(area){this.registerByNode(area,true);},this);this._dropMode.updateAreas(this._areaList);},unregister:function(area){var _6aa=this._getIndexArea(area);if(_6aa!=-1){_69d.forEach(this._areaList[_6aa].items,function(item){this._deleteMoveableItem(item);},this);this._areaList.splice(_6aa,1);this._dropMode.updateAreas(this._areaList);return true;}return false;},_addMoveableItem:function(node){node.setAttribute("tabIndex","0");var _6ab=this._searchDragHandle(node);var _6ac=new _6a5({"handle":_6ab,"skip":true},node);_6a1.add(_6ab||node,"dragHandle");var type=node.getAttribute("dndType");var item={"item":_6ac,"type":type?type.split(/\s*,\s*/):["text"],"handlers":[_69c.connect(_6ac,"onDragStart",this,"onDragStart")]};if(_6a3&&_6a3.byNode){var _6ad=_6a3.byNode(node);if(_6ad){item.type=_6ad.dndType?_6ad.dndType.split(/\s*,\s*/):["text"];item.handlers.push(_69c.connect(_6ad,"uninitialize",this,function(){this.removeDragItem(node.parentNode,_6ac.node);}));}}return item;},_deleteMoveableItem:function(_6ae){_69d.forEach(_6ae.handlers,function(_6af){_69c.disconnect(_6af);});var node=_6ae.item.node,_6b0=this._searchDragHandle(node);_6a1.remove(_6b0||node,"dragHandle");_6ae.item.destroy();},_getIndexArea:function(area){if(area){for(var i=0;i<this._areaList.length;i++){if(this._areaList[i].node===area){return i;}}}return -1;},_searchDragHandle:function(node){if(node){var _6b1=this.dragHandleClass.split(" "),_6b2=_6b1.length,_6b3="";_69d.forEach(_6b1,function(css,i){_6b3+="."+css;if(i!=_6b2-1){_6b3+=", ";}});return _69f(_6b3,node)[0];}},addDragItem:function(area,node,_6b4,_6b5){var add=true;if(!_6b5){add=area&&node&&(node.parentNode===null||(node.parentNode&&node.parentNode.nodeType!==1));}if(add){var _6b6=this._getIndexArea(area);if(_6b6!==-1){var item=this._addMoveableItem(node),_6b7=this._areaList[_6b6].items;if(0<=_6b4&&_6b4<_6b7.length){var _6b8=_6b7.slice(0,_6b4),_6b9=_6b7.slice(_6b4,_6b7.length);_6b8[_6b8.length]=item;this._areaList[_6b6].items=_6b8.concat(_6b9);area.insertBefore(node,_6b7[_6b4].item.node);}else{this._areaList[_6b6].items.push(item);area.appendChild(node);}this._setMarginArea(this._areaList[_6b6],node);this._areaList[_6b6].initItems=false;return true;}}return false;},removeDragItem:function(area,node){var _6ba=this._getIndexArea(area);if(area&&_6ba!==-1){var _6bb=this._areaList[_6ba].items;for(var j=0;j<_6bb.length;j++){if(_6bb[j].item.node===node){this._deleteMoveableItem(_6bb[j]);_6bb.splice(j,1);return area.removeChild(node);}}}return null;},_getChildren:function(area){var _6bc=[];_69d.forEach(area.childNodes,function(_6bd){if(_6bd.nodeType==1){if(_6a3&&_6a3.byNode){var _6be=_6a3.byNode(_6bd);if(_6be){if(!_6be.dragRestriction){_6bc.push(_6bd);}}else{_6bc.push(_6bd);}}else{_6bc.push(_6bd);}}});return _6bc;},_setMarginArea:function(area,node){if(area&&area.margin===null&&node){area.margin=geom.getMarginExtents(node);}},findCurrentIndexArea:function(_6bf,size){this._oldIndexArea=this._currentIndexArea;this._currentIndexArea=this._dropMode.getTargetArea(this._areaList,_6bf,this._currentIndexArea);if(this._currentIndexArea!=this._oldIndexArea){if(this._oldIndexArea!=-1){this.onDragExit(_6bf,size);}if(this._currentIndexArea!=-1){this.onDragEnter(_6bf,size);}}return this._currentIndexArea;},_isAccepted:function(type,_6c0){this._accept=false;for(var i=0;i<_6c0.length;++i){for(var j=0;j<type.length;++j){if(type[j]==_6c0[i]){this._accept=true;break;}}}},onDragStart:function(node,_6c1,size){if(this.autoRefresh){this._dropMode.updateAreas(this._areaList);}var _6c2=(_69e("webkit"))?dojo.body():dojo.body().parentNode;if(!this._cover){this._cover=_6a2.create("div",{"class":"dndCover"});this._cover2=lang.clone(this._cover);_6a1.add(this._cover2,"dndCover2");}var h=_6c2.scrollHeight+"px";this._cover.style.height=this._cover2.style.height=h;dojo.body().appendChild(this._cover);dojo.body().appendChild(this._cover2);this._dragStartHandler=_69c.connect(node.ownerDocument,"ondragstart",dojo,"stopEvent");this._sourceIndexArea=this._lastValidIndexArea=this._currentIndexArea=this._getIndexArea(node.parentNode);var _6c3=this._areaList[this._sourceIndexArea];var _6c4=_6c3.items;for(var i=0;i<_6c4.length;i++){if(_6c4[i].item.node==node){this._dragItem=_6c4[i];this._dragItem.handlers.push(_69c.connect(this._dragItem.item,"onDrag",this,"onDrag"));this._dragItem.handlers.push(_69c.connect(this._dragItem.item,"onDragEnd",this,"onDrop"));_6c4.splice(i,1);this._currentDropIndex=this._sourceDropIndex=i;break;}}var _6c5=null;if(this._sourceDropIndex!==_6c3.items.length){_6c5=_6c3.items[this._sourceDropIndex].item.node;}if(_69e("ie")>7){this._eventsIE7=[_69c.connect(this._cover,"onmouseover",dojo,"stopEvent"),_69c.connect(this._cover,"onmouseout",dojo,"stopEvent"),_69c.connect(this._cover,"onmouseenter",dojo,"stopEvent"),_69c.connect(this._cover,"onmouseleave",dojo,"stopEvent")];}var s=node.style;s.left=_6c1.x+"px";s.top=_6c1.y+"px";if(s.position=="relative"||s.position==""){s.position="absolute";}this._cover.appendChild(node);this._dropIndicator.place(_6c3.node,_6c5,size);_6a1.add(node,"dragNode");this._accept=true;_69c.publish("/dojox/mdnd/drag/start",[node,_6c3,this._sourceDropIndex]);},onDragEnter:function(_6c6,size){if(this._currentIndexArea===this._sourceIndexArea){this._accept=true;}else{this._isAccepted(this._dragItem.type,this._areaList[this._currentIndexArea].accept);}},onDragExit:function(_6c7,size){this._accept=false;},onDrag:function(node,_6c8,size,_6c9){var _6ca=this._dropMode.getDragPoint(_6c8,size,_6c9);this.findCurrentIndexArea(_6ca,size);if(this._currentIndexArea!==-1&&this._accept){this.placeDropIndicator(_6ca,size);}},placeDropIndicator:function(_6cb,size){this._oldDropIndex=this._currentDropIndex;var area=this._areaList[this._currentIndexArea];if(!area.initItems){this._dropMode.initItems(area);}this._currentDropIndex=this._dropMode.getDropIndex(area,_6cb);if(!(this._currentIndexArea===this._oldIndexArea&&this._oldDropIndex===this._currentDropIndex)){this._placeDropIndicator(size);}return this._currentDropIndex;},_placeDropIndicator:function(size){var _6cc=this._areaList[this._lastValidIndexArea];var _6cd=this._areaList[this._currentIndexArea];this._dropMode.refreshItems(_6cc,this._oldDropIndex,size,false);var node=null;if(this._currentDropIndex!=-1){node=_6cd.items[this._currentDropIndex].item.node;}this._dropIndicator.place(_6cd.node,node);this._lastValidIndexArea=this._currentIndexArea;this._dropMode.refreshItems(_6cd,this._currentDropIndex,size,true);},onDropCancel:function(){if(!this._accept){var _6ce=this._getIndexArea(this._dropIndicator.node.parentNode);if(_6ce!=-1){this._currentIndexArea=_6ce;}else{this._currentIndexArea=0;}}},onDrop:function(node){this.onDropCancel();var _6cf=this._areaList[this._currentIndexArea];_6a1.remove(node,"dragNode");var _6d0=node.style;_6d0.position="relative";_6d0.left="0";_6d0.top="0";_6d0.width="auto";if(_6cf.node==this._dropIndicator.node.parentNode){_6cf.node.insertBefore(node,this._dropIndicator.node);}else{_6cf.node.appendChild(node);this._currentDropIndex=_6cf.items.length;}var _6d1=this._currentDropIndex;if(_6d1==-1){_6d1=_6cf.items.length;}var _6d2=_6cf.items;var _6d3=_6d2.slice(0,_6d1);var _6d4=_6d2.slice(_6d1,_6d2.length);_6d3[_6d3.length]=this._dragItem;_6cf.items=_6d3.concat(_6d4);this._setMarginArea(_6cf,node);_69d.forEach(this._areaList,function(obj){obj.initItems=false;});_69c.disconnect(this._dragItem.handlers.pop());_69c.disconnect(this._dragItem.handlers.pop());this._resetAfterDrop();if(this._cover){dojo.body().removeChild(this._cover);dojo.body().removeChild(this._cover2);}_69c.publish("/dojox/mdnd/drop",[node,_6cf,_6d1]);},_resetAfterDrop:function(){this._accept=false;this._dragItem=null;this._currentDropIndex=-1;this._currentIndexArea=-1;this._oldDropIndex=-1;this._sourceIndexArea=-1;this._sourceDropIndex=-1;this._dropIndicator.remove();if(this._dragStartHandler){_69c.disconnect(this._dragStartHandler);}if(_69e("ie")>7){_69d.forEach(this._eventsIE7,_69c.disconnect);}},destroy:function(){while(this._areaList.length>0){if(!this.unregister(this._areaList[0].node)){throw new Error("Error while destroying AreaManager");}}_69c.disconnect(this.resizeHandler);this._dropIndicator.destroy();this._dropMode.destroy();if(dojox.mdnd.autoScroll){dojox.mdnd.autoScroll.destroy();}if(this.refreshListener){_69c.unsubscribe(this.refreshListener);}if(this._cover){_6a2.destroy(this._cover);_6a2.destroy(this._cover2);delete this._cover;delete this._cover2;}}});if(_6a4){lang.extend(_6a4,{dndType:"text"});}dojox.mdnd._areaManager=null;dojox.mdnd.areaManager=function(){if(!dojox.mdnd._areaManager){dojox.mdnd._areaManager=new dojox.mdnd.AreaManager();}return dojox.mdnd._areaManager;};return am;});},"dojox/mdnd/Moveable":function(){define("dojox/mdnd/Moveable",["dojo/_base/kernel","dojo/_base/declare","dojo/_base/array","dojo/_base/connect","dojo/_base/event","dojo/_base/sniff","dojo/dom","dojo/dom-geometry","dojo/dom-style","dojo/_base/window"],function(dojo,_6d5,_6d6,_6d7,_6d8,_6d9,dom,geom,_6da){return _6d5("dojox.mdnd.Moveable",null,{handle:null,skip:true,dragDistance:3,constructor:function(_6db,node){this.node=dom.byId(node);this.d=this.node.ownerDocument;if(!_6db){_6db={};}this.handle=_6db.handle?dom.byId(_6db.handle):null;if(!this.handle){this.handle=this.node;}this.skip=_6db.skip;this.events=[_6d7.connect(this.handle,"onmousedown",this,"onMouseDown")];if(dojox.mdnd.autoScroll){this.autoScroll=dojox.mdnd.autoScroll;}},isFormElement:function(e){var t=e.target;if(t.nodeType==3){t=t.parentNode;}return " a button textarea input select option ".indexOf(" "+t.tagName.toLowerCase()+" ")>=0;},onMouseDown:function(e){if(this._isDragging){return;}var _6dc=(e.which||e.button)==1;if(!_6dc){return;}if(this.skip&&this.isFormElement(e)){return;}if(this.autoScroll){this.autoScroll.setAutoScrollNode(this.node);this.autoScroll.setAutoScrollMaxPage();}this.events.push(_6d7.connect(this.d,"onmouseup",this,"onMouseUp"));this.events.push(_6d7.connect(this.d,"onmousemove",this,"onFirstMove"));this._selectStart=_6d7.connect(dojo.body(),"onselectstart",_6d8.stop);this._firstX=e.clientX;this._firstY=e.clientY;_6d8.stop(e);},onFirstMove:function(e){_6d8.stop(e);var d=(this._firstX-e.clientX)*(this._firstX-e.clientX)+(this._firstY-e.clientY)*(this._firstY-e.clientY);if(d>this.dragDistance*this.dragDistance){this._isDragging=true;_6d7.disconnect(this.events.pop());_6da.set(this.node,"width",geom.getContentBox(this.node).w+"px");this.initOffsetDrag(e);this.events.push(_6d7.connect(this.d,"onmousemove",this,"onMove"));}},initOffsetDrag:function(e){this.offsetDrag={"l":e.pageX,"t":e.pageY};var s=this.node.style;var _6dd=geom.position(this.node,true);this.offsetDrag.l=_6dd.x-this.offsetDrag.l;this.offsetDrag.t=_6dd.y-this.offsetDrag.t;var _6de={"x":_6dd.x,"y":_6dd.y};this.size={"w":_6dd.w,"h":_6dd.h};this.onDragStart(this.node,_6de,this.size);},onMove:function(e){_6d8.stop(e);if(_6d9("ie")==8&&new Date()-this.date<20){return;}if(this.autoScroll){this.autoScroll.checkAutoScroll(e);}var _6df={"x":this.offsetDrag.l+e.pageX,"y":this.offsetDrag.t+e.pageY};var s=this.node.style;s.left=_6df.x+"px";s.top=_6df.y+"px";this.onDrag(this.node,_6df,this.size,{"x":e.pageX,"y":e.pageY});if(_6d9("ie")==8){this.date=new Date();}},onMouseUp:function(e){if(this._isDragging){_6d8.stop(e);this._isDragging=false;if(this.autoScroll){this.autoScroll.stopAutoScroll();}delete this.onMove;this.onDragEnd(this.node);this.node.focus();}_6d7.disconnect(this.events.pop());_6d7.disconnect(this.events.pop());},onDragStart:function(node,_6e0,size){},onDragEnd:function(node){},onDrag:function(node,_6e1,size,_6e2){},destroy:function(){_6d6.forEach(this.events,_6d7.disconnect);this.events=this.node=null;}});});},"dojox/mdnd/DropIndicator":function(){define("dojox/mdnd/DropIndicator",["dojo/_base/kernel","dojo/_base/declare","dojo/dom-class","dojo/dom-construct","./AreaManager"],function(dojo,_6e3,_6e4,_6e5){var di=_6e3("dojox.mdnd.DropIndicator",null,{node:null,constructor:function(){var _6e6=document.createElement("div");var _6e7=document.createElement("div");_6e6.appendChild(_6e7);_6e4.add(_6e6,"dropIndicator");this.node=_6e6;},place:function(area,_6e8,size){if(size){this.node.style.height=size.h+"px";}try{if(_6e8){area.insertBefore(this.node,_6e8);}else{area.appendChild(this.node);}return this.node;}catch(e){return null;}},remove:function(){if(this.node){this.node.style.height="";if(this.node.parentNode){this.node.parentNode.removeChild(this.node);}}},destroy:function(){if(this.node){if(this.node.parentNode){this.node.parentNode.removeChild(this.node);}_6e5.destroy(this.node);delete this.node;}}});dojox.mdnd.areaManager()._dropIndicator=new dojox.mdnd.DropIndicator();return di;});},"dojox/mdnd/dropMode/OverDropMode":function(){define("dojox/mdnd/dropMode/OverDropMode",["dojo/_base/kernel","dojo/_base/declare","dojo/_base/connect","dojo/_base/array","dojo/dom-geometry","dojox/mdnd/AreaManager"],function(dojo,_6e9,_6ea,_6eb,geom){var odm=_6e9("dojox.mdnd.dropMode.OverDropMode",null,{_oldXPoint:null,_oldYPoint:null,_oldBehaviour:"up",constructor:function(){this._dragHandler=[_6ea.connect(dojox.mdnd.areaManager(),"onDragEnter",function(_6ec,size){var m=dojox.mdnd.areaManager();if(m._oldIndexArea==-1){m._oldIndexArea=m._lastValidIndexArea;}})];},addArea:function(_6ed,_6ee){var _6ef=_6ed.length,_6f0=geom.position(_6ee.node,true);_6ee.coords={"x":_6f0.x,"y":_6f0.y};if(_6ef==0){_6ed.push(_6ee);}else{var x=_6ee.coords.x;for(var i=0;i<_6ef;i++){if(x<_6ed[i].coords.x){for(var j=_6ef-1;j>=i;j--){_6ed[j+1]=_6ed[j];}_6ed[i]=_6ee;break;}}if(i==_6ef){_6ed.push(_6ee);}}return _6ed;},updateAreas:function(_6f1){var _6f2=_6f1.length;for(var i=0;i<_6f2;i++){this._updateArea(_6f1[i]);}},_updateArea:function(area){var _6f3=geom.position(area.node,true);area.coords.x=_6f3.x;area.coords.x2=_6f3.x+_6f3.w;area.coords.y=_6f3.y;},initItems:function(area){_6eb.forEach(area.items,function(obj){var node=obj.item.node;var _6f4=geom.position(node,true);var y=_6f4.y+_6f4.h/2;obj.y=y;});area.initItems=true;},refreshItems:function(area,_6f5,size,_6f6){if(_6f5==-1){return;}else{if(area&&size&&size.h){var _6f7=size.h;if(area.margin){_6f7+=area.margin.t;}var _6f8=area.items.length;for(var i=_6f5;i<_6f8;i++){var item=area.items[i];if(_6f6){item.y+=_6f7;}else{item.y-=_6f7;}}}}},getDragPoint:function(_6f9,size,_6fa){return {"x":_6fa.x,"y":_6fa.y};},getTargetArea:function(_6fb,_6fc,_6fd){var _6fe=0;var x=_6fc.x;var y=_6fc.y;var end=_6fb.length;var _6ff=0,_700="right",_701=false;if(_6fd==-1||arguments.length<3){_701=true;}else{if(this._checkInterval(_6fb,_6fd,x,y)){_6fe=_6fd;}else{if(this._oldXPoint<x){_6ff=_6fd+1;}else{_6ff=_6fd-1;end=0;_700="left";}_701=true;}}if(_701){if(_700==="right"){for(var i=_6ff;i<end;i++){if(this._checkInterval(_6fb,i,x,y)){_6fe=i;break;}}if(i==end){_6fe=-1;}}else{for(var i=_6ff;i>=end;i--){if(this._checkInterval(_6fb,i,x,y)){_6fe=i;break;}}if(i==end-1){_6fe=-1;}}}this._oldXPoint=x;return _6fe;},_checkInterval:function(_702,_703,x,y){var area=_702[_703];var node=area.node;var _704=area.coords;var _705=_704.x;var endX=_704.x2;var _706=_704.y;var endY=_706+node.offsetHeight;if(_705<=x&&x<=endX&&_706<=y&&y<=endY){return true;}return false;},getDropIndex:function(_707,_708){var _709=_707.items.length;var _70a=_707.coords;var y=_708.y;if(_709>0){for(var i=0;i<_709;i++){if(y<_707.items[i].y){return i;}else{if(i==_709-1){return -1;}}}}return -1;},destroy:function(){_6eb.forEach(this._dragHandler,_6ea.disconnect);}});dojox.mdnd.areaManager()._dropMode=new dojox.mdnd.dropMode.OverDropMode();return odm;});},"dojox/mdnd/AutoScroll":function(){define("dojox/mdnd/AutoScroll",["dojo/_base/kernel","dojo/_base/declare","dojo/_base/lang","dojo/_base/connect","dojo/_base/sniff","dojo/ready","dojo/_base/window"],function(dojo,_70b,lang,_70c,_70d,_70e){var as=_70b("dojox.mdnd.AutoScroll",null,{interval:3,recursiveTimer:10,marginMouse:50,constructor:function(){this.resizeHandler=_70c.connect(dojo.global,"onresize",this,function(){this.getViewport();});_70e(lang.hitch(this,"init"));},init:function(){this._html=(_70d("webkit"))?dojo.body():dojo.body().parentNode;this.getViewport();},getViewport:function(){var d=dojo.doc,dd=d.documentElement,w=window,b=dojo.body();if(dojo.isMozilla){this._v={"w":dd.clientWidth,"h":w.innerHeight};}else{if(!dojo.isOpera&&w.innerWidth){this._v={"w":w.innerWidth,"h":w.innerHeight};}else{if(!dojo.isOpera&&dd&&dd.clientWidth){this._v={"w":dd.clientWidth,"h":dd.clientHeight};}else{if(b.clientWidth){this._v={"w":b.clientWidth,"h":b.clientHeight};}}}}},setAutoScrollNode:function(node){this._node=node;},setAutoScrollMaxPage:function(){this._yMax=this._html.scrollHeight;this._xMax=this._html.scrollWidth;},checkAutoScroll:function(e){if(this._autoScrollActive){this.stopAutoScroll();}this._y=e.pageY;this._x=e.pageX;if(e.clientX<this.marginMouse){this._autoScrollActive=true;this._autoScrollLeft(e);}else{if(e.clientX>this._v.w-this.marginMouse){this._autoScrollActive=true;this._autoScrollRight(e);}}if(e.clientY<this.marginMouse){this._autoScrollActive=true;this._autoScrollUp(e);}else{if(e.clientY>this._v.h-this.marginMouse){this._autoScrollActive=true;this._autoScrollDown();}}},_autoScrollDown:function(){if(this._timer){clearTimeout(this._timer);}if(this._autoScrollActive&&this._y+this.marginMouse<this._yMax){this._html.scrollTop+=this.interval;this._node.style.top=(parseInt(this._node.style.top)+this.interval)+"px";this._y+=this.interval;this._timer=setTimeout(lang.hitch(this,"_autoScrollDown"),this.recursiveTimer);}},_autoScrollUp:function(){if(this._timer){clearTimeout(this._timer);}if(this._autoScrollActive&&this._y-this.marginMouse>0){this._html.scrollTop-=this.interval;this._node.style.top=(parseInt(this._node.style.top)-this.interval)+"px";this._y-=this.interval;this._timer=setTimeout(lang.hitch(this,"_autoScrollUp"),this.recursiveTimer);}},_autoScrollRight:function(){if(this._timer){clearTimeout(this._timer);}if(this._autoScrollActive&&this._x+this.marginMouse<this._xMax){this._html.scrollLeft+=this.interval;this._node.style.left=(parseInt(this._node.style.left)+this.interval)+"px";this._x+=this.interval;this._timer=setTimeout(lang.hitch(this,"_autoScrollRight"),this.recursiveTimer);}},_autoScrollLeft:function(e){if(this._timer){clearTimeout(this._timer);}if(this._autoScrollActive&&this._x-this.marginMouse>0){this._html.scrollLeft-=this.interval;this._node.style.left=(parseInt(this._node.style.left)-this.interval)+"px";this._x-=this.interval;this._timer=setTimeout(lang.hitch(this,"_autoScrollLeft"),this.recursiveTimer);}},stopAutoScroll:function(){if(this._timer){clearTimeout(this._timer);}this._autoScrollActive=false;},destroy:function(){_70c.disconnect(this.resizeHandler);}});dojox.mdnd.autoScroll=null;dojox.mdnd.autoScroll=new dojox.mdnd.AutoScroll();return as;});},"epi/shell/widget/ToolbarDropDownButton":function(){define(["dojo","dojo/dom-style","dijit/form/DropDownButton","dijit/Menu"],function(dojo,_70f,_710,Menu){return dojo.declare([_710],{constructor:function(){this.dropDown=new Menu();},buildRendering:function(){this.inherited(arguments);this._setVisibility();},addChild:function(_711,_712){if(!_711.separator){_711.set("separator","dijit.MenuSeparator");}var _713=this.dropDown.addChild(_711,_712);this._setVisibility();return _713;},getChildren:function(){return this.dropDown.getChildren();},removeChild:function(_714){var _715=this.dropDown.removeChild(_714);this._setVisibility();return _715;},_setVisibility:function(){if(this.hasChildren()){_70f.set(this.domNode,"display","");}else{_70f.set(this.domNode,"display","none");}}});});},"dijit/form/DropDownButton":function(){require({cache:{"url:dijit/form/templates/DropDownButton.html":"<span class=\"dijit dijitReset dijitInline\"\n\t><span class='dijitReset dijitInline dijitButtonNode'\n\t\tdata-dojo-attach-event=\"ondijitclick:_onClick\" data-dojo-attach-point=\"_buttonNode\"\n\t\t><span class=\"dijitReset dijitStretch dijitButtonContents\"\n\t\t\tdata-dojo-attach-point=\"focusNode,titleNode,_arrowWrapperNode\"\n\t\t\trole=\"button\" aria-haspopup=\"true\" aria-labelledby=\"${id}_label\"\n\t\t\t><span class=\"dijitReset dijitInline dijitIcon\"\n\t\t\t\tdata-dojo-attach-point=\"iconNode\"\n\t\t\t></span\n\t\t\t><span class=\"dijitReset dijitInline dijitButtonText\"\n\t\t\t\tdata-dojo-attach-point=\"containerNode,_popupStateNode\"\n\t\t\t\tid=\"${id}_label\"\n\t\t\t></span\n\t\t\t><span class=\"dijitReset dijitInline dijitArrowButtonInner\"></span\n\t\t\t><span class=\"dijitReset dijitInline dijitArrowButtonChar\">&#9660;</span\n\t\t></span\n\t></span\n\t><input ${!nameAttrSetting} type=\"${type}\" value=\"${value}\" class=\"dijitOffScreen\" tabIndex=\"-1\"\n\t\tdata-dojo-attach-point=\"valueNode\" role=\"presentation\"\n/></span>\n"}});define("dijit/form/DropDownButton",["dojo/_base/declare","dojo/_base/lang","dojo/query","../registry","../popup","./Button","../_Container","../_HasDropDown","dojo/text!./templates/DropDownButton.html"],function(_716,lang,_717,_718,_719,_71a,_71b,_71c,_71d){return _716("dijit.form.DropDownButton",[_71a,_71b,_71c],{baseClass:"dijitDropDownButton",templateString:_71d,_fillContent:function(){if(this.srcNodeRef){var _71e=_717("*",this.srcNodeRef);this.inherited(arguments,[_71e[0]]);this.dropDownContainer=this.srcNodeRef;}},startup:function(){if(this._started){return;}if(!this.dropDown&&this.dropDownContainer){var _71f=_717("[widgetId]",this.dropDownContainer)[0];this.dropDown=_718.byNode(_71f);delete this.dropDownContainer;}if(this.dropDown){_719.hide(this.dropDown);}this.inherited(arguments);},isLoaded:function(){var _720=this.dropDown;return (!!_720&&(!_720.href||_720.isLoaded));},loadDropDown:function(_721){var _722=this.dropDown;var _723=_722.on("load",lang.hitch(this,function(){_723.remove();_721();}));_722.refresh();},isFocusable:function(){return this.inherited(arguments)&&!this._mouseDown;}});});},"dijit/_HasDropDown":function(){define("dijit/_HasDropDown",["dojo/_base/declare","dojo/_base/Deferred","dojo/_base/event","dojo/dom","dojo/dom-attr","dojo/dom-class","dojo/dom-geometry","dojo/dom-style","dojo/has","dojo/keys","dojo/_base/lang","dojo/on","dojo/window","./registry","./focus","./popup","./_FocusMixin"],function(_724,_725,_726,dom,_727,_728,_729,_72a,has,keys,lang,on,_72b,_72c,_72d,_72e,_72f){return _724("dijit._HasDropDown",_72f,{_buttonNode:null,_arrowWrapperNode:null,_popupStateNode:null,_aroundNode:null,dropDown:null,autoWidth:true,forceWidth:false,maxHeight:0,dropDownPosition:["below","above"],_stopClickEvents:true,_onDropDownMouseDown:function(e){if(this.disabled||this.readOnly){return;}e.preventDefault();this._docHandler=this.connect(this.ownerDocument,"mouseup","_onDropDownMouseUp");this.toggleDropDown();},_onDropDownMouseUp:function(e){if(e&&this._docHandler){this.disconnect(this._docHandler);}var _730=this.dropDown,_731=false;if(e&&this._opened){var c=_729.position(this._buttonNode,true);if(!(e.pageX>=c.x&&e.pageX<=c.x+c.w)||!(e.pageY>=c.y&&e.pageY<=c.y+c.h)){var t=e.target;while(t&&!_731){if(_728.contains(t,"dijitPopup")){_731=true;}else{t=t.parentNode;}}if(_731){t=e.target;if(_730.onItemClick){var _732;while(t&&!(_732=_72c.byNode(t))){t=t.parentNode;}if(_732&&_732.onClick&&_732.getParent){_732.getParent().onItemClick(_732,e);}}return;}}}if(this._opened){if(_730.focus&&_730.autoFocus!==false){this._focusDropDownTimer=this.defer(function(){_730.focus();delete this._focusDropDownTimer;});}}else{this.defer("focus");}if(has("touch")){this._justGotMouseUp=true;this.defer(function(){this._justGotMouseUp=false;});}},_onDropDownClick:function(e){if(has("touch")&&!this._justGotMouseUp){this._onDropDownMouseDown(e);this._onDropDownMouseUp(e);}if(this._stopClickEvents){_726.stop(e);}},buildRendering:function(){this.inherited(arguments);this._buttonNode=this._buttonNode||this.focusNode||this.domNode;this._popupStateNode=this._popupStateNode||this.focusNode||this._buttonNode;var _733={"after":this.isLeftToRight()?"Right":"Left","before":this.isLeftToRight()?"Left":"Right","above":"Up","below":"Down","left":"Left","right":"Right"}[this.dropDownPosition[0]]||this.dropDownPosition[0]||"Down";_728.add(this._arrowWrapperNode||this._buttonNode,"dijit"+_733+"ArrowButton");},postCreate:function(){this.inherited(arguments);var _734=this.focusNode||this.domNode;this.own(on(this._buttonNode,"mousedown",lang.hitch(this,"_onDropDownMouseDown")),on(this._buttonNode,"click",lang.hitch(this,"_onDropDownClick")),on(_734,"keydown",lang.hitch(this,"_onKey")),on(_734,"keyup",lang.hitch(this,"_onKeyUp")));},destroy:function(){if(this.dropDown){if(!this.dropDown._destroyed){this.dropDown.destroyRecursive();}delete this.dropDown;}this.inherited(arguments);},_onKey:function(e){if(this.disabled||this.readOnly){return;}var d=this.dropDown,_735=e.target;if(d&&this._opened&&d.handleKey){if(d.handleKey(e)===false){_726.stop(e);return;}}if(d&&this._opened&&e.keyCode==keys.ESCAPE){this.closeDropDown();_726.stop(e);}else{if(!this._opened&&(e.keyCode==keys.DOWN_ARROW||((e.keyCode==keys.ENTER||e.keyCode==keys.SPACE)&&((_735.tagName||"").toLowerCase()!=="input"||(_735.type&&_735.type.toLowerCase()!=="text"))))){this._toggleOnKeyUp=true;_726.stop(e);}}},_onKeyUp:function(){if(this._toggleOnKeyUp){delete this._toggleOnKeyUp;this.toggleDropDown();var d=this.dropDown;if(d&&d.focus){this.defer(lang.hitch(d,"focus"),1);}}},_onBlur:function(){var _736=_72d.curNode&&this.dropDown&&dom.isDescendant(_72d.curNode,this.dropDown.domNode);this.closeDropDown(_736);this.inherited(arguments);},isLoaded:function(){return true;},loadDropDown:function(_737){_737();},loadAndOpenDropDown:function(){var d=new _725(),_738=lang.hitch(this,function(){this.openDropDown();d.resolve(this.dropDown);});if(!this.isLoaded()){this.loadDropDown(_738);}else{_738();}return d;},toggleDropDown:function(){if(this.disabled||this.readOnly){return;}if(!this._opened){this.loadAndOpenDropDown();}else{this.closeDropDown();}},openDropDown:function(){var _739=this.dropDown,_73a=_739.domNode,_73b=this._aroundNode||this.domNode,self=this;if(!this._preparedNode){this._preparedNode=true;if(_73a.style.width){this._explicitDDWidth=true;}if(_73a.style.height){this._explicitDDHeight=true;}}if(this.maxHeight||this.forceWidth||this.autoWidth){var _73c={display:"",visibility:"hidden"};if(!this._explicitDDWidth){_73c.width="";}if(!this._explicitDDHeight){_73c.height="";}_72a.set(_73a,_73c);var _73d=this.maxHeight;if(_73d==-1){var _73e=_72b.getBox(this.ownerDocument),_73f=_729.position(_73b,false);_73d=Math.floor(Math.max(_73f.y,_73e.h-(_73f.y+_73f.h)));}_72e.moveOffScreen(_739);if(_739.startup&&!_739._started){_739.startup();}var mb=_729.getMarginSize(_73a);var _740=(_73d&&mb.h>_73d);_72a.set(_73a,{overflowX:"visible",overflowY:_740?"auto":"visible"});if(_740){mb.h=_73d;if("w" in mb){mb.w+=16;}}else{delete mb.h;}if(this.forceWidth){mb.w=_73b.offsetWidth;}else{if(this.autoWidth){mb.w=Math.max(mb.w,_73b.offsetWidth);}else{delete mb.w;}}if(lang.isFunction(_739.resize)){_739.resize(mb);}else{_729.setMarginBox(_73a,mb);}}var _741=_72e.open({parent:this,popup:_739,around:_73b,orient:this.dropDownPosition,onExecute:function(){self.closeDropDown(true);},onCancel:function(){self.closeDropDown(true);},onClose:function(){_727.set(self._popupStateNode,"popupActive",false);_728.remove(self._popupStateNode,"dijitHasDropDownOpen");self._set("_opened",false);}});_727.set(this._popupStateNode,"popupActive","true");_728.add(this._popupStateNode,"dijitHasDropDownOpen");this._set("_opened",true);this.domNode.setAttribute("aria-expanded","true");return _741;},closeDropDown:function(_742){if(this._focusDropDownTimer){this._focusDropDownTimer.remove();delete this._focusDropDownTimer;}if(this._opened){this.domNode.setAttribute("aria-expanded","false");if(_742){this.focus();}_72e.close(this.dropDown);this._opened=false;}}});});},"url:dijit/form/templates/DropDownButton.html":"<span class=\"dijit dijitReset dijitInline\"\n\t><span class='dijitReset dijitInline dijitButtonNode'\n\t\tdata-dojo-attach-event=\"ondijitclick:_onClick\" data-dojo-attach-point=\"_buttonNode\"\n\t\t><span class=\"dijitReset dijitStretch dijitButtonContents\"\n\t\t\tdata-dojo-attach-point=\"focusNode,titleNode,_arrowWrapperNode\"\n\t\t\trole=\"button\" aria-haspopup=\"true\" aria-labelledby=\"${id}_label\"\n\t\t\t><span class=\"dijitReset dijitInline dijitIcon\"\n\t\t\t\tdata-dojo-attach-point=\"iconNode\"\n\t\t\t></span\n\t\t\t><span class=\"dijitReset dijitInline dijitButtonText\"\n\t\t\t\tdata-dojo-attach-point=\"containerNode,_popupStateNode\"\n\t\t\t\tid=\"${id}_label\"\n\t\t\t></span\n\t\t\t><span class=\"dijitReset dijitInline dijitArrowButtonInner\"></span\n\t\t\t><span class=\"dijitReset dijitInline dijitArrowButtonChar\">&#9660;</span\n\t\t></span\n\t></span\n\t><input ${!nameAttrSetting} type=\"${type}\" value=\"${value}\" class=\"dijitOffScreen\" tabIndex=\"-1\"\n\t\tdata-dojo-attach-point=\"valueNode\" role=\"presentation\"\n/></span>\n","dijit/CheckedMenuItem":function(){require({cache:{"url:dijit/templates/CheckedMenuItem.html":"<tr class=\"dijitReset dijitMenuItem\" data-dojo-attach-point=\"focusNode\" role=\"menuitemcheckbox\" tabIndex=\"-1\">\n\t<td class=\"dijitReset dijitMenuItemIconCell\" role=\"presentation\">\n\t\t<img src=\"${_blankGif}\" alt=\"\" class=\"dijitMenuItemIcon dijitCheckedMenuItemIcon\" data-dojo-attach-point=\"iconNode\"/>\n\t\t<span class=\"dijitCheckedMenuItemIconChar\">&#10003;</span>\n\t</td>\n\t<td class=\"dijitReset dijitMenuItemLabel\" colspan=\"2\" data-dojo-attach-point=\"containerNode,labelNode\"></td>\n\t<td class=\"dijitReset dijitMenuItemAccelKey\" style=\"display: none\" data-dojo-attach-point=\"accelKeyNode\"></td>\n\t<td class=\"dijitReset dijitMenuArrowCell\" role=\"presentation\">&#160;</td>\n</tr>\n"}});define("dijit/CheckedMenuItem",["dojo/_base/declare","dojo/dom-class","./MenuItem","dojo/text!./templates/CheckedMenuItem.html","./hccss"],function(_743,_744,_745,_746){return _743("dijit.CheckedMenuItem",_745,{templateString:_746,checked:false,_setCheckedAttr:function(_747){_744.toggle(this.domNode,"dijitCheckedMenuItemChecked",_747);this.domNode.setAttribute("aria-checked",_747?"true":"false");this._set("checked",_747);},iconClass:"",onChange:function(){},_onClick:function(evt){if(!this.disabled){this.set("checked",!this.checked);this.onChange(this.checked);}this.onClick(evt);}});});},"dijit/MenuItem":function(){require({cache:{"url:dijit/templates/MenuItem.html":"<tr class=\"dijitReset dijitMenuItem\" data-dojo-attach-point=\"focusNode\" role=\"menuitem\" tabIndex=\"-1\">\n\t<td class=\"dijitReset dijitMenuItemIconCell\" role=\"presentation\">\n\t\t<img src=\"${_blankGif}\" alt=\"\" class=\"dijitIcon dijitMenuItemIcon\" data-dojo-attach-point=\"iconNode\"/>\n\t</td>\n\t<td class=\"dijitReset dijitMenuItemLabel\" colspan=\"2\" data-dojo-attach-point=\"containerNode\"></td>\n\t<td class=\"dijitReset dijitMenuItemAccelKey\" style=\"display: none\" data-dojo-attach-point=\"accelKeyNode\"></td>\n\t<td class=\"dijitReset dijitMenuArrowCell\" role=\"presentation\">\n\t\t<div data-dojo-attach-point=\"arrowWrapper\" style=\"visibility: hidden\">\n\t\t\t<img src=\"${_blankGif}\" alt=\"\" class=\"dijitMenuExpand\"/>\n\t\t\t<span class=\"dijitMenuExpandA11y\">+</span>\n\t\t</div>\n\t</td>\n</tr>\n"}});define("dijit/MenuItem",["dojo/_base/declare","dojo/dom","dojo/dom-attr","dojo/dom-class","dojo/_base/kernel","dojo/sniff","./_Widget","./_TemplatedMixin","./_Contained","./_CssStateMixin","dojo/text!./templates/MenuItem.html"],function(_748,dom,_749,_74a,_74b,has,_74c,_74d,_74e,_74f,_750){return _748("dijit.MenuItem",[_74c,_74d,_74e,_74f],{templateString:_750,baseClass:"dijitMenuItem",label:"",_setLabelAttr:function(val){this.containerNode.innerHTML=val;this._set("label",val);if(this.textDir==="auto"){this.applyTextDir(this.focusNode,this.label);}},iconClass:"dijitNoIcon",_setIconClassAttr:{node:"iconNode",type:"class"},accelKey:"",disabled:false,_fillContent:function(_751){if(_751&&!("label" in this.params)){this.set("label",_751.innerHTML);}},buildRendering:function(){this.inherited(arguments);var _752=this.id+"_text";_749.set(this.containerNode,"id",_752);if(this.accelKeyNode){_749.set(this.accelKeyNode,"id",this.id+"_accel");_752+=" "+this.id+"_accel";}this.domNode.setAttribute("aria-labelledby",_752);dom.setSelectable(this.domNode,false);},onClick:function(){},focus:function(){try{if(has("ie")==8){this.containerNode.focus();}this.focusNode.focus();}catch(e){}},_onFocus:function(){this._setSelected(true);this.getParent()._onItemFocus(this);this.inherited(arguments);},_setSelected:function(_753){_74a.toggle(this.domNode,"dijitMenuItemSelected",_753);},setLabel:function(_754){_74b.deprecated("dijit.MenuItem.setLabel() is deprecated.  Use set('label', ...) instead.","","2.0");this.set("label",_754);},setDisabled:function(_755){_74b.deprecated("dijit.Menu.setDisabled() is deprecated.  Use set('disabled', bool) instead.","","2.0");this.set("disabled",_755);},_setDisabledAttr:function(_756){this.focusNode.setAttribute("aria-disabled",_756?"true":"false");this._set("disabled",_756);},_setAccelKeyAttr:function(_757){this.accelKeyNode.style.display=_757?"":"none";this.accelKeyNode.innerHTML=_757;_749.set(this.containerNode,"colSpan",_757?"1":"2");this._set("accelKey",_757);},_setTextDirAttr:function(_758){if(!this._created||this.textDir!=_758){this._set("textDir",_758);this.applyTextDir(this.focusNode,this.label);}}});});},"url:dijit/templates/MenuItem.html":"<tr class=\"dijitReset dijitMenuItem\" data-dojo-attach-point=\"focusNode\" role=\"menuitem\" tabIndex=\"-1\">\n\t<td class=\"dijitReset dijitMenuItemIconCell\" role=\"presentation\">\n\t\t<img src=\"${_blankGif}\" alt=\"\" class=\"dijitIcon dijitMenuItemIcon\" data-dojo-attach-point=\"iconNode\"/>\n\t</td>\n\t<td class=\"dijitReset dijitMenuItemLabel\" colspan=\"2\" data-dojo-attach-point=\"containerNode\"></td>\n\t<td class=\"dijitReset dijitMenuItemAccelKey\" style=\"display: none\" data-dojo-attach-point=\"accelKeyNode\"></td>\n\t<td class=\"dijitReset dijitMenuArrowCell\" role=\"presentation\">\n\t\t<div data-dojo-attach-point=\"arrowWrapper\" style=\"visibility: hidden\">\n\t\t\t<img src=\"${_blankGif}\" alt=\"\" class=\"dijitMenuExpand\"/>\n\t\t\t<span class=\"dijitMenuExpandA11y\">+</span>\n\t\t</div>\n\t</td>\n</tr>\n","url:dijit/templates/CheckedMenuItem.html":"<tr class=\"dijitReset dijitMenuItem\" data-dojo-attach-point=\"focusNode\" role=\"menuitemcheckbox\" tabIndex=\"-1\">\n\t<td class=\"dijitReset dijitMenuItemIconCell\" role=\"presentation\">\n\t\t<img src=\"${_blankGif}\" alt=\"\" class=\"dijitMenuItemIcon dijitCheckedMenuItemIcon\" data-dojo-attach-point=\"iconNode\"/>\n\t\t<span class=\"dijitCheckedMenuItemIconChar\">&#10003;</span>\n\t</td>\n\t<td class=\"dijitReset dijitMenuItemLabel\" colspan=\"2\" data-dojo-attach-point=\"containerNode,labelNode\"></td>\n\t<td class=\"dijitReset dijitMenuItemAccelKey\" style=\"display: none\" data-dojo-attach-point=\"accelKeyNode\"></td>\n\t<td class=\"dijitReset dijitMenuArrowCell\" role=\"presentation\">&#160;</td>\n</tr>\n","dijit/form/ComboButton":function(){require({cache:{"url:dijit/form/templates/ComboButton.html":"<table class=\"dijit dijitReset dijitInline dijitLeft\"\n\tcellspacing='0' cellpadding='0' role=\"presentation\"\n\t><tbody role=\"presentation\"><tr role=\"presentation\"\n\t\t><td class=\"dijitReset dijitStretch dijitButtonNode\" data-dojo-attach-point=\"buttonNode\" data-dojo-attach-event=\"ondijitclick:_onClick,onkeypress:_onButtonKeyPress\"\n\t\t><div id=\"${id}_button\" class=\"dijitReset dijitButtonContents\"\n\t\t\tdata-dojo-attach-point=\"titleNode\"\n\t\t\trole=\"button\" aria-labelledby=\"${id}_label\"\n\t\t\t><div class=\"dijitReset dijitInline dijitIcon\" data-dojo-attach-point=\"iconNode\" role=\"presentation\"></div\n\t\t\t><div class=\"dijitReset dijitInline dijitButtonText\" id=\"${id}_label\" data-dojo-attach-point=\"containerNode\" role=\"presentation\"></div\n\t\t></div\n\t\t></td\n\t\t><td id=\"${id}_arrow\" class='dijitReset dijitRight dijitButtonNode dijitArrowButton'\n\t\t\tdata-dojo-attach-point=\"_popupStateNode,focusNode,_buttonNode\"\n\t\t\tdata-dojo-attach-event=\"onkeypress:_onArrowKeyPress\"\n\t\t\ttitle=\"${optionsTitle}\"\n\t\t\trole=\"button\" aria-haspopup=\"true\"\n\t\t\t><div class=\"dijitReset dijitArrowButtonInner\" role=\"presentation\"></div\n\t\t\t><div class=\"dijitReset dijitArrowButtonChar\" role=\"presentation\">&#9660;</div\n\t\t></td\n\t\t><td style=\"display:none !important;\"\n\t\t\t><input ${!nameAttrSetting} type=\"${type}\" value=\"${value}\" data-dojo-attach-point=\"valueNode\" role=\"presentation\"\n\t\t/></td></tr></tbody\n></table>\n"}});define("dijit/form/ComboButton",["dojo/_base/declare","dojo/_base/event","dojo/keys","../focus","./DropDownButton","dojo/text!./templates/ComboButton.html"],function(_759,_75a,keys,_75b,_75c,_75d){return _759("dijit.form.ComboButton",_75c,{templateString:_75d,_setIdAttr:"",_setTabIndexAttr:["focusNode","titleNode"],_setTitleAttr:"titleNode",optionsTitle:"",baseClass:"dijitComboButton",cssStateNodes:{"buttonNode":"dijitButtonNode","titleNode":"dijitButtonContents","_popupStateNode":"dijitDownArrowButton"},_focusedNode:null,_onButtonKeyPress:function(evt){if(evt.charOrCode==keys[this.isLeftToRight()?"RIGHT_ARROW":"LEFT_ARROW"]){_75b.focus(this._popupStateNode);_75a.stop(evt);}},_onArrowKeyPress:function(evt){if(evt.charOrCode==keys[this.isLeftToRight()?"LEFT_ARROW":"RIGHT_ARROW"]){_75b.focus(this.titleNode);_75a.stop(evt);}},focus:function(_75e){if(!this.disabled){_75b.focus(_75e=="start"?this.titleNode:this._popupStateNode);}}});});},"url:dijit/form/templates/ComboButton.html":"<table class=\"dijit dijitReset dijitInline dijitLeft\"\n\tcellspacing='0' cellpadding='0' role=\"presentation\"\n\t><tbody role=\"presentation\"><tr role=\"presentation\"\n\t\t><td class=\"dijitReset dijitStretch dijitButtonNode\" data-dojo-attach-point=\"buttonNode\" data-dojo-attach-event=\"ondijitclick:_onClick,onkeypress:_onButtonKeyPress\"\n\t\t><div id=\"${id}_button\" class=\"dijitReset dijitButtonContents\"\n\t\t\tdata-dojo-attach-point=\"titleNode\"\n\t\t\trole=\"button\" aria-labelledby=\"${id}_label\"\n\t\t\t><div class=\"dijitReset dijitInline dijitIcon\" data-dojo-attach-point=\"iconNode\" role=\"presentation\"></div\n\t\t\t><div class=\"dijitReset dijitInline dijitButtonText\" id=\"${id}_label\" data-dojo-attach-point=\"containerNode\" role=\"presentation\"></div\n\t\t></div\n\t\t></td\n\t\t><td id=\"${id}_arrow\" class='dijitReset dijitRight dijitButtonNode dijitArrowButton'\n\t\t\tdata-dojo-attach-point=\"_popupStateNode,focusNode,_buttonNode\"\n\t\t\tdata-dojo-attach-event=\"onkeypress:_onArrowKeyPress\"\n\t\t\ttitle=\"${optionsTitle}\"\n\t\t\trole=\"button\" aria-haspopup=\"true\"\n\t\t\t><div class=\"dijitReset dijitArrowButtonInner\" role=\"presentation\"></div\n\t\t\t><div class=\"dijitReset dijitArrowButtonChar\" role=\"presentation\">&#9660;</div\n\t\t></td\n\t\t><td style=\"display:none !important;\"\n\t\t\t><input ${!nameAttrSetting} type=\"${type}\" value=\"${value}\" data-dojo-attach-point=\"valueNode\" role=\"presentation\"\n\t\t/></td></tr></tbody\n></table>\n","dijit/form/RadioButton":function(){define("dijit/form/RadioButton",["dojo/_base/declare","./CheckBox","./_RadioButtonMixin"],function(_75f,_760,_761){return _75f("dijit.form.RadioButton",[_760,_761],{baseClass:"dijitRadio"});});},"dijit/form/CheckBox":function(){require({cache:{"url:dijit/form/templates/CheckBox.html":"<div class=\"dijit dijitReset dijitInline\" role=\"presentation\"\n\t><input\n\t \t${!nameAttrSetting} type=\"${type}\" role=\"${type}\" aria-checked=\"false\" ${checkedAttrSetting}\n\t\tclass=\"dijitReset dijitCheckBoxInput\"\n\t\tdata-dojo-attach-point=\"focusNode\"\n\t \tdata-dojo-attach-event=\"onclick:_onClick\"\n/></div>\n"}});define("dijit/form/CheckBox",["require","dojo/_base/declare","dojo/dom-attr","dojo/has","dojo/query","dojo/ready","./ToggleButton","./_CheckBoxMixin","dojo/text!./templates/CheckBox.html","dojo/NodeList-dom"],function(_762,_763,_764,has,_765,_766,_767,_768,_769){if(has("dijit-legacy-requires")){_766(0,function(){var _76a=["dijit/form/RadioButton"];_762(_76a);});}return _763("dijit.form.CheckBox",[_767,_768],{templateString:_769,baseClass:"dijitCheckBox",_setValueAttr:function(_76b,_76c){if(typeof _76b=="string"){this.inherited(arguments);_76b=true;}if(this._created){this.set("checked",_76b,_76c);}},_getValueAttr:function(){return (this.checked?this.value:false);},_setIconClassAttr:null,postMixInProperties:function(){this.inherited(arguments);this.checkedAttrSetting=this.checked?"checked":"";},_fillContent:function(){},_onFocus:function(){if(this.id){_765("label[for='"+this.id+"']").addClass("dijitFocusedLabel");}this.inherited(arguments);},_onBlur:function(){if(this.id){_765("label[for='"+this.id+"']").removeClass("dijitFocusedLabel");}this.inherited(arguments);}});});},"dijit/form/ToggleButton":function(){define("dijit/form/ToggleButton",["dojo/_base/declare","dojo/_base/kernel","./Button","./_ToggleButtonMixin"],function(_76d,_76e,_76f,_770){return _76d("dijit.form.ToggleButton",[_76f,_770],{baseClass:"dijitToggleButton",setChecked:function(_771){_76e.deprecated("setChecked("+_771+") is deprecated. Use set('checked',"+_771+") instead.","","2.0");this.set("checked",_771);}});});},"dijit/form/_ToggleButtonMixin":function(){define("dijit/form/_ToggleButtonMixin",["dojo/_base/declare","dojo/dom-attr"],function(_772,_773){return _772("dijit.form._ToggleButtonMixin",null,{checked:false,_aria_attr:"aria-pressed",_onClick:function(evt){var _774=this.checked;this._set("checked",!_774);var ret=this.inherited(arguments);this.set("checked",ret?this.checked:_774);return ret;},_setCheckedAttr:function(_775,_776){this._set("checked",_775);var node=this.focusNode||this.domNode;_773.set(node,"checked",!!_775);if(_775){node.setAttribute("checked","");}else{node.removeAttribute("checked");}node.setAttribute(this._aria_attr,String(_775));this._handleOnChange(_775,_776);},reset:function(){this._hasBeenBlurred=false;this.set("checked",this.params.checked||false);}});});},"dijit/form/_CheckBoxMixin":function(){define("dijit/form/_CheckBoxMixin",["dojo/_base/declare","dojo/dom-attr","dojo/_base/event"],function(_777,_778,_779){return _777("dijit.form._CheckBoxMixin",null,{type:"checkbox",value:"on",readOnly:false,_aria_attr:"aria-checked",_setReadOnlyAttr:function(_77a){this._set("readOnly",_77a);_778.set(this.focusNode,"readOnly",_77a);},_setLabelAttr:undefined,_getSubmitValue:function(_77b){return !_77b&&_77b!==0?"on":_77b;},_setValueAttr:function(_77c){_77c=this._getSubmitValue(_77c);this._set("value",_77c);_778.set(this.focusNode,"value",_77c);},reset:function(){this.inherited(arguments);this._set("value",this.params.value||"on");_778.set(this.focusNode,"value",this.value);},_onClick:function(e){if(this.readOnly){_779.stop(e);return false;}return this.inherited(arguments);}});});},"url:dijit/form/templates/CheckBox.html":"<div class=\"dijit dijitReset dijitInline\" role=\"presentation\"\n\t><input\n\t \t${!nameAttrSetting} type=\"${type}\" role=\"${type}\" aria-checked=\"false\" ${checkedAttrSetting}\n\t\tclass=\"dijitReset dijitCheckBoxInput\"\n\t\tdata-dojo-attach-point=\"focusNode\"\n\t \tdata-dojo-attach-event=\"onclick:_onClick\"\n/></div>\n","dijit/form/_RadioButtonMixin":function(){define("dijit/form/_RadioButtonMixin",["dojo/_base/array","dojo/_base/declare","dojo/dom-attr","dojo/_base/event","dojo/_base/lang","dojo/query","../registry"],function(_77d,_77e,_77f,_780,lang,_781,_782){return _77e("dijit.form._RadioButtonMixin",null,{type:"radio",_getRelatedWidgets:function(){var ary=[];_781("input[type=radio]",this.focusNode.form||this.ownerDocument).forEach(lang.hitch(this,function(_783){if(_783.name==this.name&&_783.form==this.focusNode.form){var _784=_782.getEnclosingWidget(_783);if(_784){ary.push(_784);}}}));return ary;},_setCheckedAttr:function(_785){this.inherited(arguments);if(!this._created){return;}if(_785){_77d.forEach(this._getRelatedWidgets(),lang.hitch(this,function(_786){if(_786!=this&&_786.checked){_786.set("checked",false);}}));}},_getSubmitValue:function(_787){return _787===null?"on":_787;},_onClick:function(e){if(this.checked||this.disabled){_780.stop(e);return false;}if(this.readOnly){_780.stop(e);_77d.forEach(this._getRelatedWidgets(),lang.hitch(this,function(_788){_77f.set(this.focusNode||this.domNode,"checked",_788.checked);}));return false;}return this.inherited(arguments);}});});},"epi/shell/widget/PopupMenuItem":function(){define(["dojo/_base/declare","dijit/_Container","dijit/Menu","dijit/PopupMenuItem"],function(_789,_78a,Menu,_78b){return _789([_78b,_78a],{constructor:function(){this.popup=new Menu();},addChild:function(_78c,_78d){return this.popup.addChild(_78c,_78d);},getChildren:function(){return this.popup.getChildren();},removeChild:function(_78e){return this.popup.removeChild(_78e);}});});},"dijit/PopupMenuItem":function(){define("dijit/PopupMenuItem",["dojo/_base/declare","dojo/dom-style","dojo/query","./registry","./MenuItem","./hccss"],function(_78f,_790,_791,_792,_793){return _78f("dijit.PopupMenuItem",_793,{_fillContent:function(){if(this.srcNodeRef){var _794=_791("*",this.srcNodeRef);this.inherited(arguments,[_794[0]]);this.dropDownContainer=this.srcNodeRef;}},startup:function(){if(this._started){return;}this.inherited(arguments);if(!this.popup){var node=_791("[widgetId]",this.dropDownContainer)[0];this.popup=_792.byNode(node);}this.ownerDocumentBody.appendChild(this.popup.domNode);this.popup.startup();this.popup.domNode.style.display="none";if(this.arrowWrapper){_790.set(this.arrowWrapper,"visibility","");}this.focusNode.setAttribute("aria-haspopup","true");},destroyDescendants:function(_795){if(this.popup){if(!this.popup._destroyed){this.popup.destroyRecursive(_795);}delete this.popup;}this.inherited(arguments);}});});},"epi/shell/widget/ToolbarLabel":function(){define(["dojo","dojo/dom-construct","dijit/_WidgetBase"],function(dojo,_796,_797){return dojo.declare([_797],{baseClass:"epi-breadCrumbsCurrentItem dijitInline",label:null,buildRendering:function(){if(!this.domNode){this.domNode=this.srcNodeRef||_796.create("h1");}this.inherited(arguments);},_setLabelAttr:{node:"domNode",type:"innerText"}});});},"epi/UriParser":function(){define("epi/UriParser",["dojo","epi"],function(dojo,epi){return dojo.declare(null,{constructor:function(uri){var ore=new RegExp("^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?$");var r=uri.match(ore);if(!this.scheme){this.scheme=r[2]||(r[1]?"":null);}if(!this.authority){this.authority=r[4]||(r[3]?"":null);}if(!this.path){this.path=r[5];}},getModuleArea:function(){return this.scheme.split(".")[1];},getStoreName:function(){return this.scheme.split(".")[2];},getType:function(){return this.scheme;},getId:function(){return this.path.substr(1);},toString:function(){return this.scheme+"://"+this.authority+this.path;}});});},"epi/shell/conversion/ObjectConverterRegistry":function(){define(["dojo/_base/array","dojo/_base/lang"],function(_798,lang){return {_converterMappings:{},clear:function(){this._converterMappings={};},registerConverter:function(_799,_79a,_79b){var _79c=this._converterMappings[_799];if(!_79c){_79c={};this._converterMappings[_799]=_79c;}_79c[_79a]=_79b;},getConverters:function(_79d){var _79e;if(lang.isArray(_79d)){_79e=_798.map(_79d,function(name){if(name in this._converterMappings){return this._converterMappings[name];}},this);_79e=_798.filter(_79e,function(item){return item!==undefined;},this);return _79e;}else{if(this._converterMappings[_79d]===undefined){return undefined;}return [this._converterMappings[_79d]];}},getConverter:function(_79f,_7a0){var _7a1=this.getConverters(_79f);var _7a2;if(_7a1===undefined){return null;}_798.some(_7a1,function(item,i){if((item[_7a0])){_7a2=item[_7a0];return true;}});return _7a2;}};});},"epi/shell/dnd/Target":function(){define(["dojo/_base/declare","dojo/dom-class","./Source"],function(_7a3,_7a4,_7a5){return _7a3([_7a5],{constructor:function(node,_7a6){this.isSource=false;_7a4.remove(this.node,"dojoDndSource");}});});},"epi/shell/dnd/Source":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/_base/lang","dojo/topic","dojo/dom-construct","dojo/dnd/Source","./_DndDataMixin"],function(_7a7,_7a8,lang,_7a9,_7aa,_7ab,_7ac){return _7a8([_7ab,_7ac],{alwaysCopy:true,createItemOnDrop:true,singular:true,generateText:false,_dummyDropItemContainer:null,readOnly:null,postscript:function(){this.inherited(arguments);if(!this.createItemOnDrop){this.parent=this._dummyDropItemContainer=_7aa.create("div");}},destroy:function(){if(this._dummyDropItemContainer){_7aa.destroy(this._dummyDropItemContainer);this._dummyDropItemContainer=null;}this.inherited(arguments);},checkAcceptance:function(_7ad,_7ae){if(this.readOnly){return false;}var _7af=_7a7.map(_7ae,function(node){return _7ad.getItem(node.id);});return this._checkAcceptanceForItems(_7af,this.accept);},getOrderedItems:function(){return _7a7.map(this.getAllNodes(),function(node){return this.getItem(node.id);},this);},onDndItemRemoved:function(_7b0,_7b1,_7b2,copy,_7b3){},onDropData:function(_7b4,_7b5,_7b6,copy){},onDrop:function(_7b7,_7b8,copy){var _7b9=_7a7.map(_7b8,function(node){return this._getDndData(_7b7.getItem(node.id),this.accept,this===_7b7);},this);this.inherited(arguments,[_7b7,_7b8,this.alwaysCopy||copy]);if(!this.createItemOnDrop){_7aa.empty(this._dummyDropItemContainer);}this.onDropData(_7b9,_7b7,_7b8,this.alwaysCopy||copy);_7a9.publish("/epi/dnd/dropdata",_7b9,_7b7,_7b8,this.alwaysCopy||copy);}});});},"epi/shell/dnd/_DndDataMixin":function(){define(["dojo/_base/array","dojo/_base/declare","epi/dependency","epi/shell/conversion/ObjectConverterRegistry"],function(_7ba,_7bb,_7bc,_7bd){return _7bb(null,{_checkAcceptanceForItems:function(_7be,_7bf){return _7ba.every(_7be,function(item){return this._acceptsTypeWithoutConversion(item.type,_7bf)||this._converterExistsForAnyType(item.type,_7bf);},this);},_acceptsTypeWithoutConversion:function(_7c0,_7c1){var flag=false;for(var j=0;j<_7c0.length;++j){if(_7c0[j] in _7c1){flag=true;break;}}return flag;},_converterExistsForAnyType:function(_7c2,_7c3){for(var type in _7c3){for(var j=0;j<_7c2.length;++j){if(_7bd.getConverter(_7c2[j],type)){return true;}}}return false;},_getDndData:function(item,_7c4,_7c5){if(!item||!item.data){return null;}var _7c6=null;var data=item.data.dndData||item.data;var _7c7=null;if(this._acceptsTypeWithoutConversion(item.type,_7c4)){_7c7={type:item.type,data:data,options:item.options};_7c6=_7c7;}else{for(var type in _7c4){var _7c8=_7bd.getConverter(item.type,type);if(_7c8){_7c7={type:[type]};_7c7.data=_7c8.convert(item.type,type,data);_7c7.options=item.options;_7c6=_7c7;break;}}}if(!_7c5){item.data.getNormalizedData=function(){return _7c7;};}return _7c6;}});});},"epi/shell/HashWrapper":function(){define("epi/shell/HashWrapper",["dojo/_base/connect","dojo/_base/declare","dojo/_base/lang","dojo/cookie","dojo/io-query","dojo/hash","dojo/Stateful","epi/epi"],function(_7c9,_7ca,lang,_7cb,io,hash,_7cc,epi){return _7ca([_7cc],{encodeEnabled:false,_requestContext:true,_hashChanged:true,constructor:function(_7cd){if(_7cd){this.encodeEnabled=_7cd.encodeEnabled;}_7c9.subscribe("/dojo/hashchange",this,"_onHashChanged");},getHash:function(){var _7ce=hash();if(!_7ce){var _7cf=_7cb("epihash");if(_7cf){_7ce=hash(_7cf);}_7cb("epihash",null,{expires:-1,path:"/"});}return io.queryToObject(decodeURIComponent(_7ce));},setHash:function(_7d0){hash(this.encodeEnabled?encodeURIComponent(decodeURIComponent(io.objectToQuery(_7d0))):decodeURIComponent(io.objectToQuery(_7d0)));},hashEmpty:function(){return epi.isEmpty(this.getHash());},onHashChanged:function(ctx){},_hashAreEqual:function(_7d1,_7d2){if(!_7d1&&!_7d2){return true;}if(_7d1&&_7d2){return (_7d1.context===_7d2.context);}return false;},onContextChange:function(ctx,_7d3){this._onContextChange(ctx,_7d3);},extractHash:function(ctx,_7d4){var _7d5=this.getHash();var _7d6=this._getNewHash(ctx);var _7d7=this.hashEmpty()?_7d6:lang.mixin(_7d5,_7d6);return this.encodeEnabled?encodeURIComponent(decodeURIComponent(io.objectToQuery(_7d7))):decodeURIComponent(io.objectToQuery(_7d7));},_onContextChange:function(ctx,_7d8){var _7d9=this.getHash();var _7da=this._getNewHash(ctx);if(!this._hashAreEqual(_7d9,_7da)){if(!_7d8||_7d8.sender!=this){this._requestContext=false;hash(this.extractHash(ctx,_7d8));}this.onHashChanged(ctx);}else{if(this._hashChanged){this.onHashChanged(ctx);}}this._hashChanged=false;},_getNewHash:function(ctx){return {context:ctx.requestedUri||ctx.versionAgnosticUri||ctx.uri};},_onHashChanged:function(_7db){if(this._requestContext){this._hashChanged=true;var _7dc=io.queryToObject(decodeURIComponent(_7db));if(_7dc&&_7dc.context){var _7dd={uri:_7dc.context};_7c9.publish("/epi/shell/context/request",[_7dd,{sender:this}]);}}this._requestContext=true;}});});},"dojo/cookie":function(){define("dojo/cookie",["./_base/kernel","./regexp"],function(dojo,_7de){dojo.cookie=function(name,_7df,_7e0){var c=document.cookie,ret;if(arguments.length==1){var _7e1=c.match(new RegExp("(?:^|; )"+_7de.escapeString(name)+"=([^;]*)"));ret=_7e1?decodeURIComponent(_7e1[1]):undefined;}else{_7e0=_7e0||{};var exp=_7e0.expires;if(typeof exp=="number"){var d=new Date();d.setTime(d.getTime()+exp*24*60*60*1000);exp=_7e0.expires=d;}if(exp&&exp.toUTCString){_7e0.expires=exp.toUTCString();}_7df=encodeURIComponent(_7df);var _7e2=name+"="+_7df,_7e3;for(_7e3 in _7e0){_7e2+="; "+_7e3;var _7e4=_7e0[_7e3];if(_7e4!==true){_7e2+="="+_7e4;}}document.cookie=_7e2;}return ret;};dojo.cookie.isSupported=function(){if(!("cookieEnabled" in navigator)){this("__djCookieTest__","CookiesAllowed");navigator.cookieEnabled=this("__djCookieTest__")=="CookiesAllowed";if(navigator.cookieEnabled){this("__djCookieTest__","",{expires:-1});}}return navigator.cookieEnabled;};return dojo.cookie;});},"dojo/hash":function(){define("dojo/hash",["./_base/kernel","require","./_base/config","./_base/connect","./_base/lang","./ready","./sniff"],function(dojo,_7e5,_7e6,_7e7,lang,_7e8,has){dojo.hash=function(hash,_7e9){if(!arguments.length){return _7ea();}if(hash.charAt(0)=="#"){hash=hash.substring(1);}if(_7e9){_7eb(hash);}else{location.href="#"+hash;}return hash;};var _7ec,_7ed,_7ee,_7ef=_7e6.hashPollFrequency||100;function _7f0(str,_7f1){var i=str.indexOf(_7f1);return (i>=0)?str.substring(i+1):"";};function _7ea(){return _7f0(location.href,"#");};function _7f2(){_7e7.publish("/dojo/hashchange",[_7ea()]);};function _7f3(){if(_7ea()===_7ec){return;}_7ec=_7ea();_7f2();};function _7eb(hash){if(_7ed){if(_7ed.isTransitioning()){setTimeout(lang.hitch(null,_7eb,hash),_7ef);return;}var href=_7ed.iframe.location.href;var _7f4=href.indexOf("?");_7ed.iframe.location.replace(href.substring(0,_7f4)+"?"+hash);return;}location.replace("#"+hash);!_7ee&&_7f3();};function _7f5(){var ifr=document.createElement("iframe"),_7f6="dojo-hash-iframe",_7f7=_7e6.dojoBlankHtmlUrl||_7e5.toUrl("./resources/blank.html");if(_7e6.useXDomain&&!_7e6.dojoBlankHtmlUrl){}ifr.id=_7f6;ifr.src=_7f7+"?"+_7ea();ifr.style.display="none";document.body.appendChild(ifr);this.iframe=dojo.global[_7f6];var _7f8,_7f9,_7fa,_7fb,_7fc,_7fd=this.iframe.location;function _7fe(){_7ec=_7ea();_7f8=_7fc?_7ec:_7f0(_7fd.href,"?");_7f9=false;_7fa=null;};this.isTransitioning=function(){return _7f9;};this.pollLocation=function(){if(!_7fc){try{var _7ff=_7f0(_7fd.href,"?");if(document.title!=_7fb){_7fb=this.iframe.document.title=document.title;}}catch(e){_7fc=true;console.error("dojo.hash: Error adding history entry. Server unreachable.");}}var hash=_7ea();if(_7f9&&_7ec===hash){if(_7fc||_7ff===_7fa){_7fe();_7f2();}else{setTimeout(lang.hitch(this,this.pollLocation),0);return;}}else{if(_7ec===hash&&(_7fc||_7f8===_7ff)){}else{if(_7ec!==hash){_7ec=hash;_7f9=true;_7fa=hash;ifr.src=_7f7+"?"+_7fa;_7fc=false;setTimeout(lang.hitch(this,this.pollLocation),0);return;}else{if(!_7fc){location.href="#"+_7fd.search.substring(1);_7fe();_7f2();}}}}setTimeout(lang.hitch(this,this.pollLocation),_7ef);};_7fe();setTimeout(lang.hitch(this,this.pollLocation),_7ef);};_7e8(function(){if("onhashchange" in dojo.global&&(!has("ie")||(has("ie")>=8&&document.compatMode!="BackCompat"))){_7ee=_7e7.connect(dojo.global,"onhashchange",_7f2);}else{if(document.addEventListener){_7ec=_7ea();setInterval(_7f3,_7ef);}else{if(document.attachEvent){_7ed=new _7f5();}}}});return dojo.hash;});},"epi/shell/layout/GroupContainer":function(){define(["dojo/_base/declare","dojo/dom-style","epi/shell/layout/SimpleContainer"],function(_800,_801,_802){return _800([_802],{templateString:"<div class='epi-containerLayout clearfix'>                            <h3 data-dojo-attach-point='labelNode'>${label}</h3>                            <ul data-dojo-attach-point='containerNode'></ul>                        </div>",postMixInProperties:function(){this.inherited(arguments);this.label=this.title;delete this.title;},postCreate:function(){this.inherited(arguments);if(!this.label&&this.labelNode){_801.set(this.labelNode,"display","none");}}});});},"epi/shell/layout/SimpleContainer":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/_base/lang","dojo/dom-class","dojo/dom-construct","dojo/dom-style","dijit/_WidgetBase","dijit/_Container","dijit/_Contained","dijit/_TemplatedMixin","dijit/layout/_LayoutWidget","dijit/form/_FormWidget","epi/shell/widget/CheckBox"],function(_803,_804,lang,_805,_806,_807,_808,_809,_80a,_80b,_80c,_80d,_80e){var _80f=_804([_808,_809,_80a,_80b],{templateString:"<li class='epi-parentContainer'><div class='epi-formsWidgetWrapper' data-dojo-attach-point='containerNode'></div></li>"});var _810=_804([_808,_809,_80a,_80b],{templateString:"<li><div class='epi-formsWidgetWrapper' data-dojo-attach-point='containerNode'></div></li>"});return _804([_80c,_80b],{templateString:"<div class=\"epi-containerLayout clearfix\"><ul data-dojo-attach-point=\"containerNode\"></ul></div>",_FieldItem:_804([_808,_809,_80a,_80b],{templateString:"<li class='epi-formsRow' data-dojo-attach-point='containerNodeWrapper'>                            <label for='${labelTarget}' title='${tooltip}'>                                <span class='dijitInline dijitReset dijitIcon epi-iconPenDisabled' data-dojo-attach-point='readonlyIcon'></span>${label}                            </label>                            <div class='epi-formsWidgetWrapper' data-dojo-attach-point='containerNode'></div>                        </li>",_setReadonlyIconDisplayAttr:function(_811){_807.set(this.readonlyIcon,"display",_811===true?"":"none");},_setHasFullWidthValueAttr:function(_812){if(_812){_805.add(this.containerNodeWrapper,"epi-formsRow--fullWidthValue");}}}),_HiddenFieldItem:_804([_808,_809,_80a,_80b],{templateString:"<li class='epi-formsRow'><div class='epi-formsWidgetWrapper' data-dojo-attach-point='containerNode'></div></li>"}),addChild:function(_813){var _814;switch(_813._type){case "field":_814=new this._FieldItem({labelTarget:_813.checkbox?_813.checkbox.id:_813.id,label:_813.label,tooltip:_813.tooltip,readonlyIconDisplay:_813.readOnly,hasFullWidthValue:_813.useFullWidth});this.own(_813.watch("readOnly",function(name,_815,_816){_814.set("readonlyIconDisplay",_816);}));break;case "hiddenfield":_814=new this._HiddenFieldItem();break;case "parent":_814=new _80f();break;case "group":_814=new _810();break;}this._addChildToWrapper(_814,_813);this.own(_814);return this.inherited(arguments,[_814]);},_addChildToWrapper:function(_817,_818){_817.addChild(_818);},layout:function(){_803.forEach(this.getChildren(),function(_819){var _81a=_819.getChildren()[0];if(_81a&&_81a.resize){_81a.resize();}});}});});},"epi/shell/widget/CheckBox":function(){define(["dojo/_base/declare","dijit/_Widget","dijit/_TemplatedMixin","dijit/_WidgetsInTemplateMixin","dijit/form/CheckBox"],function(_81b,_81c,_81d,_81e){return _81b([_81c,_81d,_81e],{templateString:"<div class=\"dijit dijitReset dijitInline\"><input data-dojo-type=\"dijit/form/CheckBox\" data-dojo-attach-point=\"checkbox\" data-dojo-attach-event=\"onChange: _onChange\"></div>",value:null,_setValueAttr:function(_81f){this.value=_81f;this.checkbox.set("checked",_81f);},_setReadOnlyAttr:function(_820){this.checkbox.set("readOnly",_820);},_getReadOnlyAttr:function(){return this.checkbox.set("readOnly");},_getValueAttr:function(){return this.checkbox.get("checked");},_onChange:function(_821){this.value=_821;this.onChange(_821);},onChange:function(_822){}});});},"epi/shell/layout/ParentContainer":function(){define(["dojo/_base/declare","epi/shell/layout/GroupContainer"],function(_823,_824){return _823([_824],{templateString:"<div class='epi-containerLayout clearfix'>                            <h2>${label}</h2>                            <ul data-dojo-attach-point='containerNode'></ul>                        </div>"});});},"epi/shell/layout/PinnablePane":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/_base/event","dojo/_base/lang","dojo/_base/window","dojo/dom-class","dojo/dom-geometry","dojo/dom-style","dojo/topic","dojo/when","dojo/text!./templates/PinnablePane.html","dijit/_Contained","dijit/_Container","dijit/_TemplatedMixin","dijit/layout/ContentPane","epi/dependency","epi/i18n!epi/shell/ui/nls/episerver.shell.ui.resources","epi/shell/layout/PinnablePaneSplitter","epi/shell/widget/_ActionConsumerWidget","epi/shell/widget/_ActionProvider","epi/shell/widget/ToolbarSet"],function(_825,_826,_827,lang,win,_828,_829,_82a,_82b,when,_82c,_82d,_82e,_82f,_830,_831,_832,_833,_834,_835,_836){return _826([_830,_82f,_82d,_82e,_834],{pinned:false,visible:false,templateString:_82c,baseClass:"epi-pinnable",postMixInProperties:function(){var _837=_831.resolve("epi.shell.Profile");this.inherited(arguments);when(_837.get(this.id),lang.hitch(this,function(_838){if(_838){this.pinned=_838.pinned;this.visible=_838.visible;this.size=_838.size;}}));this._profile=_837;},buildRendering:function(){this.inherited(arguments);var _839=new _836({baseClass:"epi-pinnableToolbar"},this.toolbarNode);this.own(_839);this.set("definitionConsumer",_839);_82a.set(this.containerNode,"width",(this.size||this.minSize)+"px");if(!this.pinned){this.set("pinned",this.pinned);}if(!this.visible){this.set("visible",this.visible);}},postCreate:function(){var _83a="",ltr=this.isLeftToRight(),_83b=function(){if(this.visible){this._dragging=true;}},_83c=function(){this._dragging=false;};this.inherited(arguments);if(this.region){switch(this.region){case "trailing":case "right":_83a=ltr?"right":"left";break;case "leading":case "left":_83a=ltr?"left":"right";break;case "top":_83a="top";break;case "bottom":_83a="bottom";break;}_828.add(this.domNode,this.baseClass+"-"+_83a);}this.subscribe("/epi/layout/pinnable/"+this.id+"/toggle",function(_83d){if(typeof _83d!=="boolean"){_83d=!this.visible;}this.set("visible",_83d);});this.subscribe("/dnd/start",_83b);this.subscribe("/dnd/drop",_83c);this.subscribe("/dnd/cancel",_83c);},startup:function(){var _83e=this._splitterWidget;if(this._started){return;}_825.forEach(this.getChildren(),function(_83f){if(_83f.isInstanceOf(_835)){this.addProvider(_83f);}},this);this.inherited(arguments);this._container=this.getParent();if(this.splitter&&_83e){_83e=_833(_83e);if(!this.pinned){_83e.hide();}this.connect(_83e,"_stopDrag",this.persist);}this._refreshState();},resize:function(_840){var pos=this.region,_841=this.visible&&this.pinned,_842=_829.getMarginBox(this.domNode),_843=_829.getMarginBox(this.containerNode),_844={},_845={t:_842.t},_846=pos=="left"||pos=="leading",_847=pos=="right"||pos=="trailing";if(!this._toolbarHeight){this._toolbarHeight=_829.getMarginBox(this.definitionConsumer.domNode).h;}_829.setMarginBox(this.domNode,{w:_841?_843.w:0});if(_840){if(_840.w){_844.w=_843.w=_840.w;if(!this.pinned){delete _840.w;}}if(_840.h){_842.h=_840.h;}}var _848=this._computeMaxSize();if(this._visibilityChanged&&_848<_843.w){_844.w=_843.w=_848;}_844.h=_842.h-this._toolbarHeight;_829.setMarginBox(this.containerNode,_844);if(_846){_845.l=_842.l;}else{if(_847){_845.l=_841?0:0-_843.w;}}_829.setMarginBox(this.pinnableNode,_845);if(this._splitterWidget){var _849=_829.getMarginBox(this._splitterWidget.domNode),_84a={t:_842.t};if(_846){_84a.l=_843.w;}else{if(_847){_84a.l=_841?_842.l-_849.w:_842.l-_843.w;}}_829.setMarginBox(this._splitterWidget.domNode,_84a);}this.inherited(arguments);},persist:function(){var _84b={pinned:this.pinned,visible:this.visible,size:_82a.get(this.containerNode,"width")};this._profile.set(this.id,_84b);},getActions:function(){var _84c=this.inherited(arguments),_84d=/left|leading/.test(this.region),pin={name:"pin",widgetType:"dijit.form.ToggleButton",title:this._getPinTitle(),iconClass:"epi-iconPin",settings:{showLabel:false,"class":"epi-chromelessButton",checked:this.pinned,region:_84d?"trailing":"leading"},action:lang.hitch(this,this._togglePinned)},_84e={name:"settings",title:_832.gadgetchrome.settingsmenutooltip,type:"dropdown",iconClass:"epi-iconSettings",settings:{showLabel:false,"class":"epi-chromelessButton",dropDownPosition:_84d?["below-alt"]:["below"],region:_84d?"trailing":"leading"}};_84c.splice(0,0,_84e);_84c.splice(_84d?_84c.length:0,0,pin);return _84c;},_setPinnedAttr:function(_84f){this._set("pinned",_84f);_828.toggle(this.pinnableNode,this.baseClass+"-pinned",_84f);_828.toggle(this.pinnableNode,this.baseClass+"-unpinned",!_84f);_82a.set(this.pinnableNode,"position",_84f?"relative":"absolute");this.definitionConsumer.setItemProperty("pin","title",this._getPinTitle());if(this._started){this._refreshState();}if(!this.pinned){this.set("visible",false);}},_setVisibleAttr:function(_850){this._set("visible",_850);_82a.set(this.pinnableNode,"display",_850?"block":"none");if(this._splitterWidget){(_850)?this._splitterWidget.show():this._splitterWidget.hide();}if(this._started){this._visibilityChanged=true;this._refreshState();this._visibilityChanged=false;}},_togglePinned:function(){this.set("pinned",!this.pinned);},_refreshState:function(){this._disconnectUnpinnedEvents();if(this.visible&&!this.pinned){this._connectUnpinnedEvents();}this._container.layout();this.resize();this.persist();_82b.publish("/epi/layout/pinnable/"+this.id+"/visibilitychanged",this.visible);},_connectUnpinnedEvents:function(){this._unpinnedEvents=[this.connect(this.domNode,"onmousedown",_827.stop),this.connect(this._container.domNode,"onmousedown",lang.hitch(this,this.set,"visible",false)),this.connect(win.global,"onresize",lang.hitch(this,this.set,"visible",false)),this.connect(this.domNode,"onmouseover",_827.stop),this.connect(this._container.domNode,"onmouseover",function(){if(this._dragging){this.set("visible",false);}}),_82b.subscribe("/epi/shell/action/changeview",lang.hitch(this,this.set,"visible",false))];},_disconnectUnpinnedEvents:function(){_825.forEach(this._unpinnedEvents,this.disconnect);},_computeMaxSize:function(){var _851=_829.getMarginBox(this.domNode).w,_852=_825.filter(this._container.getChildren(),function(_853){return _853.region=="center";})[0],_854=_829.getMarginBox(_852.domNode).w;return Math.min(this.maxSize,_851+_854);},_getPinTitle:function(){return this.pinned?_832.pinnablepane.unpin:_832.pinnablepane.pin;}});});},"url:epi/shell/layout/templates/PinnablePane.html":"<div class=\"epi-pinnableDock\">\r\n    <div class=\"epi-pinnableFacade\">\r\n        <div class=\"epi-pinnablePane\" data-dojo-attach-point=\"pinnableNode\">\r\n            <div data-dojo-attach-point=\"toolbarNode\"></div>\r\n            <div class=\"epi-pinnableContentWrapper\">\r\n                <div class=\"epi-pinnableContent\" data-dojo-attach-point=\"containerNode\"></div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n","epi/shell/layout/PinnablePaneSplitter":function(){define(["dojo","dojo/dom-class","dojo/dom-construct","dojo/dom-geometry","dojo/dom-style","dojo/on","dojo/touch"],function(dojo,_855,_856,_857,_858,on,_859){var _85a=dojo.getObject("epi.shell.layout",true);_85a.PinnablePaneSplitter=function(_85b){return dojo.mixin(_85b,{_startDrag:function(e){if(!this.cover){this.cover=dojo.doc.createElement("div");_855.add(this.cover,"dijitSplitterCover");_856.place(this.cover,this.child.domNode,"after");}_855.add(this.cover,"dijitSplitterCoverActive");if(this.fake){_856.destroy(this.fake);}if(!(this._resize=this.live)){(this.fake=this.domNode.cloneNode(true)).removeAttribute("id");_855.add(this.domNode,"dijitSplitterShadow");_856.place(this.fake,this.domNode,"after");}_855.add(this.domNode,"dijitSplitterActive dijitSplitter"+(this.horizontal?"H":"V")+"Active");if(this.fake){_855.remove(this.fake,"dijitSplitterHover dijitSplitter"+(this.horizontal?"H":"V")+"Hover");}var _85c=this._factor,_85d=this.horizontal,axis=_85d?"pageY":"pageX",_85e=e[axis],_85f=this.domNode.style,dim=_85d?"h":"w",_860=_857.getMarginBox(this.child.containerNode)[dim],max=this._computeMaxSize(),min=this.child.minSize||20,_861=this.region,_862=_861=="top"||_861=="bottom"?"top":"left",_863=parseInt(_85f[_862],10),_864=dojo.hitch(this.child,"resize"),_865=dojo.hitch(this.container,"_layoutChildren",this.child.id),de=dojo.doc,_866=this.child.pinned;this._handlers=this._handlers.concat([on(de,_859.move,this._drag=function(e,_867){var _868=e[axis]-_85e,_869=_85c*_868+_860,_86a=Math.max(Math.min(_869,max),min);if(this.live||_867){_866?_865(_86a):_864({w:_86a});}_85f[_862]=_868+_863+_85c*(_86a-_869)+"px";}),on(de,"dragstart",dojo.stopEvent),on(dojo.body(),"selectstart",dojo.stopEvent),on(de,_859.release,dojo.hitch(this,"_stopDrag"))]);dojo.stopEvent(e);},show:function(){_858.set(this.domNode,{display:"",margin:""});},hide:function(){_858.set(this.domNode,{display:"none",margin:"0"});}});};return _85a.PinnablePaneSplitter;});},"epi/shell/widget/_ActionProvider":function(){define(["dojo","dojo/_base/array","dojo/_base/kernel","epi/shell/widget/_ActionProviderBase"],function(dojo,_86b,_86c,_86d){return dojo.declare([_86d],{_actions:null,constructor:function(){_86c.deprecated("epi/shell/widget/_ActionProvider","use the command pattern with epi/shell/command/_CommandProviderMixin instead");this._actions=[];},getActions:function(){return this._actions.concat();},hasAction:function(_86e){return _86b.some(this._actions,function(_86f){return _86f.name==_86e;});},setActionProperty:function(_870,_871,_872){var _873=typeof _870=="string"?_870:_870.name;for(var i=0;i<this._actions.length;i++){var _874=this._actions[i];if(_874.name===_873){_874[_871]=_872;this.onActionPropertyChanged(_874,_871,_872);return;}}throw new Error("No action registered with the name: "+_873);},addActions:function(_875){if(dojo.isArray(_875)){dojo.forEach(_875,this._addAction,this);}else{this._addAction(_875);}},removeActions:function(_876){if(dojo.isArray(_876)){dojo.forEach(_876,this._removeAction,this);}else{this._removeAction(_876);}},_removeAction:function(_877){for(var i=0;i<this._actions.length;i++){if(this._actions[i].name==_877.name){this.onActionRemoved(this._actions.splice(i,1)[0]);}}},_addAction:function(_878){if(dojo.some(this._actions,function(_879){return _879.name===_878.name;})){throw new Error("An action named '"+_878.name+"' is already registered");}this._actions.push(_878);this.onActionAdded(_878);}});});},"epi/shell/layout/PositioningUtility":function(){define(["dojo","epi"],function(dojo,epi){return dojo.declare(null,{_margin:10,constructor:function(){},place:function(_87a,_87b){var node=this._getNode(_87a);var pos=this.findPosition(node,_87b);dojo.style(node,{position:"absolute",top:pos.y+"px",left:pos.x+"px"});},findPosition:function(_87c,_87d){var _87e=this._getNode(_87c);var _87f=this._getPosition(_87e);var _880=dojo.window.getBox();if(_87d.padding){_87f.w+=_87d.padding.w;_87f.h+=_87d.padding.h;}var _881=this._getNode(_87d.snapTo);var _882=this._getPosition(_87d.snapTo);var _883=_87d.frame||{x:0,y:0,w:_880.w,h:_880.h};if(_87d.frame==null&&_87e!=null&&_881!=null){var _884="defaultView" in _881.ownerDocument?_881.ownerDocument.defaultView:_881.ownerDocument.parentWindow;var _885="defaultView" in _87e.ownerDocument?_87e.ownerDocument.defaultView:_87e.ownerDocument.parentWindow;_883=this._getFramePosition(_884,_885);}_882=this._getVisiblePosition(_882,_883);return this._executeTransformers(_87f,_882,_880)||this._fallbackTransformer(_87f,_882,_880);},_getVisiblePosition:function(_886,_887){var _888=dojo.clone(_886);if(_887.w>0&&_888.x+_888.w>_887.w){_888.w=_887.w-_888.x;}if(_887.h>0&&_888.y+_888.h>_887.h){_888.h=_887.h-_888.y;}_888.x+=_887.x;_888.y+=_887.y;if(_888.y<_887.y){_888.h=_888.h-_887.y+_888.y;_888.y=_887.y;}if(_888.x<_887.x){_888.w=_888.w-_887.x+_888.x;_888.x=_887.x;}return _888;},_getFramePosition:function(_889,_88a){if(_889.parent!==_889){var _88b=_889.parent.document.getElementsByTagName("iframe");for(var i in _88b){if(_88b[i].contentWindow===_889){var _88c=dojo.position(_88b[i]);if(_889.parent===_88a){return _88c;}var _88d=this._getFramePosition(_889.parent,_88a);return {x:_88c.x+_88d.x,y:_88c.y+_88d.y,w:_88c.w,h:_88c.h};}}}return {x:0,y:0,w:0,h:0};},_executeTransformers:function(pos,_88e,_88f){for(var i in this._transformers){var _890=this._transformers[i].call(this,pos,_88e,_88f);_890=this._moveIntoViewport(_890,_88f);if(this._isInside(_890,_88f)&&this._isOutside(_890,_88e)){return _890;}}return null;},_getNode:function(_891){if(typeof _891==="string"){return dojo.byId(_891);}var node=_891;if(node&&node.domNode){return node.domNode;}return node;},_getPosition:function(_892){if(typeof _892=="undefined"||_892===null){return {x:0,y:0,w:0,h:0};}var pos=_892;if(typeof pos.x!=="undefined"&&typeof pos.y!=="undefined"){return pos;}var node=this._getNode(_892);if(!node){return {x:0,y:0,w:0,h:0};}return dojo.position(node,false);},_moveIntoViewport:function(_893,_894){return {x:Math.min(_894.w-_893.w-this._margin,Math.max(this._margin,_893.x)),y:Math.min(_894.h-_893.h-this._margin,Math.max(this._margin,_893.y)),w:_893.w,h:_893.h};},_isInside:function(_895,_896){return _895.x>0&&_895.y>0&&_895.x+_895.w<_896.w&&_895.y+_895.h<_896.h;},_isOutside:function(_897,_898){return _897.x>_898.x+_898.w||_897.y>_898.y+_898.h||_897.x+_897.w<_898.x||_897.y+_897.h<_898.y;},_transformers:[function(_899,_89a,_89b){return {x:_89a.x+_89a.w+this._margin,y:_89a.y,w:_899.w,h:_899.h};},function(_89c,_89d,_89e){return {x:_89d.x+(_89d.w/2-_89c.w/2),y:_89d.y+_89d.h+this._margin,w:_89c.w,h:_89c.h};},function(_89f,_8a0,_8a1){return {x:_8a0.x-_89f.w-this._margin,y:_8a0.y,w:_89f.w,h:_89f.h};},function(_8a2,_8a3,_8a4){return {x:_8a3.x+(_8a3.w/2-_8a2.w/2),y:_8a3.y-_8a2.h-this._margin,w:_8a2.w,h:_8a2.h};}],_fallbackTransformer:function(_8a5,_8a6,_8a7){return {x:(_8a7.w-_8a5.w-this._margin),y:10};}});});},"epi/shell/MessageService":function(){define("epi/shell/MessageService",["dojo","dojo/store/Memory","dojo/store/Observable"],function(dojo,_8a8,_8a9){return dojo.declare(null,{_store:null,_idIndex:0,constructor:function(_8aa){dojo.mixin(this,_8aa);var _8ab=new _8a8({idAttribute:"id",data:[]});this._store=new _8a9(_8ab);},put:function(_8ac,_8ad,_8ae,_8af,_8b0,_8b1){return this._store.put({id:++this._idIndex,typeName:_8ac,message:_8ad,contextTypeName:_8ae,contextId:_8af,externalItemId:_8b0,externalItemData:_8b1});},query:function(_8b2){return this._store.query(_8b2);},observe:function(_8b3,_8b4){return this.query(_8b3).observe(_8b4);},remove:function(_8b5){var _8b6=this.query(_8b5);_8b6.forEach(dojo.hitch(this,function(item){this._store.remove(item.id);}));return _8b6;}});});},"dojo/store/Memory":function(){define("dojo/store/Memory",["../_base/declare","./util/QueryResults","./util/SimpleQueryEngine"],function(_8b7,_8b8,_8b9){var base=null;return _8b7("dojo.store.Memory",base,{constructor:function(_8ba){for(var i in _8ba){this[i]=_8ba[i];}this.setData(this.data||[]);},data:null,idProperty:"id",index:null,queryEngine:_8b9,get:function(id){return this.data[this.index[id]];},getIdentity:function(_8bb){return _8bb[this.idProperty];},put:function(_8bc,_8bd){var data=this.data,_8be=this.index,_8bf=this.idProperty;var id=_8bc[_8bf]=(_8bd&&"id" in _8bd)?_8bd.id:_8bf in _8bc?_8bc[_8bf]:Math.random();if(id in _8be){if(_8bd&&_8bd.overwrite===false){throw new Error("Object already exists");}data[_8be[id]]=_8bc;}else{_8be[id]=data.push(_8bc)-1;}return id;},add:function(_8c0,_8c1){(_8c1=_8c1||{}).overwrite=false;return this.put(_8c0,_8c1);},remove:function(id){var _8c2=this.index;var data=this.data;if(id in _8c2){data.splice(_8c2[id],1);this.setData(data);return true;}},query:function(_8c3,_8c4){return _8b8(this.queryEngine(_8c3,_8c4)(this.data));},setData:function(data){if(data.items){this.idProperty=data.identifier;data=this.data=data.items;}else{this.data=data;}this.index={};for(var i=0,l=data.length;i<l;i++){this.index[data[i][this.idProperty]]=i;}}});});},"dojo/store/util/QueryResults":function(){define("dojo/store/util/QueryResults",["../../_base/array","../../_base/lang","../../_base/Deferred"],function(_8c5,lang,_8c6){var _8c7=function(_8c8){if(!_8c8){return _8c8;}if(_8c8.then){_8c8=lang.delegate(_8c8);}function _8c9(_8ca){if(!_8c8[_8ca]){_8c8[_8ca]=function(){var args=arguments;return _8c6.when(_8c8,function(_8cb){Array.prototype.unshift.call(args,_8cb);return _8c7(_8c5[_8ca].apply(_8c5,args));});};}};_8c9("forEach");_8c9("filter");_8c9("map");if(!_8c8.total){_8c8.total=_8c6.when(_8c8,function(_8cc){return _8cc.length;});}return _8c8;};lang.setObject("dojo.store.util.QueryResults",_8c7);return _8c7;});},"dojo/store/util/SimpleQueryEngine":function(){define("dojo/store/util/SimpleQueryEngine",["../../_base/array"],function(_8cd){return function(_8ce,_8cf){switch(typeof _8ce){default:throw new Error("Can not query with a "+typeof _8ce);case "object":case "undefined":var _8d0=_8ce;_8ce=function(_8d1){for(var key in _8d0){var _8d2=_8d0[key];if(_8d2&&_8d2.test){if(!_8d2.test(_8d1[key],_8d1)){return false;}}else{if(_8d2!=_8d1[key]){return false;}}}return true;};break;case "string":if(!this[_8ce]){throw new Error("No filter function "+_8ce+" was found in store");}_8ce=this[_8ce];case "function":}function _8d3(_8d4){var _8d5=_8cd.filter(_8d4,_8ce);var _8d6=_8cf&&_8cf.sort;if(_8d6){_8d5.sort(typeof _8d6=="function"?_8d6:function(a,b){for(var sort,i=0;sort=_8d6[i];i++){var _8d7=a[sort.attribute];var _8d8=b[sort.attribute];if(_8d7!=_8d8){return !!sort.descending==(_8d7==null||_8d7>_8d8)?-1:1;}}return 0;});}if(_8cf&&(_8cf.start||_8cf.count)){var _8d9=_8d5.length;_8d5=_8d5.slice(_8cf.start||0,(_8cf.start||0)+(_8cf.count||Infinity));_8d5.total=_8d9;}return _8d5;};_8d3.matches=_8ce;return _8d3;};});},"dojo/store/Observable":function(){define("dojo/store/Observable",["../_base/kernel","../_base/lang","../_base/Deferred","../_base/array"],function(_8da,lang,_8db,_8dc){var _8dd=function(_8de){var _8df,_8e0=[],_8e1=0;_8de=lang.delegate(_8de);_8de.notify=function(_8e2,_8e3){_8e1++;var _8e4=_8e0.slice();for(var i=0,l=_8e4.length;i<l;i++){_8e4[i](_8e2,_8e3);}};var _8e5=_8de.query;_8de.query=function(_8e6,_8e7){_8e7=_8e7||{};var _8e8=_8e5.apply(this,arguments);if(_8e8&&_8e8.forEach){var _8e9=lang.mixin({},_8e7);delete _8e9.start;delete _8e9.count;var _8ea=_8de.queryEngine&&_8de.queryEngine(_8e6,_8e9);var _8eb=_8e1;var _8ec=[],_8ed;_8e8.observe=function(_8ee,_8ef){if(_8ec.push(_8ee)==1){_8e0.push(_8ed=function(_8f0,_8f1){_8db.when(_8e8,function(_8f2){var _8f3=_8f2.length!=_8e7.count;var i,l,_8ee;if(++_8eb!=_8e1){throw new Error("Query is out of date, you must observe() the query prior to any data modifications");}var _8f4,_8f5=-1,_8f6=-1;if(_8f1!==_8df){for(i=0,l=_8f2.length;i<l;i++){var _8f7=_8f2[i];if(_8de.getIdentity(_8f7)==_8f1){_8f4=_8f7;_8f5=i;if(_8ea||!_8f0){_8f2.splice(i,1);}break;}}}if(_8ea){if(_8f0&&(_8ea.matches?_8ea.matches(_8f0):_8ea([_8f0]).length)){var _8f8=_8f5>-1?_8f5:_8f2.length;_8f2.splice(_8f8,0,_8f0);_8f6=_8dc.indexOf(_8ea(_8f2),_8f0);_8f2.splice(_8f8,1);if((_8e7.start&&_8f6==0)||(!_8f3&&_8f6==_8f2.length)){_8f6=-1;}else{_8f2.splice(_8f6,0,_8f0);}}}else{if(_8f0){if(_8f1!==_8df){_8f6=_8f5;}else{if(!_8e7.start){_8f6=_8de.defaultIndex||0;_8f2.splice(_8f6,0,_8f0);}}}}if((_8f5>-1||_8f6>-1)&&(_8ef||!_8ea||(_8f5!=_8f6))){var _8f9=_8ec.slice();for(i=0;_8ee=_8f9[i];i++){_8ee(_8f0||_8f4,_8f5,_8f6);}}});});}var _8fa={};_8fa.remove=_8fa.cancel=function(){var _8fb=_8dc.indexOf(_8ec,_8ee);if(_8fb>-1){_8ec.splice(_8fb,1);if(!_8ec.length){_8e0.splice(_8dc.indexOf(_8e0,_8ed),1);}}};return _8fa;};}return _8e8;};var _8fc;function _8fd(_8fe,_8ff){var _900=_8de[_8fe];if(_900){_8de[_8fe]=function(_901){if(_8fc){return _900.apply(this,arguments);}_8fc=true;try{var _902=_900.apply(this,arguments);_8db.when(_902,function(_903){_8ff((typeof _903=="object"&&_903)||_901);});return _902;}finally{_8fc=false;}};}};_8fd("put",function(_904){_8de.notify(_904,_8de.getIdentity(_904));});_8fd("add",function(_905){_8de.notify(_905);});_8fd("remove",function(id){_8de.notify(undefined,id);});return _8de;};lang.setObject("dojo.store.Observable",_8dd);return _8dd;});},"epi/shell/MetadataManager":function(){define("epi/shell/MetadataManager",["dojo/_base/declare","dojo/_base/json","dojo/Deferred","dojo/when","epi/dependency","./PropertyMetadata"],function(_906,json,_907,when,_908,_909){return _906(null,{store:null,_setTypeMetadataStore:function(){var _90a=_908.resolve("epi.storeregistry");this.store=_90a.get("epi.shell.metadata");},getMetadataForType:function(type,_90b){function _90c(_90d){return _90d?new _909(_90d):_90d;};if(this.store==null){this._setTypeMetadataStore();}if(_90b){var def=new _907();when(this.store.query({id:type,modelAccessor:json.toJson(_90b)}),function(_90e){if(_90e&&_90e.length){def.resolve(_90c(_90e[0]));}else{def.reject();}},function(){def.reject();});return def.promise;}else{return when(this.store.get(type),_90c);}},_clear:function(){this.store=null;}});});},"epi/shell/PropertyMetadata":function(){define("epi/shell/PropertyMetadata",["dojo/_base/declare","dojo/_base/array"],function(_90f,_910){var _911=_90f([],{_propertyMap:null,constructor:function(_912){_90f.safeMixin(this,_912);this._propertyMap={};_910.forEach(this.properties,function(prop){var _913=new _911(prop);this._propertyMap[_913.name.toLowerCase()]=_913;},this);},hasSubProperties:function(){return (this.properties&&this.properties.length);},getPropertyMetadata:function(_914){var _915=_914.toLowerCase().split(".");return this._getPropertyMetaData(_915);},_getPropertyMetaData:function(_916){var name=this._getMappedName(_916.shift());var _917=this._propertyMap[name];if(_917&&_916.length){return _917._getPropertyMetaData(_916);}return _917;},_getMappedName:function(name){var _918;_910.some(this.mappedProperties||[],function(_919){return _919.from.toLowerCase()==name&&(_918=_919);});return _918?_918.to.toLowerCase():name;}});return _911;});},"epi/shell/Profile":function(){define("epi/shell/Profile",["dojo/_base/declare","dojo/_base/lang","dojo/json","dojo/Evented","dojo/Deferred","dojo/store/Cache","dojo/store/Memory","dojo/when","epi/routes","epi/shell/store/JsonRest","epi/shell/store/Throttle"],function(_91a,lang,json,_91b,_91c,_91d,_91e,when,_91f,_920,_921){return _91a([_91b],{_store:null,constructor:function(_922){_91a.safeMixin(this,_922);if(!this._store){var _923=new _920({target:_91f.getRestPath({moduleArea:"shell",storeName:"profile"}),preventLocalizationHeader:true,preventCache:true});this._store=_91d(_921(_923,"get"),new _91e());}when(this._store.get("userName"),lang.hitch(this,function(data){this.userName=data.value;}));},get:function(name){var _924=sessionStorage[name];if(!_924){_924=localStorage[name];}if(_924){return json.parse(_924);}if(name==="userName"){return this.userName;}return when(this._store.get(name),function(obj){return (obj&&obj.value)||null;},function(){return null;});},set:function(name,_925,_926){var _927=json.stringify(_925);if(_926&&_926.location){switch(_926.location){case "session":sessionStorage[name]=_927;this._emitChangedEvent(name,_925);return _927;case "server":var _928=new _91c();when(this._store.put({id:name,value:_925}),lang.hitch(this,function(){this._emitChangedEvent(name,_925);_928.resolve();}),_928.reject);return _928;default:throw "You need to specify a valid location ('session' or 'server').";}}localStorage[name]=_927;this._emitChangedEvent(name,_925);return _927;},_emitChangedEvent:function(name,_929){this.emit("changed",{property:name,value:_929});}});});},"dojo/store/Cache":function(){define("dojo/store/Cache",["../_base/lang","../_base/Deferred"],function(lang,_92a){var _92b=function(_92c,_92d,_92e){_92e=_92e||{};return lang.delegate(_92c,{query:function(_92f,_930){var _931=_92c.query(_92f,_930);_931.forEach(function(_932){if(!_92e.isLoaded||_92e.isLoaded(_932)){_92d.put(_932);}});return _931;},queryEngine:_92c.queryEngine||_92d.queryEngine,get:function(id,_933){return _92a.when(_92d.get(id),function(_934){return _934||_92a.when(_92c.get(id,_933),function(_935){if(_935){_92d.put(_935,{id:id});}return _935;});});},add:function(_936,_937){return _92a.when(_92c.add(_936,_937),function(_938){_92d.add(typeof _938=="object"?_938:_936,_937);return _938;});},put:function(_939,_93a){_92d.remove((_93a&&_93a.id)||this.getIdentity(_939));return _92a.when(_92c.put(_939,_93a),function(_93b){_92d.put(typeof _93b=="object"?_93b:_939,_93a);return _93b;});},remove:function(id,_93c){return _92a.when(_92c.remove(id,_93c),function(_93d){return _92d.remove(id,_93c);});},evict:function(id){return _92d.remove(id);}});};lang.setObject("dojo.store.Cache",_92b);return _92b;});},"epi/shell/store/JsonRest":function(){define(["dojo/_base/declare","dojo/_base/json","dojo/_base/lang","dojo/io-query","dojo/store/JsonRest","dojo/store/util/QueryResults","epi/shell/XhrWrapper"],function(_93e,json,lang,_93f,_940,_941,_942){return _93e([_940],{xhrHandler:null,idAttribute:"id",preventCache:false,constructor:function(_943){if(!this.xhrHandler){this.xhrHandler=new _942({preventLocalizationHeader:_943&&_943.preventLocalizationHeader});}},get:function(id,_944){var _945=_944||{};_945.Accept="application/javascript, application/json";var _946=typeof id!="undefined";var _947={url:_946?this.target+id:this.target,handleAs:"json",headers:_945,preventCache:this.preventCache};return this.xhrHandler.xhrGet(_947);},put:function(_948,_949){_949=_949||{};var _94a={"Content-Type":"application/json","If-Match":_949.overwrite===true?"*":null,"If-None-Match":_949.overwrite===false?"*":null,"Accept":"application/javascript, application/json"};var id=("id" in _949)?_949.id:this.getIdentity(_948);var _94b=typeof id!="undefined";if(_94b&&!_949.incremental){_94a["X-Http-Method-Override"]="PUT";}var _94c={url:_94b?this.target+id:this.target,postData:json.toJson(_948),handleAs:"json",headers:_94a,xsrfProtection:true};return this.xhrHandler.xhr("POST",_94c);},patch:function(_94d,_94e){var _94f=_94e||{};_94f.Accept="application/javascript, application/json";_94f["X-Http-Method-Override"]="PATCH";_94f["Content-Type"]="application/json";var id=("id" in _94e)?_94e.id:this.getIdentity(_94d);var _950=typeof id!="undefined";var _951={url:_950?this.target+id:this.target,postData:json.toJson(_94d),handleAs:"json",headers:_94f,xsrfProtection:true};return this.xhrHandler.xhr("POST",_951);},remove:function(id,_952){var _953={};_953.Accept="application/javascript, application/json";_953["Content-Type"]="application/json";_953["X-Http-Method-Override"]="DELETE";_952=_952||{};return this.xhrHandler.xhr("POST",{url:this.target+id,headers:_953,postData:json.toJson(_952),handleAs:"json",xsrfProtection:true});},query:function(_954,_955){var _956={Accept:"application/javascript, application/json"};var _957;_955=_955||{};if(_955.start>=0||_955.count>=0){_956.Range="items="+(_955.start||"0")+"-"+(("count" in _955&&_955.count!=Infinity)?(_955.count+(_955.start||0)-1):"");}if(lang.isObject(_954)){_954=lang.mixin({},_954);if(_954[this.idAttribute]){_957=_954[this.idAttribute];_954[this.idAttribute]=null;}_954=_93f.objectToQuery(_954);_954=_954?"?"+_954:"";}if(_955&&_955.sort){_954+=(_954?"&":"?")+"sort(";for(var i=0;i<_955.sort.length;i++){var sort=_955.sort[i];_954+=(i>0?",":"")+(sort.descending?"-":"+")+encodeURIComponent(sort.attribute);}_954+=")";}var _958=this.xhrHandler.xhrGet({url:this.target+(_957||"")+(_954||""),handleAs:"json",headers:_956,preventCache:this.preventCache});_958.total=_958.then(function(){var _959=_958.ioArgs.xhr.getResponseHeader("Content-Range");return _959&&(_959=_959.match(/\/(.*)/))&&+_959[1];});return _941(_958);},move:function(id,_95a,_95b){return this._send("MOVE",id,_95a,_95b);},copy:function(id,_95c,_95d){return this._send("COPY",id,_95c,_95d);},executeMethod:function(_95e,id,data,_95f){var _960=_95f||{};_960.Accept="application/javascript, application/json";_960["Content-Type"]="application/json";_960["X-Http-Method-Override"]=_95e;data=data||{};return this.xhrHandler.xhr("POST",{url:this.target+id,headers:_960,postData:json.toJson(data),handleAs:"json",xsrfProtection:true});},_send:function(_961,id,_962,_963){var _964=_963||{};_964.Accept="application/javascript, application/json";_964["X-Http-Method-Override"]=_961;var _965=lang.isObject(_962)?_962:{targetId:_962};return this.xhrHandler.xhr("POST",{url:this.target+id,headers:_964,content:_965,handleAs:"json",xsrfProtection:true});}});});},"dojo/store/JsonRest":function(){define("dojo/store/JsonRest",["../_base/xhr","../_base/lang","../json","../_base/declare","./util/QueryResults"],function(xhr,lang,JSON,_966,_967){var base=null;return _966("dojo.store.JsonRest",base,{constructor:function(_968){this.headers={};_966.safeMixin(this,_968);},headers:{},target:"",idProperty:"id",get:function(id,_969){_969=_969||{};var _96a=lang.mixin({Accept:this.accepts},this.headers,_969.headers||_969);return xhr("GET",{url:this.target+id,handleAs:"json",headers:_96a});},accepts:"application/javascript, application/json",getIdentity:function(_96b){return _96b[this.idProperty];},put:function(_96c,_96d){_96d=_96d||{};var id=("id" in _96d)?_96d.id:this.getIdentity(_96c);var _96e=typeof id!="undefined";return xhr(_96e&&!_96d.incremental?"PUT":"POST",{url:_96e?this.target+id:this.target,postData:JSON.stringify(_96c),handleAs:"json",headers:lang.mixin({"Content-Type":"application/json",Accept:this.accepts,"If-Match":_96d.overwrite===true?"*":null,"If-None-Match":_96d.overwrite===false?"*":null},this.headers,_96d.headers)});},add:function(_96f,_970){_970=_970||{};_970.overwrite=false;return this.put(_96f,_970);},remove:function(id,_971){_971=_971||{};return xhr("DELETE",{url:this.target+id,headers:lang.mixin({},this.headers,_971.headers)});},query:function(_972,_973){_973=_973||{};var _974=lang.mixin({Accept:this.accepts},this.headers,_973.headers);if(_973.start>=0||_973.count>=0){_974.Range=_974["X-Range"]="items="+(_973.start||"0")+"-"+(("count" in _973&&_973.count!=Infinity)?(_973.count+(_973.start||0)-1):"");}var _975=this.target.indexOf("?")>-1;if(_972&&typeof _972=="object"){_972=xhr.objectToQuery(_972);_972=_972?(_975?"&":"?")+_972:"";}if(_973&&_973.sort){var _976=this.sortParam;_972+=(_972||_975?"&":"?")+(_976?_976+"=":"sort(");for(var i=0;i<_973.sort.length;i++){var sort=_973.sort[i];_972+=(i>0?",":"")+(sort.descending?"-":"+")+encodeURIComponent(sort.attribute);}if(!_976){_972+=")";}}var _977=xhr("GET",{url:this.target+(_972||""),handleAs:"json",headers:_974});_977.total=_977.then(function(){var _978=_977.ioArgs.xhr.getResponseHeader("Content-Range");return _978&&(_978=_978.match(/\/(.*)/))&&+_978[1];});return _967(_977);}});});},"epi/shell/XhrWrapper":function(){define(["dojo","dojo/_base/array","dojo/_base/connect","dojo/_base/declare","dojo/_base/lang","dojo/_base/Deferred","epi","epi/dependency","epi/shell/widget/dialog/Dialog","epi/shell/widget/LoginForm"],function(dojo,_979,_97a,_97b,lang,_97c,epi,_97d,_97e,_97f){var _980;var cls=_97b(null,{xhrHandler:null,_headerKeys:{validation:"X-EpiRestAntiForgeryToken",loginScreen:"X-EPiLogOnScreen",postUrl:"X-EPiLogOnScreen-PostUrl",language:"X-EPiContentLanguage"},constructor:function(_981){_97b.safeMixin(this,_981);if(!this.xhrHandler){this.xhrHandler=dojo.xhr;}},xhr:function(_982,args,_983){var _984=arguments;args.headers=args.headers||{};if(args.xsrfProtection){var _985=new _97c();_97c.when(this._getXsrfHeader(args.url),lang.hitch(this,function(_986){args.headers=lang.mixin({},args.headers,_986);this._setLanguageHeader(args.headers);_97c.when(this._xhr.apply(this,_984),_985.resolve,_985.reject);}),_985.reject);return _985;}else{this._setLanguageHeader(args.headers);return this._xhr.apply(this,_984);}},xhrDelete:function(args){return this.xhr("DELETE",args);},xhrGet:function(args){return this.xhr("GET",args);},xhrPost:function(args){return this.xhr("POST",args,true);},xhrPut:function(args){return this.xhr("PUT",args,true);},_getXsrfHeader:function(_987){if(cls.sharedXsrfHeader){return cls.sharedXsrfHeader;}var _988={url:_987,handleAs:"json",headers:{}};_988.headers[this._headerKeys.validation]="_CreateToken_";var _989=new _97c();this.xhrGet(_988).then(lang.hitch(this,function(){_989.resolve(cls.sharedXsrfHeader);}),_989.reject);return _989;},_setLanguageHeader:function(_98a){if(this.preventLocalizationHeader){return;}var _98b=_97d.resolve("epi.shell.Profile");var _98c=_98b.contentLanguage;if(_98c){_98a[this._headerKeys.language]=_98c;}},_xhr:function(_98d,args,_98e){var _98f=arguments;var _990=this.xhrHandler.apply(this,arguments);var _991=new _97c();_991.ioArgs=_990.ioArgs;_97c.when(_990,lang.hitch(this,function(data){var _992=_990.ioArgs.xhr.getResponseHeader(this._headerKeys.validation);if(_992){if(!cls.sharedXsrfHeader){cls.sharedXsrfHeader={};}cls.sharedXsrfHeader[this._headerKeys.validation]=_992;}_991.ioArgs=_990.ioArgs;_991.resolve(data);}),lang.hitch(this,function(err){var _993=_990.ioArgs.xhr.getResponseHeader(this._headerKeys.loginScreen);if(_993==="true"||_990.ioArgs.xhr.status=="401"){var _994={postUrl:_990.ioArgs.xhr.getResponseHeader(this._headerKeys.postUrl)};cls.sharedXsrfHeader=undefined;var _995=this._showLogin(_994);_97c.when(_995,lang.hitch(this,function(){_97c.when(this.xhr.apply(this,_98f),_991.resolve,_991.reject);}),function(){_991.reject(err);});}else{_991.reject(err);}}));return _991;},_showLogin:function(_996){if(!_980){_980=new _97c();var form=new _97f();var _997=new _97e({title:epi.resources.action.login,confirmActionText:epi.resources.action.login,content:form,dialogClass:"",destroyOnHide:true,_onAfterShow:function(){}});var _998=[];var _999=function(_99a){_979.forEach(_998,_97a.disconnect);form.destroyRecursive();_997.hide();if(_99a){_980.resolve();}else{_980.reject();}_980=null;};_997.addValidator(lang.hitch(this,function(){var _99b=new _97c();var _99c=form.serializeForm();var _99d=this.xhr("POST",{url:_996.postUrl,content:_99c,xsrfProtection:false,handleAs:"json"},true);_97c.when(_99d,function(data){if(data.authenticationSuccessful){_999(true);_99b.resolve();}else{form.authenticationFailed();_99b.reject();}},function(){_999(false);_99b.reject();});return _99b;}));_997.show();_998.push(_97a.connect(_997,"onCancel",function(){_999(false);}));}return _980;}});cls.sharedXsrfHeader=undefined;return cls;});},"epi/shell/widget/LoginForm":function(){define(["epi","dojo","dojo/keys","dojo/text!./templates/LoginForm.htm","dijit/_WidgetBase","dijit/_TemplatedMixin","dijit/_WidgetsInTemplateMixin","dijit/form/ValidationTextBox","epi/i18n!epi/shell/ui/nls/EPiServer.Shell.UI.Resources.LoginForm"],function(epi,dojo,keys,_99e,_99f,_9a0,_9a1,_9a2,_9a3){return dojo.declare([_99f,_9a0,_9a1],{templateString:_99e,postMixInProperties:function(){this.inherited(arguments);this.resources=dojo.mixin(epi.resources.action,_9a3);this.connect(this.passwordNode,"onkeydown",this._onKeyDown);},serializeForm:function(){return {username:this.usernameNode.get("value"),password:this.passwordNode.get("value")};},authenticationFailed:function(){this.passwordNode.set("value","");this.passwordNode.focus();this.passwordNode.displayMessage(this.resources.loginfailed);},_onKeyDown:function(e){if(e.keyCode==keys.ENTER&&!(e.ctrlKey||e.altKey||e.metaKey)){this.onSubmit(e);}},onSubmit:function(){}});});},"url:epi/shell/widget/templates/LoginForm.htm":"<div class=\"epi-form\">\r\n    <ul class=\"dijitReset\" data-dojo-attach-point=\"containerNode\">\r\n        <li>${resources.loggedout}</li>\r\n        <li>\r\n            <label>${resources.username}</label>\r\n            <input data-dojo-type=\"dijit/form/ValidationTextBox\" required=\"true\" data-dojo-attach-point=\"usernameNode\" name=\"username\" />\r\n        </li>\r\n        <li>\r\n            <label>${resources.password}</label>\r\n            <input data-dojo-type=\"dijit/form/ValidationTextBox\" required=\"true\" data-dojo-attach-point=\"passwordNode\" name=\"password\" type=\"password\" />\r\n        </li>\r\n    </ul>\r\n</div>\r\n","dijit/form/ValidationTextBox":function(){require({cache:{"url:dijit/form/templates/ValidationTextBox.html":"<div class=\"dijit dijitReset dijitInline dijitLeft\"\n\tid=\"widget_${id}\" role=\"presentation\"\n\t><div class='dijitReset dijitValidationContainer'\n\t\t><input class=\"dijitReset dijitInputField dijitValidationIcon dijitValidationInner\" value=\"&#935; \" type=\"text\" tabIndex=\"-1\" readonly=\"readonly\" role=\"presentation\"\n\t/></div\n\t><div class=\"dijitReset dijitInputField dijitInputContainer\"\n\t\t><input class=\"dijitReset dijitInputInner\" data-dojo-attach-point='textbox,focusNode' autocomplete=\"off\"\n\t\t\t${!nameAttrSetting} type='${type}'\n\t/></div\n></div>\n"}});define("dijit/form/ValidationTextBox",["dojo/_base/declare","dojo/_base/kernel","dojo/i18n","./TextBox","../Tooltip","dojo/text!./templates/ValidationTextBox.html","dojo/i18n!./nls/validate"],function(_9a4,_9a5,i18n,_9a6,_9a7,_9a8){var _9a9;return _9a9=_9a4("dijit.form.ValidationTextBox",_9a6,{templateString:_9a8,required:false,promptMessage:"",invalidMessage:"$_unset_$",missingMessage:"$_unset_$",message:"",constraints:{},pattern:".*",regExp:"",regExpGen:function(){},state:"",tooltipPosition:[],_deprecateRegExp:function(attr,_9aa){if(_9aa!=_9a9.prototype[attr]){_9a5.deprecated("ValidationTextBox id="+this.id+", set('"+attr+"', ...) is deprecated.  Use set('pattern', ...) instead.","","2.0");this.set("pattern",_9aa);}},_setRegExpGenAttr:function(_9ab){this._deprecateRegExp("regExpGen",_9ab);this.regExpGen=this._getPatternAttr;},_setRegExpAttr:function(_9ac){this._deprecateRegExp("regExp",_9ac);},_setValueAttr:function(){this.inherited(arguments);this.validate(this.focused);},validator:function(_9ad,_9ae){return (new RegExp("^(?:"+this._getPatternAttr(_9ae)+")"+(this.required?"":"?")+"$")).test(_9ad)&&(!this.required||!this._isEmpty(_9ad))&&(this._isEmpty(_9ad)||this.parse(_9ad,_9ae)!==undefined);},_isValidSubset:function(){return this.textbox.value.search(this._partialre)==0;},isValid:function(){return this.validator(this.textbox.value,this.constraints);},_isEmpty:function(_9af){return (this.trim?/^\s*$/:/^$/).test(_9af);},getErrorMessage:function(){var _9b0=this.invalidMessage=="$_unset_$"?this.messages.invalidMessage:!this.invalidMessage?this.promptMessage:this.invalidMessage;var _9b1=this.missingMessage=="$_unset_$"?this.messages.missingMessage:!this.missingMessage?_9b0:this.missingMessage;return (this.required&&this._isEmpty(this.textbox.value))?_9b1:_9b0;},getPromptMessage:function(){return this.promptMessage;},_maskValidSubsetError:true,validate:function(_9b2){var _9b3="";var _9b4=this.disabled||this.isValid(_9b2);if(_9b4){this._maskValidSubsetError=true;}var _9b5=this._isEmpty(this.textbox.value);var _9b6=!_9b4&&_9b2&&this._isValidSubset();this._set("state",_9b4?"":(((((!this._hasBeenBlurred||_9b2)&&_9b5)||_9b6)&&(this._maskValidSubsetError||(_9b6&&!this._hasBeenBlurred&&_9b2)))?"Incomplete":"Error"));this.focusNode.setAttribute("aria-invalid",_9b4?"false":"true");if(this.state=="Error"){this._maskValidSubsetError=_9b2&&_9b6;_9b3=this.getErrorMessage(_9b2);}else{if(this.state=="Incomplete"){_9b3=this.getPromptMessage(_9b2);this._maskValidSubsetError=!this._hasBeenBlurred||_9b2;}else{if(_9b5){_9b3=this.getPromptMessage(_9b2);}}}this.set("message",_9b3);return _9b4;},displayMessage:function(_9b7){if(_9b7&&this.focused){_9a7.show(_9b7,this.domNode,this.tooltipPosition,!this.isLeftToRight());}else{_9a7.hide(this.domNode);}},_refreshState:function(){if(this._created){this.validate(this.focused);}this.inherited(arguments);},constructor:function(_9b8){this.constraints={};this.baseClass+=" dijitValidationTextBox";},startup:function(){this.inherited(arguments);this._refreshState();},_setConstraintsAttr:function(_9b9){if(!_9b9.locale&&this.lang){_9b9.locale=this.lang;}this._set("constraints",_9b9);this._refreshState();},_setPatternAttr:function(_9ba){this._set("pattern",_9ba);},_getPatternAttr:function(_9bb){var p=this.pattern;var type=(typeof p).toLowerCase();if(type=="function"){p=this.pattern(_9bb||this.constraints);}if(p!=this._lastRegExp){var _9bc="";this._lastRegExp=p;if(p!=".*"){p.replace(/\\.|\[\]|\[.*?[^\\]{1}\]|\{.*?\}|\(\?[=:!]|./g,function(re){switch(re.charAt(0)){case "{":case "+":case "?":case "*":case "^":case "$":case "|":case "(":_9bc+=re;break;case ")":_9bc+="|$)";break;default:_9bc+="(?:"+re+"|$)";break;}});}try{"".search(_9bc);}catch(e){_9bc=this.pattern;}this._partialre="^(?:"+_9bc+")$";}return p;},postMixInProperties:function(){this.inherited(arguments);this.messages=i18n.getLocalization("dijit.form","validate",this.lang);this._setConstraintsAttr(this.constraints);},_setDisabledAttr:function(_9bd){this.inherited(arguments);this._refreshState();},_setRequiredAttr:function(_9be){this._set("required",_9be);this.focusNode.setAttribute("aria-required",_9be);this._refreshState();},_setMessageAttr:function(_9bf){this._set("message",_9bf);this.displayMessage(_9bf);},reset:function(){this._maskValidSubsetError=true;this.inherited(arguments);},_onBlur:function(){this.displayMessage("");this.inherited(arguments);}});});},"dijit/Tooltip":function(){require({cache:{"url:dijit/templates/Tooltip.html":"<div class=\"dijitTooltip dijitTooltipLeft\" id=\"dojoTooltip\"\n\t><div class=\"dijitTooltipContainer dijitTooltipContents\" data-dojo-attach-point=\"containerNode\" role='alert'></div\n\t><div class=\"dijitTooltipConnector\" data-dojo-attach-point=\"connectorNode\"></div\n></div>\n"}});define("dijit/Tooltip",["dojo/_base/array","dojo/_base/declare","dojo/_base/fx","dojo/dom","dojo/dom-class","dojo/dom-geometry","dojo/dom-style","dojo/_base/lang","dojo/mouse","dojo/on","dojo/sniff","./_base/manager","./place","./_Widget","./_TemplatedMixin","./BackgroundIframe","dojo/text!./templates/Tooltip.html","./main"],function(_9c0,_9c1,fx,dom,_9c2,_9c3,_9c4,lang,_9c5,on,has,_9c6,_9c7,_9c8,_9c9,_9ca,_9cb,_9cc){var _9cd=_9c1("dijit._MasterTooltip",[_9c8,_9c9],{duration:_9c6.defaultDuration,templateString:_9cb,postCreate:function(){this.ownerDocumentBody.appendChild(this.domNode);this.bgIframe=new _9ca(this.domNode);this.fadeIn=fx.fadeIn({node:this.domNode,duration:this.duration,onEnd:lang.hitch(this,"_onShow")});this.fadeOut=fx.fadeOut({node:this.domNode,duration:this.duration,onEnd:lang.hitch(this,"_onHide")});},show:function(_9ce,_9cf,_9d0,rtl,_9d1){if(this.aroundNode&&this.aroundNode===_9cf&&this.containerNode.innerHTML==_9ce){return;}if(this.fadeOut.status()=="playing"){this._onDeck=arguments;return;}this.containerNode.innerHTML=_9ce;if(_9d1){this.set("textDir",_9d1);}this.containerNode.align=rtl?"right":"left";var pos=_9c7.around(this.domNode,_9cf,_9d0&&_9d0.length?_9d0:_9d2.defaultPosition,!rtl,lang.hitch(this,"orient"));var _9d3=pos.aroundNodePos;if(pos.corner.charAt(0)=="M"&&pos.aroundCorner.charAt(0)=="M"){this.connectorNode.style.top=_9d3.y+((_9d3.h-this.connectorNode.offsetHeight)>>1)-pos.y+"px";this.connectorNode.style.left="";}else{if(pos.corner.charAt(1)=="M"&&pos.aroundCorner.charAt(1)=="M"){this.connectorNode.style.left=_9d3.x+((_9d3.w-this.connectorNode.offsetWidth)>>1)-pos.x+"px";}else{this.connectorNode.style.left="";this.connectorNode.style.top="";}}_9c4.set(this.domNode,"opacity",0);this.fadeIn.play();this.isShowingNow=true;this.aroundNode=_9cf;},orient:function(node,_9d4,_9d5,_9d6,_9d7){this.connectorNode.style.top="";var _9d8=_9d6.h,_9d9=_9d6.w;node.className="dijitTooltip "+{"MR-ML":"dijitTooltipRight","ML-MR":"dijitTooltipLeft","TM-BM":"dijitTooltipAbove","BM-TM":"dijitTooltipBelow","BL-TL":"dijitTooltipBelow dijitTooltipABLeft","TL-BL":"dijitTooltipAbove dijitTooltipABLeft","BR-TR":"dijitTooltipBelow dijitTooltipABRight","TR-BR":"dijitTooltipAbove dijitTooltipABRight","BR-BL":"dijitTooltipRight","BL-BR":"dijitTooltipLeft"}[_9d4+"-"+_9d5];this.domNode.style.width="auto";var size=_9c3.position(this.domNode);if(has("ie")==9){size.w+=2;}var _9da=Math.min((Math.max(_9d9,1)),size.w);_9c3.setMarginBox(this.domNode,{w:_9da});if(_9d5.charAt(0)=="B"&&_9d4.charAt(0)=="B"){var bb=_9c3.position(node);var _9db=this.connectorNode.offsetHeight;if(bb.h>_9d8){var _9dc=_9d8-((_9d7.h+_9db)>>1);this.connectorNode.style.top=_9dc+"px";this.connectorNode.style.bottom="";}else{this.connectorNode.style.bottom=Math.min(Math.max(_9d7.h/2-_9db/2,0),bb.h-_9db)+"px";this.connectorNode.style.top="";}}else{this.connectorNode.style.top="";this.connectorNode.style.bottom="";}return Math.max(0,size.w-_9d9);},_onShow:function(){if(has("ie")){this.domNode.style.filter="";}},hide:function(_9dd){if(this._onDeck&&this._onDeck[1]==_9dd){this._onDeck=null;}else{if(this.aroundNode===_9dd){this.fadeIn.stop();this.isShowingNow=false;this.aroundNode=null;this.fadeOut.play();}else{}}},_onHide:function(){this.domNode.style.cssText="";this.containerNode.innerHTML="";if(this._onDeck){this.show.apply(this,this._onDeck);this._onDeck=null;}},_setAutoTextDir:function(node){this.applyTextDir(node,has("ie")?node.outerText:node.textContent);_9c0.forEach(node.children,function(_9de){this._setAutoTextDir(_9de);},this);},_setTextDirAttr:function(_9df){this._set("textDir",_9df);if(_9df=="auto"){this._setAutoTextDir(this.containerNode);}else{this.containerNode.dir=this.textDir;}}});_9cc.showTooltip=function(_9e0,_9e1,_9e2,rtl,_9e3){if(_9e2){_9e2=_9c0.map(_9e2,function(val){return {after:"after-centered",before:"before-centered"}[val]||val;});}if(!_9d2._masterTT){_9cc._masterTT=_9d2._masterTT=new _9cd();}return _9d2._masterTT.show(_9e0,_9e1,_9e2,rtl,_9e3);};_9cc.hideTooltip=function(_9e4){return _9d2._masterTT&&_9d2._masterTT.hide(_9e4);};var _9d2=_9c1("dijit.Tooltip",_9c8,{label:"",showDelay:400,connectId:[],position:[],selector:"",_setConnectIdAttr:function(_9e5){_9c0.forEach(this._connections||[],function(_9e6){_9c0.forEach(_9e6,function(_9e7){_9e7.remove();});},this);this._connectIds=_9c0.filter(lang.isArrayLike(_9e5)?_9e5:(_9e5?[_9e5]:[]),function(id){return dom.byId(id,this.ownerDocument);},this);this._connections=_9c0.map(this._connectIds,function(id){var node=dom.byId(id,this.ownerDocument),_9e8=this.selector,_9e9=_9e8?function(_9ea){return on.selector(_9e8,_9ea);}:function(_9eb){return _9eb;},self=this;return [on(node,_9e9(_9c5.enter),function(){self._onHover(this);}),on(node,_9e9("focusin"),function(){self._onHover(this);}),on(node,_9e9(_9c5.leave),lang.hitch(self,"_onUnHover")),on(node,_9e9("focusout"),lang.hitch(self,"_onUnHover"))];},this);this._set("connectId",_9e5);},addTarget:function(node){var id=node.id||node;if(_9c0.indexOf(this._connectIds,id)==-1){this.set("connectId",this._connectIds.concat(id));}},removeTarget:function(node){var id=node.id||node,idx=_9c0.indexOf(this._connectIds,id);if(idx>=0){this._connectIds.splice(idx,1);this.set("connectId",this._connectIds);}},buildRendering:function(){this.inherited(arguments);_9c2.add(this.domNode,"dijitTooltipData");},startup:function(){this.inherited(arguments);var ids=this.connectId;_9c0.forEach(lang.isArrayLike(ids)?ids:[ids],this.addTarget,this);},getContent:function(node){return this.label||this.domNode.innerHTML;},_onHover:function(_9ec){if(!this._showTimer){this._showTimer=this.defer(function(){this.open(_9ec);},this.showDelay);}},_onUnHover:function(){if(this._showTimer){this._showTimer.remove();delete this._showTimer;}this.close();},open:function(_9ed){if(this._showTimer){this._showTimer.remove();delete this._showTimer;}var _9ee=this.getContent(_9ed);if(!_9ee){return;}_9d2.show(_9ee,_9ed,this.position,!this.isLeftToRight(),this.textDir);this._connectNode=_9ed;this.onShow(_9ed,this.position);},close:function(){if(this._connectNode){_9d2.hide(this._connectNode);delete this._connectNode;this.onHide();}if(this._showTimer){this._showTimer.remove();delete this._showTimer;}},onShow:function(){},onHide:function(){},destroy:function(){this.close();_9c0.forEach(this._connections||[],function(_9ef){_9c0.forEach(_9ef,function(_9f0){_9f0.remove();});},this);this.inherited(arguments);}});_9d2._MasterTooltip=_9cd;_9d2.show=_9cc.showTooltip;_9d2.hide=_9cc.hideTooltip;_9d2.defaultPosition=["after-centered","before-centered"];return _9d2;});},"url:dijit/templates/Tooltip.html":"<div class=\"dijitTooltip dijitTooltipLeft\" id=\"dojoTooltip\"\n\t><div class=\"dijitTooltipContainer dijitTooltipContents\" data-dojo-attach-point=\"containerNode\" role='alert'></div\n\t><div class=\"dijitTooltipConnector\" data-dojo-attach-point=\"connectorNode\"></div\n></div>\n","url:dijit/form/templates/ValidationTextBox.html":"<div class=\"dijit dijitReset dijitInline dijitLeft\"\n\tid=\"widget_${id}\" role=\"presentation\"\n\t><div class='dijitReset dijitValidationContainer'\n\t\t><input class=\"dijitReset dijitInputField dijitValidationIcon dijitValidationInner\" value=\"&#935; \" type=\"text\" tabIndex=\"-1\" readonly=\"readonly\" role=\"presentation\"\n\t/></div\n\t><div class=\"dijitReset dijitInputField dijitInputContainer\"\n\t\t><input class=\"dijitReset dijitInputInner\" data-dojo-attach-point='textbox,focusNode' autocomplete=\"off\"\n\t\t\t${!nameAttrSetting} type='${type}'\n\t/></div\n></div>\n","epi/shell/store/Throttle":function(){define(["dojo/_base/array","dojo/_base/lang","dojo/aspect","dojo/when","epi/epi"],function(_9f1,lang,_9f2,when,epi){return function(_9f3,_9f4){var _9f5=[];var _9f6=function(_9f7){for(var i=0;i<_9f5.length;i++){if(_9f5[i].deferred===_9f7){return _9f5.splice(i,1);}}return null;};var _9f8=function(_9f9,args){for(var i=0;i<_9f5.length;i++){var _9fa=_9f5[i];if(_9fa.method===_9f9&&epi.areEqual(_9fa.args,args)){return _9fa;}}return null;};var _9fb=function(_9fc,args){var _9fd=_9f1.map(args,function(item){return item;});var _9fe=_9f8(_9fc,_9fd);if(_9fe){return _9fe.deferred;}var _9ff=_9f3[_9fc].apply(_9f3,_9fd);_9f5.push({method:_9fc,args:_9fd,deferred:_9ff});when(_9ff,function(){_9f6(_9ff);},function(){_9f6(_9ff);});return _9ff;};var _a00={};_a00[_9f4]=function(){return _9fb(_9f4,arguments);};return lang.delegate(_9f3,_a00);};});},"epi/shell/ShellModule":function(){define("epi/shell/ShellModule",["epi/patch/patches","dojo/_base/declare","dojo/_base/lang","dojo/aspect","dojo/topic","dojo/when","dojo/dnd/Manager","epi","epi/_Module","epi/routes","epi/Url","epi/shell/store/Registry","epi/shell/widget/Application","epi/shell/Profile","epi/shell/layout/PositioningUtility","epi/shell/ContextService","epi/shell/ContextHistory","epi/shell/HashWrapper","epi/shell/ViewContextHistory","epi/shell/widget/ComponentController","epi/shell/command/GlobalCommandRegistry","epi/shell/dnd/Avatar","epi/shell/MetadataManager","epi/shell/widget/WidgetFactory","epi/shell/MessageService","epi/shell/customFocusIndicator","epi/shell/TypeDescriptorManager","epi/shell/ViewSettings"],function(_a01,_a02,lang,_a03,_a04,when,_a05,epi,_a06,_a07,Url,_a08,_a09,_a0a,_a0b,_a0c,_a0d,_a0e,_a0f,_a10,_a11,_a12,_a13,_a14,_a15,_a16,_a17,_a18){return _a02([_a06],{_settings:null,_initializeHandle:null,constructor:function(_a19){this._settings=_a19;},initialize:function(){return when(this.inherited(arguments),lang.hitch(this,function(){var _a1a=new _a08();this._initializeStores(_a1a);this.registerDependency("epi.storeregistry",_a1a);this.registerDependency("epi.shell.Profile",new _a0a());this.registerDependency("epi.shell.MetadataManager",_a13);this.registerDependency("epi.shell.widget.WidgetFactory",_a14);this.registerDependency("epi.shell.MessageService",_a15);this.registerDependency("epi.shell.layout.PositioningUtility",_a0b);this.registerDependency("epi.globalcommandregistry",_a11);var _a1b=new _a0e();var _a1c=new _a0f();this.registerDependency("epi.shell.controller.Components",new _a10({moduleArea:"Shell"}));this.registerDependency("epi.shell.ContextService",new _a0c());this.registerDependency("epi.shell.ContextHistory",new _a0d());this.registerDependency("epi.shell.HashWrapper",_a1b);var _a1d=_a05.manager();_a1d.makeAvatar=function(){return new _a12(this);};_a1d.OFFSET_X=6;_a1d.OFFSET_Y=6;_a03.after(_a1d,"stopDrag",function(_a1e){_a04.publish("/dnd/stop",null);return _a1e;});this._initializeHandle=_a04.subscribe("/epi/shell/application/initialized",lang.hitch(this,this._requestInitialContext,_a1b,_a1c));return _a17.initialize();}));},uninitialize:function(){if(this._requestFailedHandle){this._requestFailedHandle.remove();}this.inherited(arguments);},_initializeStores:function(_a1f){var _a20=_a07.getRestPath({moduleArea:"shell",storeName:"metadata"}),_a21=_a07.getRestPath({moduleArea:"shell",storeName:"context"}),_a22=_a07.getRestPath({moduleArea:"shell",storeName:"searchproviders"}),_a23=_a07.getRestPath({moduleArea:"shell",storeName:"searchresults"}),_a24=_a07.getRestPath({moduleArea:"shell",storeName:"componentcategory"}),_a25=_a07.getRestPath({moduleArea:"shell",storeName:"componentdefinition"}),_a26=_a07.getRestPath({moduleArea:"shell",storeName:"component"}),_a27=_a07.getRestPath({moduleArea:"shell",storeName:"componentsortorder"}),_a28=_a07.getRestPath({moduleArea:"shell",storeName:"licenseinformation"});uiDescriptorUrl=_a07.getRestPath({moduleArea:"shell",storeName:"uidescriptor"});_a1f.create("epi.shell.metadata",_a20);_a1f.create("epi.shell.context",_a21,{idProperty:"uri"});_a1f.create("epi.shell.searchproviders",_a22);_a1f.create("epi.shell.searchresults",_a23);_a1f.create("epi.shell.componentcategory",_a24,{idProperty:"name"});_a1f.create("epi.shell.componentdefinition",_a25);_a1f.create("epi.shell.component",_a26);_a1f.create("epi.shell.componentsortorder",_a27);_a1f.create("epi.shell.licenseinformation",_a28);_a1f.create("epi.shell.uidescriptor",uiDescriptorUrl);},_requestInitialContext:function(_a29,_a2a){if(this._initializeHandle){this._initializeHandle.remove();}var _a2b=lang.hitch(this,function(_a2c){var _a2d=_a2c||_a18.settings.defaultContext;var _a2e=null;if(_a2d){this._requestFailedHandle=_a04.subscribe("/epi/shell/context/requestfailed",lang.hitch(this,function(_a2f,_a30,_a31){if(_a31&&_a31.sender==this){this._requestFailedHandle.remove();_a2b(null);}}));_a2e={uri:_a2d};}_a04.publish("/epi/shell/context/request",_a2e,{sender:this});});var hash=_a29.getHash();if(hash&&hash.context){_a2b(hash.context);return;}when(_a2a.getLastContextForView(),function(_a32){var _a33=null;if(_a32&&_a32.fullHomeUrl){var url=new Url(_a32.fullHomeUrl);if(url.authority.toLowerCase()===window.location.host.toLowerCase()){_a33=_a32.versionAgnosticUri;}}_a2b(_a33);});}});});},"epi/patch/patches":function(){define("epi/patch/patches",["./dijit/form/_FormMixin","./dijit/form/NumberSpinner","./dijit/_HasDropDown","./dojox/form/uploader/plugins/HTML5","./dijit/tree/Tree","./dijit/Dialog","./dijit/focus","./dojo/dnd/Selector","./dojo/store/Observable","./dojo/window"],function(){return {};});},"epi/patch/dijit/form/_FormMixin":function(){define("epi/patch/dijit/form/_FormMixin",["dojo/_base/array","dojo/_base/lang","dijit/form/_FormMixin"],function(_a34,lang,_a35){lang.mixin(_a35.prototype,{_setValueAttr:function(obj){var map={};_a34.forEach(this._getDescendantFormWidgets(),function(_a36){if(!_a36.name){return;}var _a37=map[_a36.name]||(map[_a36.name]=[]);_a37.push(_a36);});for(var name in map){if(!map.hasOwnProperty(name)){continue;}var _a38=map[name],_a39=lang.getObject(name,false,obj);if(_a39===undefined){continue;}if(!lang.isArray(_a39)){if(_a39===null&&_a38[0].multiple){_a39=null;}else{_a39=[_a39];}}if(typeof _a38[0].checked=="boolean"){_a34.forEach(_a38,function(w){w.set("value",_a34.indexOf(_a39,w.value)!=-1);});}else{if(_a38[0].multiple){_a38[0].set("value",_a39);}else{_a34.forEach(_a38,function(w,i){w.set("value",_a39[i]);});}}}}});_a35.prototype._setValueAttr.nom="_setValueAttr";});},"epi/patch/dijit/form/NumberSpinner":function(){define("epi/patch/dijit/form/NumberSpinner",["dojo/_base/lang","dijit/form/NumberSpinner"],function(lang,_a3a){lang.mixin(_a3a.prototype,{adjust:function(val,_a3b){var tc=this.constraints,v=isNaN(val),_a3c=!isNaN(tc.max),_a3d=!isNaN(tc.min);if(v&&_a3b!=0){val=_a3b;}var _a3e=val+_a3b;if(v||isNaN(_a3e)){return val;}if(_a3c&&(_a3e>tc.max)){_a3e=tc.max;}if(_a3d&&(_a3e<tc.min)){_a3e=tc.min;}return _a3e;}});_a3a.prototype.adjust.nom="adjust";});},"dijit/form/NumberSpinner":function(){define("dijit/form/NumberSpinner",["dojo/_base/declare","dojo/_base/event","dojo/keys","./_Spinner","./NumberTextBox"],function(_a3f,_a40,keys,_a41,_a42){return _a3f("dijit.form.NumberSpinner",[_a41,_a42.Mixin],{baseClass:"dijitTextBox dijitSpinner dijitNumberTextBox",adjust:function(val,_a43){var tc=this.constraints,v=isNaN(val),_a44=!isNaN(tc.max),_a45=!isNaN(tc.min);if(v&&_a43!=0){val=(_a43>0)?_a45?tc.min:_a44?tc.max:0:_a44?this.constraints.max:_a45?tc.min:0;}var _a46=val+_a43;if(v||isNaN(_a46)){return val;}if(_a44&&(_a46>tc.max)){_a46=tc.max;}if(_a45&&(_a46<tc.min)){_a46=tc.min;}return _a46;},_onKeyPress:function(e){if((e.charOrCode==keys.HOME||e.charOrCode==keys.END)&&!(e.ctrlKey||e.altKey||e.metaKey)&&typeof this.get("value")!="undefined"){var _a47=this.constraints[(e.charOrCode==keys.HOME?"min":"max")];if(typeof _a47=="number"){this._setValueAttr(_a47,false);}_a40.stop(e);}}});});},"dijit/form/_Spinner":function(){require({cache:{"url:dijit/form/templates/Spinner.html":"<div class=\"dijit dijitReset dijitInline dijitLeft\"\n\tid=\"widget_${id}\" role=\"presentation\"\n\t><div class=\"dijitReset dijitButtonNode dijitSpinnerButtonContainer\"\n\t\t><input class=\"dijitReset dijitInputField dijitSpinnerButtonInner\" type=\"text\" tabIndex=\"-1\" readonly=\"readonly\" role=\"presentation\"\n\t\t/><div class=\"dijitReset dijitLeft dijitButtonNode dijitArrowButton dijitUpArrowButton\"\n\t\t\tdata-dojo-attach-point=\"upArrowNode\"\n\t\t\t><div class=\"dijitArrowButtonInner\"\n\t\t\t\t><input class=\"dijitReset dijitInputField\" value=\"&#9650; \" type=\"text\" tabIndex=\"-1\" readonly=\"readonly\" role=\"presentation\"\n\t\t\t\t\t${_buttonInputDisabled}\n\t\t\t/></div\n\t\t></div\n\t\t><div class=\"dijitReset dijitLeft dijitButtonNode dijitArrowButton dijitDownArrowButton\"\n\t\t\tdata-dojo-attach-point=\"downArrowNode\"\n\t\t\t><div class=\"dijitArrowButtonInner\"\n\t\t\t\t><input class=\"dijitReset dijitInputField\" value=\"&#9660; \" type=\"text\" tabIndex=\"-1\" readonly=\"readonly\" role=\"presentation\"\n\t\t\t\t\t${_buttonInputDisabled}\n\t\t\t/></div\n\t\t></div\n\t></div\n\t><div class='dijitReset dijitValidationContainer'\n\t\t><input class=\"dijitReset dijitInputField dijitValidationIcon dijitValidationInner\" value=\"&#935; \" type=\"text\" tabIndex=\"-1\" readonly=\"readonly\" role=\"presentation\"\n\t/></div\n\t><div class=\"dijitReset dijitInputField dijitInputContainer\"\n\t\t><input class='dijitReset dijitInputInner' data-dojo-attach-point=\"textbox,focusNode\" type=\"${type}\" data-dojo-attach-event=\"onkeypress:_onKeyPress\"\n\t\t\trole=\"spinbutton\" autocomplete=\"off\" ${!nameAttrSetting}\n\t/></div\n></div>\n"}});define("dijit/form/_Spinner",["dojo/_base/declare","dojo/_base/event","dojo/keys","dojo/_base/lang","dojo/sniff","dojo/mouse","../typematic","./RangeBoundTextBox","dojo/text!./templates/Spinner.html","./_TextBoxMixin"],function(_a48,_a49,keys,lang,has,_a4a,_a4b,_a4c,_a4d,_a4e){return _a48("dijit.form._Spinner",_a4c,{defaultTimeout:500,minimumTimeout:10,timeoutChangeRate:0.9,smallDelta:1,largeDelta:10,templateString:_a4d,baseClass:"dijitTextBox dijitSpinner",cssStateNodes:{"upArrowNode":"dijitUpArrowButton","downArrowNode":"dijitDownArrowButton"},adjust:function(val){return val;},_arrowPressed:function(_a4f,_a50,_a51){if(this.disabled||this.readOnly){return;}this._setValueAttr(this.adjust(this.get("value"),_a50*_a51),false);_a4e.selectInputText(this.textbox,this.textbox.value.length);},_arrowReleased:function(){this._wheelTimer=null;},_typematicCallback:function(_a52,node,evt){var inc=this.smallDelta;if(node==this.textbox){var key=evt.charOrCode;inc=(key==keys.PAGE_UP||key==keys.PAGE_DOWN)?this.largeDelta:this.smallDelta;node=(key==keys.UP_ARROW||key==keys.PAGE_UP)?this.upArrowNode:this.downArrowNode;}if(_a52==-1){this._arrowReleased(node);}else{this._arrowPressed(node,(node==this.upArrowNode)?1:-1,inc);}},_wheelTimer:null,_mouseWheeled:function(evt){_a49.stop(evt);var _a53=evt.wheelDelta/120;if(Math.floor(_a53)!=_a53){_a53=evt.wheelDelta>0?1:-1;}var _a54=evt.detail?(evt.detail*-1):_a53;if(_a54!==0){var node=this[(_a54>0?"upArrowNode":"downArrowNode")];this._arrowPressed(node,_a54,this.smallDelta);if(this._wheelTimer){this._wheelTimer.remove();}this._wheelTimer=this.defer(function(){this._arrowReleased(node);},50);}},_setConstraintsAttr:function(_a55){this.inherited(arguments);if(this.focusNode){if(this.constraints.min!==undefined){this.focusNode.setAttribute("aria-valuemin",this.constraints.min);}else{this.focusNode.removeAttribute("aria-valuemin");}if(this.constraints.max!==undefined){this.focusNode.setAttribute("aria-valuemax",this.constraints.max);}else{this.focusNode.removeAttribute("aria-valuemax");}}},_setValueAttr:function(_a56,_a57){this.focusNode.setAttribute("aria-valuenow",_a56);this.inherited(arguments);},postCreate:function(){this.inherited(arguments);this.connect(this.domNode,_a4a.wheel,"_mouseWheeled");this.own(_a4b.addListener(this.upArrowNode,this.textbox,{charOrCode:keys.UP_ARROW,ctrlKey:false,altKey:false,shiftKey:false,metaKey:false},this,"_typematicCallback",this.timeoutChangeRate,this.defaultTimeout,this.minimumTimeout),_a4b.addListener(this.downArrowNode,this.textbox,{charOrCode:keys.DOWN_ARROW,ctrlKey:false,altKey:false,shiftKey:false,metaKey:false},this,"_typematicCallback",this.timeoutChangeRate,this.defaultTimeout,this.minimumTimeout),_a4b.addListener(this.upArrowNode,this.textbox,{charOrCode:keys.PAGE_UP,ctrlKey:false,altKey:false,shiftKey:false,metaKey:false},this,"_typematicCallback",this.timeoutChangeRate,this.defaultTimeout,this.minimumTimeout),_a4b.addListener(this.downArrowNode,this.textbox,{charOrCode:keys.PAGE_DOWN,ctrlKey:false,altKey:false,shiftKey:false,metaKey:false},this,"_typematicCallback",this.timeoutChangeRate,this.defaultTimeout,this.minimumTimeout));}});});},"dijit/typematic":function(){define("dijit/typematic",["dojo/_base/array","dojo/_base/connect","dojo/_base/event","dojo/_base/kernel","dojo/_base/lang","dojo/on","dojo/sniff","./main"],function(_a58,_a59,_a5a,_a5b,lang,on,has,_a5c){var _a5d=(_a5c.typematic={_fireEventAndReload:function(){this._timer=null;this._callback(++this._count,this._node,this._evt);this._currentTimeout=Math.max(this._currentTimeout<0?this._initialDelay:(this._subsequentDelay>1?this._subsequentDelay:Math.round(this._currentTimeout*this._subsequentDelay)),this._minDelay);this._timer=setTimeout(lang.hitch(this,"_fireEventAndReload"),this._currentTimeout);},trigger:function(evt,_a5e,node,_a5f,obj,_a60,_a61,_a62){if(obj!=this._obj){this.stop();this._initialDelay=_a61||500;this._subsequentDelay=_a60||0.9;this._minDelay=_a62||10;this._obj=obj;this._node=node;this._currentTimeout=-1;this._count=-1;this._callback=lang.hitch(_a5e,_a5f);this._evt={faux:true};for(var attr in evt){if(attr!="layerX"&&attr!="layerY"){var v=evt[attr];if(typeof v!="function"&&typeof v!="undefined"){this._evt[attr]=v;}}}this._fireEventAndReload();}},stop:function(){if(this._timer){clearTimeout(this._timer);this._timer=null;}if(this._obj){this._callback(-1,this._node,this._evt);this._obj=null;}},addKeyListener:function(node,_a63,_a64,_a65,_a66,_a67,_a68){if(_a63.keyCode){_a63.charOrCode=_a63.keyCode;_a5b.deprecated("keyCode attribute parameter for dijit.typematic.addKeyListener is deprecated. Use charOrCode instead.","","2.0");}else{if(_a63.charCode){_a63.charOrCode=String.fromCharCode(_a63.charCode);_a5b.deprecated("charCode attribute parameter for dijit.typematic.addKeyListener is deprecated. Use charOrCode instead.","","2.0");}}var _a69=[on(node,_a59._keypress,lang.hitch(this,function(evt){if(evt.charOrCode==_a63.charOrCode&&(_a63.ctrlKey===undefined||_a63.ctrlKey==evt.ctrlKey)&&(_a63.altKey===undefined||_a63.altKey==evt.altKey)&&(_a63.metaKey===undefined||_a63.metaKey==(evt.metaKey||false))&&(_a63.shiftKey===undefined||_a63.shiftKey==evt.shiftKey)){_a5a.stop(evt);_a5d.trigger(evt,_a64,node,_a65,_a63,_a66,_a67,_a68);}else{if(_a5d._obj==_a63){_a5d.stop();}}})),on(node,"keyup",lang.hitch(this,function(){if(_a5d._obj==_a63){_a5d.stop();}}))];return {remove:function(){_a58.forEach(_a69,function(h){h.remove();});}};},addMouseListener:function(node,_a6a,_a6b,_a6c,_a6d,_a6e){var _a6f=[on(node,"mousedown",lang.hitch(this,function(evt){evt.preventDefault();_a5d.trigger(evt,_a6a,node,_a6b,node,_a6c,_a6d,_a6e);})),on(node,"mouseup",lang.hitch(this,function(evt){if(this._obj){evt.preventDefault();}_a5d.stop();})),on(node,"mouseout",lang.hitch(this,function(evt){if(this._obj){evt.preventDefault();}_a5d.stop();})),on(node,"dblclick",lang.hitch(this,function(evt){evt.preventDefault();if(has("ie")<9){_a5d.trigger(evt,_a6a,node,_a6b,node,_a6c,_a6d,_a6e);setTimeout(lang.hitch(this,_a5d.stop),50);}}))];return {remove:function(){_a58.forEach(_a6f,function(h){h.remove();});}};},addListener:function(_a70,_a71,_a72,_a73,_a74,_a75,_a76,_a77){var _a78=[this.addKeyListener(_a71,_a72,_a73,_a74,_a75,_a76,_a77),this.addMouseListener(_a70,_a73,_a74,_a75,_a76,_a77)];return {remove:function(){_a58.forEach(_a78,function(h){h.remove();});}};}});return _a5d;});},"dijit/form/RangeBoundTextBox":function(){define("dijit/form/RangeBoundTextBox",["dojo/_base/declare","dojo/i18n","./MappedTextBox"],function(_a79,i18n,_a7a){var _a7b=_a79("dijit.form.RangeBoundTextBox",_a7a,{rangeMessage:"",rangeCheck:function(_a7c,_a7d){return ("min" in _a7d?(this.compare(_a7c,_a7d.min)>=0):true)&&("max" in _a7d?(this.compare(_a7c,_a7d.max)<=0):true);},isInRange:function(){return this.rangeCheck(this.get("value"),this.constraints);},_isDefinitelyOutOfRange:function(){var val=this.get("value");if(val==null){return false;}var _a7e=false;if("min" in this.constraints){var min=this.constraints.min;_a7e=this.compare(val,((typeof min=="number")&&min>=0&&val!=0)?0:min)<0;}if(!_a7e&&("max" in this.constraints)){var max=this.constraints.max;_a7e=this.compare(val,((typeof max!="number")||max>0)?max:0)>0;}return _a7e;},_isValidSubset:function(){return this.inherited(arguments)&&!this._isDefinitelyOutOfRange();},isValid:function(_a7f){return this.inherited(arguments)&&((this._isEmpty(this.textbox.value)&&!this.required)||this.isInRange(_a7f));},getErrorMessage:function(_a80){var v=this.get("value");if(v!=null&&v!==""&&(typeof v!="number"||!isNaN(v))&&!this.isInRange(_a80)){return this.rangeMessage;}return this.inherited(arguments);},postMixInProperties:function(){this.inherited(arguments);if(!this.rangeMessage){this.messages=i18n.getLocalization("dijit.form","validate",this.lang);this.rangeMessage=this.messages.rangeMessage;}},applyTextDir:function(){}});return _a7b;});},"dijit/form/MappedTextBox":function(){define("dijit/form/MappedTextBox",["dojo/_base/declare","dojo/dom-construct","./ValidationTextBox"],function(_a81,_a82,_a83){return _a81("dijit.form.MappedTextBox",_a83,{postMixInProperties:function(){this.inherited(arguments);this.nameAttrSetting="";},_setNameAttr:null,serialize:function(val){return val.toString?val.toString():"";},toString:function(){var val=this.filter(this.get("value"));return val!=null?(typeof val=="string"?val:this.serialize(val,this.constraints)):"";},validate:function(){this.valueNode.value=this.toString();return this.inherited(arguments);},buildRendering:function(){this.inherited(arguments);this.valueNode=_a82.place("<input type='hidden'"+(this.name?" name=\""+this.name.replace(/"/g,"&quot;")+"\"":"")+"/>",this.textbox,"after");},reset:function(){this.valueNode.value="";this.inherited(arguments);}});});},"url:dijit/form/templates/Spinner.html":"<div class=\"dijit dijitReset dijitInline dijitLeft\"\n\tid=\"widget_${id}\" role=\"presentation\"\n\t><div class=\"dijitReset dijitButtonNode dijitSpinnerButtonContainer\"\n\t\t><input class=\"dijitReset dijitInputField dijitSpinnerButtonInner\" type=\"text\" tabIndex=\"-1\" readonly=\"readonly\" role=\"presentation\"\n\t\t/><div class=\"dijitReset dijitLeft dijitButtonNode dijitArrowButton dijitUpArrowButton\"\n\t\t\tdata-dojo-attach-point=\"upArrowNode\"\n\t\t\t><div class=\"dijitArrowButtonInner\"\n\t\t\t\t><input class=\"dijitReset dijitInputField\" value=\"&#9650; \" type=\"text\" tabIndex=\"-1\" readonly=\"readonly\" role=\"presentation\"\n\t\t\t\t\t${_buttonInputDisabled}\n\t\t\t/></div\n\t\t></div\n\t\t><div class=\"dijitReset dijitLeft dijitButtonNode dijitArrowButton dijitDownArrowButton\"\n\t\t\tdata-dojo-attach-point=\"downArrowNode\"\n\t\t\t><div class=\"dijitArrowButtonInner\"\n\t\t\t\t><input class=\"dijitReset dijitInputField\" value=\"&#9660; \" type=\"text\" tabIndex=\"-1\" readonly=\"readonly\" role=\"presentation\"\n\t\t\t\t\t${_buttonInputDisabled}\n\t\t\t/></div\n\t\t></div\n\t></div\n\t><div class='dijitReset dijitValidationContainer'\n\t\t><input class=\"dijitReset dijitInputField dijitValidationIcon dijitValidationInner\" value=\"&#935; \" type=\"text\" tabIndex=\"-1\" readonly=\"readonly\" role=\"presentation\"\n\t/></div\n\t><div class=\"dijitReset dijitInputField dijitInputContainer\"\n\t\t><input class='dijitReset dijitInputInner' data-dojo-attach-point=\"textbox,focusNode\" type=\"${type}\" data-dojo-attach-event=\"onkeypress:_onKeyPress\"\n\t\t\trole=\"spinbutton\" autocomplete=\"off\" ${!nameAttrSetting}\n\t/></div\n></div>\n","dijit/form/NumberTextBox":function(){define("dijit/form/NumberTextBox",["dojo/_base/declare","dojo/_base/lang","dojo/number","./RangeBoundTextBox"],function(_a84,lang,_a85,_a86){var _a87=_a84("dijit.form.NumberTextBoxMixin",null,{pattern:_a85.regexp,value:NaN,editOptions:{pattern:"#.######"},_formatter:_a85.format,postMixInProperties:function(){this.inherited(arguments);this._set("type","text");},_setConstraintsAttr:function(_a88){var _a89=typeof _a88.places=="number"?_a88.places:0;if(_a89){_a89++;}if(typeof _a88.max!="number"){_a88.max=9*Math.pow(10,15-_a89);}if(typeof _a88.min!="number"){_a88.min=-9*Math.pow(10,15-_a89);}this.inherited(arguments,[_a88]);if(this.focusNode&&this.focusNode.value&&!isNaN(this.value)){this.set("value",this.value);}},_onFocus:function(){if(this.disabled){return;}var val=this.get("value");if(typeof val=="number"&&!isNaN(val)){var _a8a=this.format(val,this.constraints);if(_a8a!==undefined){this.textbox.value=_a8a;}}this.inherited(arguments);},format:function(_a8b,_a8c){var _a8d=String(_a8b);if(typeof _a8b!="number"){return _a8d;}if(isNaN(_a8b)){return "";}if(!("rangeCheck" in this&&this.rangeCheck(_a8b,_a8c))&&_a8c.exponent!==false&&/\de[-+]?\d/i.test(_a8d)){return _a8d;}if(this.editOptions&&this.focused){_a8c=lang.mixin({},_a8c,this.editOptions);}return this._formatter(_a8b,_a8c);},_parser:_a85.parse,parse:function(_a8e,_a8f){var v=this._parser(_a8e,lang.mixin({},_a8f,(this.editOptions&&this.focused)?this.editOptions:{}));if(this.editOptions&&this.focused&&isNaN(v)){v=this._parser(_a8e,_a8f);}return v;},_getDisplayedValueAttr:function(){var v=this.inherited(arguments);return isNaN(v)?this.textbox.value:v;},filter:function(_a90){return (_a90==null||_a90==="")?NaN:this.inherited(arguments);},serialize:function(_a91,_a92){return (typeof _a91!="number"||isNaN(_a91))?"":this.inherited(arguments);},_setBlurValue:function(){var val=lang.hitch(lang.mixin({},this,{focused:true}),"get")("value");this._setValueAttr(val,true);},_setValueAttr:function(_a93,_a94,_a95){if(_a93!==undefined&&_a95===undefined){_a95=String(_a93);if(typeof _a93=="number"){if(isNaN(_a93)){_a95="";}else{if(("rangeCheck" in this&&this.rangeCheck(_a93,this.constraints))||this.constraints.exponent===false||!/\de[-+]?\d/i.test(_a95)){_a95=undefined;}}}else{if(!_a93){_a95="";_a93=NaN;}else{_a93=undefined;}}}this.inherited(arguments,[_a93,_a94,_a95]);},_getValueAttr:function(){var v=this.inherited(arguments);if(isNaN(v)&&this.textbox.value!==""){if(this.constraints.exponent!==false&&/\de[-+]?\d/i.test(this.textbox.value)&&(new RegExp("^"+_a85._realNumberRegexp(lang.mixin({},this.constraints))+"$").test(this.textbox.value))){var n=Number(this.textbox.value);return isNaN(n)?undefined:n;}else{return undefined;}}else{return v;}},isValid:function(_a96){if(!this.focused||this._isEmpty(this.textbox.value)){return this.inherited(arguments);}else{var v=this.get("value");if(!isNaN(v)&&this.rangeCheck(v,this.constraints)){if(this.constraints.exponent!==false&&/\de[-+]?\d/i.test(this.textbox.value)){return true;}else{return this.inherited(arguments);}}else{return false;}}}});var _a97=_a84("dijit.form.NumberTextBox",[_a86,_a87],{baseClass:"dijitTextBox dijitNumberTextBox"});_a97.Mixin=_a87;return _a97;});},"dojo/number":function(){define("dojo/number",["./_base/lang","./i18n","./i18n!./cldr/nls/number","./string","./regexp"],function(lang,i18n,_a98,_a99,_a9a){var _a9b={};lang.setObject("dojo.number",_a9b);_a9b.format=function(_a9c,_a9d){_a9d=lang.mixin({},_a9d||{});var _a9e=i18n.normalizeLocale(_a9d.locale),_a9f=i18n.getLocalization("dojo.cldr","number",_a9e);_a9d.customs=_a9f;var _aa0=_a9d.pattern||_a9f[(_a9d.type||"decimal")+"Format"];if(isNaN(_a9c)||Math.abs(_a9c)==Infinity){return null;}return _a9b._applyPattern(_a9c,_aa0,_a9d);};_a9b._numberPatternRE=/[#0,]*[#0](?:\.0*#*)?/;_a9b._applyPattern=function(_aa1,_aa2,_aa3){_aa3=_aa3||{};var _aa4=_aa3.customs.group,_aa5=_aa3.customs.decimal,_aa6=_aa2.split(";"),_aa7=_aa6[0];_aa2=_aa6[(_aa1<0)?1:0]||("-"+_aa7);if(_aa2.indexOf("%")!=-1){_aa1*=100;}else{if(_aa2.indexOf("")!=-1){_aa1*=1000;}else{if(_aa2.indexOf("")!=-1){_aa4=_aa3.customs.currencyGroup||_aa4;_aa5=_aa3.customs.currencyDecimal||_aa5;_aa2=_aa2.replace(/\u00a4{1,3}/,function(_aa8){var prop=["symbol","currency","displayName"][_aa8.length-1];return _aa3[prop]||_aa3.currency||"";});}else{if(_aa2.indexOf("E")!=-1){throw new Error("exponential notation not supported");}}}}var _aa9=_a9b._numberPatternRE;var _aaa=_aa7.match(_aa9);if(!_aaa){throw new Error("unable to find a number expression in pattern: "+_aa2);}if(_aa3.fractional===false){_aa3.places=0;}return _aa2.replace(_aa9,_a9b._formatAbsolute(_aa1,_aaa[0],{decimal:_aa5,group:_aa4,places:_aa3.places,round:_aa3.round}));};_a9b.round=function(_aab,_aac,_aad){var _aae=10/(_aad||10);return (_aae*+_aab).toFixed(_aac)/_aae;};if((0.9).toFixed()==0){var _aaf=_a9b.round;_a9b.round=function(v,p,m){var d=Math.pow(10,-p||0),a=Math.abs(v);if(!v||a>=d){d=0;}else{a/=d;if(a<0.5||a>=0.95){d=0;}}return _aaf(v,p,m)+(v>0?d:-d);};}_a9b._formatAbsolute=function(_ab0,_ab1,_ab2){_ab2=_ab2||{};if(_ab2.places===true){_ab2.places=0;}if(_ab2.places===Infinity){_ab2.places=6;}var _ab3=_ab1.split("."),_ab4=typeof _ab2.places=="string"&&_ab2.places.indexOf(","),_ab5=_ab2.places;if(_ab4){_ab5=_ab2.places.substring(_ab4+1);}else{if(!(_ab5>=0)){_ab5=(_ab3[1]||[]).length;}}if(!(_ab2.round<0)){_ab0=_a9b.round(_ab0,_ab5,_ab2.round);}var _ab6=String(Math.abs(_ab0)).split("."),_ab7=_ab6[1]||"";if(_ab3[1]||_ab2.places){if(_ab4){_ab2.places=_ab2.places.substring(0,_ab4);}var pad=_ab2.places!==undefined?_ab2.places:(_ab3[1]&&_ab3[1].lastIndexOf("0")+1);if(pad>_ab7.length){_ab6[1]=_a99.pad(_ab7,pad,"0",true);}if(_ab5<_ab7.length){_ab6[1]=_ab7.substr(0,_ab5);}}else{if(_ab6[1]){_ab6.pop();}}var _ab8=_ab3[0].replace(",","");pad=_ab8.indexOf("0");if(pad!=-1){pad=_ab8.length-pad;if(pad>_ab6[0].length){_ab6[0]=_a99.pad(_ab6[0],pad);}if(_ab8.indexOf("#")==-1){_ab6[0]=_ab6[0].substr(_ab6[0].length-pad);}}var _ab9=_ab3[0].lastIndexOf(","),_aba,_abb;if(_ab9!=-1){_aba=_ab3[0].length-_ab9-1;var _abc=_ab3[0].substr(0,_ab9);_ab9=_abc.lastIndexOf(",");if(_ab9!=-1){_abb=_abc.length-_ab9-1;}}var _abd=[];for(var _abe=_ab6[0];_abe;){var off=_abe.length-_aba;_abd.push((off>0)?_abe.substr(off):_abe);_abe=(off>0)?_abe.slice(0,off):"";if(_abb){_aba=_abb;delete _abb;}}_ab6[0]=_abd.reverse().join(_ab2.group||",");return _ab6.join(_ab2.decimal||".");};_a9b.regexp=function(_abf){return _a9b._parseInfo(_abf).regexp;};_a9b._parseInfo=function(_ac0){_ac0=_ac0||{};var _ac1=i18n.normalizeLocale(_ac0.locale),_ac2=i18n.getLocalization("dojo.cldr","number",_ac1),_ac3=_ac0.pattern||_ac2[(_ac0.type||"decimal")+"Format"],_ac4=_ac2.group,_ac5=_ac2.decimal,_ac6=1;if(_ac3.indexOf("%")!=-1){_ac6/=100;}else{if(_ac3.indexOf("")!=-1){_ac6/=1000;}else{var _ac7=_ac3.indexOf("")!=-1;if(_ac7){_ac4=_ac2.currencyGroup||_ac4;_ac5=_ac2.currencyDecimal||_ac5;}}}var _ac8=_ac3.split(";");if(_ac8.length==1){_ac8.push("-"+_ac8[0]);}var re=_a9a.buildGroupRE(_ac8,function(_ac9){_ac9="(?:"+_a9a.escapeString(_ac9,".")+")";return _ac9.replace(_a9b._numberPatternRE,function(_aca){var _acb={signed:false,separator:_ac0.strict?_ac4:[_ac4,""],fractional:_ac0.fractional,decimal:_ac5,exponent:false},_acc=_aca.split("."),_acd=_ac0.places;if(_acc.length==1&&_ac6!=1){_acc[1]="###";}if(_acc.length==1||_acd===0){_acb.fractional=false;}else{if(_acd===undefined){_acd=_ac0.pattern?_acc[1].lastIndexOf("0")+1:Infinity;}if(_acd&&_ac0.fractional==undefined){_acb.fractional=true;}if(!_ac0.places&&(_acd<_acc[1].length)){_acd+=","+_acc[1].length;}_acb.places=_acd;}var _ace=_acc[0].split(",");if(_ace.length>1){_acb.groupSize=_ace.pop().length;if(_ace.length>1){_acb.groupSize2=_ace.pop().length;}}return "("+_a9b._realNumberRegexp(_acb)+")";});},true);if(_ac7){re=re.replace(/([\s\xa0]*)(\u00a4{1,3})([\s\xa0]*)/g,function(_acf,_ad0,_ad1,_ad2){var prop=["symbol","currency","displayName"][_ad1.length-1],_ad3=_a9a.escapeString(_ac0[prop]||_ac0.currency||"");_ad0=_ad0?"[\\s\\xa0]":"";_ad2=_ad2?"[\\s\\xa0]":"";if(!_ac0.strict){if(_ad0){_ad0+="*";}if(_ad2){_ad2+="*";}return "(?:"+_ad0+_ad3+_ad2+")?";}return _ad0+_ad3+_ad2;});}return {regexp:re.replace(/[\xa0 ]/g,"[\\s\\xa0]"),group:_ac4,decimal:_ac5,factor:_ac6};};_a9b.parse=function(_ad4,_ad5){var info=_a9b._parseInfo(_ad5),_ad6=(new RegExp("^"+info.regexp+"$")).exec(_ad4);if(!_ad6){return NaN;}var _ad7=_ad6[1];if(!_ad6[1]){if(!_ad6[2]){return NaN;}_ad7=_ad6[2];info.factor*=-1;}_ad7=_ad7.replace(new RegExp("["+info.group+"\\s\\xa0"+"]","g"),"").replace(info.decimal,".");return _ad7*info.factor;};_a9b._realNumberRegexp=function(_ad8){_ad8=_ad8||{};if(!("places" in _ad8)){_ad8.places=Infinity;}if(typeof _ad8.decimal!="string"){_ad8.decimal=".";}if(!("fractional" in _ad8)||/^0/.test(_ad8.places)){_ad8.fractional=[true,false];}if(!("exponent" in _ad8)){_ad8.exponent=[true,false];}if(!("eSigned" in _ad8)){_ad8.eSigned=[true,false];}var _ad9=_a9b._integerRegexp(_ad8),_ada=_a9a.buildGroupRE(_ad8.fractional,function(q){var re="";if(q&&(_ad8.places!==0)){re="\\"+_ad8.decimal;if(_ad8.places==Infinity){re="(?:"+re+"\\d+)?";}else{re+="\\d{"+_ad8.places+"}";}}return re;},true);var _adb=_a9a.buildGroupRE(_ad8.exponent,function(q){if(q){return "([eE]"+_a9b._integerRegexp({signed:_ad8.eSigned})+")";}return "";});var _adc=_ad9+_ada;if(_ada){_adc="(?:(?:"+_adc+")|(?:"+_ada+"))";}return _adc+_adb;};_a9b._integerRegexp=function(_add){_add=_add||{};if(!("signed" in _add)){_add.signed=[true,false];}if(!("separator" in _add)){_add.separator="";}else{if(!("groupSize" in _add)){_add.groupSize=3;}}var _ade=_a9a.buildGroupRE(_add.signed,function(q){return q?"[-+]":"";},true);var _adf=_a9a.buildGroupRE(_add.separator,function(sep){if(!sep){return "(?:\\d+)";}sep=_a9a.escapeString(sep);if(sep==" "){sep="\\s";}else{if(sep==""){sep="\\s\\xa0";}}var grp=_add.groupSize,grp2=_add.groupSize2;if(grp2){var _ae0="(?:0|[1-9]\\d{0,"+(grp2-1)+"}(?:["+sep+"]\\d{"+grp2+"})*["+sep+"]\\d{"+grp+"})";return ((grp-grp2)>0)?"(?:"+_ae0+"|(?:0|[1-9]\\d{0,"+(grp-1)+"}))":_ae0;}return "(?:0|[1-9]\\d{0,"+(grp-1)+"}(?:["+sep+"]\\d{"+grp+"})*)";},true);return _ade+_adf;};return _a9b;});},"epi/patch/dijit/_HasDropDown":function(){define("epi/patch/dijit/_HasDropDown",["dojo/_base/array","dojo/_base/lang","dijit/_HasDropDown"],function(_ae1,lang,_ae2){lang.mixin(_ae2.prototype,{_onBlur:function(){var _ae3=focus.curNode&&this.dropDown&&dom.isDescendant(focus.curNode,this.dropDown.domNode);this.inherited(arguments);this.closeDropDown(_ae3);},destroy:function(){if(this._opened){this.closeDropDown(true);}if(this.dropDown){if(!this.dropDown._destroyed){this.dropDown.destroyRecursive();}delete this.dropDown;}this.inherited(arguments);}});_ae2.prototype._onBlur.nom="_onBlur";_ae2.prototype.destroy.nom="destroy";});},"epi/patch/dojox/form/uploader/plugins/HTML5":function(){define("epi/patch/dojox/form/uploader/plugins/HTML5",["dojo/_base/lang","dojox/form/Uploader","dojox/form/uploader/plugins/HTML5"],function(lang,_ae4,_ae5){lang.mixin(_ae5.prototype,{createXhr:function(){var xhr=new XMLHttpRequest();var _ae6;xhr.upload.addEventListener("progress",lang.hitch(this,"_xhrProgress"),false);xhr.addEventListener("load",lang.hitch(this,"_xhrProgress"),false);xhr.addEventListener("error",lang.hitch(this,function(evt){this.onError(evt);clearInterval(_ae6);}),false);xhr.addEventListener("abort",lang.hitch(this,function(evt){this.onAbort(evt);clearInterval(_ae6);}),false);xhr.onreadystatechange=lang.hitch(this,function(){if(xhr.readyState===4){clearInterval(_ae6);var _ae7;try{_ae7=JSON.parse(xhr.responseText.replace(/^\{\}&&/,""));}catch(e){this.onError({message:e.message,data:xhr.responseText,statusCode:xhr.status,headers:xhr.getAllResponseHeaders()});return;}this.onComplete(_ae7);}});xhr.open("POST",this.getUrl());_ae6=setInterval(lang.hitch(this,function(){try{if(typeof (xhr.statusText)){}}catch(e){clearInterval(_ae6);}}),250);return xhr;}});_ae5.prototype.createXhr.nom="createXhr";});},"epi/patch/dijit/tree/Tree":function(){define("epi/patch/dijit/tree/Tree",["dojo/_base/array","dojo/_base/lang","dojo/DeferredList","dijit/_Container","dijit/Tree"],function(_ae8,lang,_ae9,_aea,Tree){lang.mixin(Tree._TreeNode.prototype,{setChildItems:function(_aeb){var tree=this.tree,_aec=tree.model,defs=[];var _aed=this.getChildren();_ae8.forEach(_aed,function(_aee){_aea.prototype.removeChild.call(this,_aee);},this);this.defer(function(){_ae8.forEach(_aed,function(node){if(!node._destroyed&&!node.getParent()){tree.dndController.removeTreeNode(node);function _aef(node){var id=_aec.getIdentity(node.item),ary=tree._itemNodesMap[id];if(ary.length==1){delete tree._itemNodesMap[id];}else{var _af0=_ae8.indexOf(ary,node);if(_af0!=-1){ary.splice(_af0,1);}}_ae8.forEach(node.getChildren(),_aef);};_aef(node);node.destroyRecursive();}});});this.state="LOADED";if(_aeb&&_aeb.length>0){this.isExpandable=true;_ae8.forEach(_aeb,function(item){var id=_aec.getIdentity(item),_af1=tree._itemNodesMap[id],node;if(_af1){for(var i=0;i<_af1.length;i++){if(_af1[i]&&!_af1[i].getParent()){node=_af1[i];node.set("indent",this.indent+1);break;}}}if(!node){node=this.tree._createTreeNode({item:item,tree:tree,isExpandable:_aec.mayHaveChildren(item),label:tree.getLabel(item),tooltip:tree.getTooltip(item),ownerDocument:tree.ownerDocument,dir:tree.dir,lang:tree.lang,textDir:tree.textDir,indent:this.indent+1});if(_af1){_af1.push(node);}else{tree._itemNodesMap[id]=[node];}}this.addChild(node);if(this.tree.autoExpand||this.tree._state(node)){defs.push(tree._expandNode(node));}},this);_ae8.forEach(this.getChildren(),function(_af2){_af2._updateLayout();});}else{this.isExpandable=false;}if(this._setExpando){this._setExpando(false);}this._updateItemClasses(this.item);if(this==tree.rootNode){var fc=this.tree.showRoot?this:this.getChildren()[0];if(fc){fc.setFocusable(true);tree.lastFocused=fc;}else{tree.domNode.setAttribute("tabIndex","0");}}var def=new _ae9(defs);this.tree._startPaint(def);return def;}});Tree._TreeNode.prototype.setChildItems.nom="setChildItems";lang.mixin(Tree.prototype,{_adjustWidths:function(){if(this._adjustWidthsTimer){this._adjustWidthsTimer.remove();delete this._adjustWidthsTimer;}}});Tree.prototype._adjustWidths.nom="_adjustWidths";});},"dijit/Tree":function(){require({cache:{"url:dijit/templates/TreeNode.html":"<div class=\"dijitTreeNode\" role=\"presentation\"\n\t><div data-dojo-attach-point=\"rowNode\" class=\"dijitTreeRow dijitInline\" role=\"presentation\"\n\t\t><div data-dojo-attach-point=\"indentNode\" class=\"dijitInline\"></div\n\t\t><img src=\"${_blankGif}\" alt=\"\" data-dojo-attach-point=\"expandoNode\" class=\"dijitTreeExpando\" role=\"presentation\"\n\t\t/><span data-dojo-attach-point=\"expandoNodeText\" class=\"dijitExpandoText\" role=\"presentation\"\n\t\t></span\n\t\t><span data-dojo-attach-point=\"contentNode\"\n\t\t\tclass=\"dijitTreeContent\" role=\"presentation\">\n\t\t\t<img src=\"${_blankGif}\" alt=\"\" data-dojo-attach-point=\"iconNode\" class=\"dijitIcon dijitTreeIcon\" role=\"presentation\"\n\t\t\t/><span data-dojo-attach-point=\"labelNode\" class=\"dijitTreeLabel\" role=\"treeitem\" tabindex=\"-1\" aria-selected=\"false\"></span>\n\t\t</span\n\t></div>\n\t<div data-dojo-attach-point=\"containerNode\" class=\"dijitTreeContainer\" role=\"presentation\" style=\"display: none;\"></div>\n</div>\n","url:dijit/templates/Tree.html":"<div class=\"dijitTree dijitTreeContainer\" role=\"tree\">\n\t<div class=\"dijitInline dijitTreeIndent\" style=\"position: absolute; top: -9999px\" data-dojo-attach-point=\"indentDetector\"></div>\n</div>\n"}});define("dijit/Tree",["dojo/_base/array","dojo/_base/connect","dojo/cookie","dojo/_base/declare","dojo/Deferred","dojo/DeferredList","dojo/dom","dojo/dom-class","dojo/dom-geometry","dojo/dom-style","dojo/_base/event","dojo/errors/create","dojo/fx","dojo/_base/kernel","dojo/keys","dojo/_base/lang","dojo/on","dojo/topic","dojo/touch","dojo/when","./focus","./registry","./_base/manager","./_Widget","./_TemplatedMixin","./_Container","./_Contained","./_CssStateMixin","dojo/text!./templates/TreeNode.html","dojo/text!./templates/Tree.html","./tree/TreeStoreModel","./tree/ForestStoreModel","./tree/_dndSelector"],function(_af3,_af4,_af5,_af6,_af7,_af8,dom,_af9,_afa,_afb,_afc,_afd,_afe,_aff,keys,lang,on,_b00,_b01,when,_b02,_b03,_b04,_b05,_b06,_b07,_b08,_b09,_b0a,_b0b,_b0c,_b0d,_b0e){_af7=_af6(_af7,{addCallback:function(_b0f){this.then(_b0f);},addErrback:function(_b10){this.then(null,_b10);}});var _b11=_af6("dijit._TreeNode",[_b05,_b06,_b07,_b08,_b09],{item:null,isTreeNode:true,label:"",_setLabelAttr:{node:"labelNode",type:"innerText"},isExpandable:null,isExpanded:false,state:"UNCHECKED",templateString:_b0a,baseClass:"dijitTreeNode",cssStateNodes:{rowNode:"dijitTreeRow"},_setTooltipAttr:{node:"rowNode",type:"attribute",attribute:"title"},buildRendering:function(){this.inherited(arguments);this._setExpando();this._updateItemClasses(this.item);if(this.isExpandable){this.labelNode.setAttribute("aria-expanded",this.isExpanded);}this.setSelected(false);},_setIndentAttr:function(_b12){var _b13=(Math.max(_b12,0)*this.tree._nodePixelIndent)+"px";_afb.set(this.domNode,"backgroundPosition",_b13+" 0px");_afb.set(this.indentNode,this.isLeftToRight()?"paddingLeft":"paddingRight",_b13);_af3.forEach(this.getChildren(),function(_b14){_b14.set("indent",_b12+1);});this._set("indent",_b12);},markProcessing:function(){this.state="LOADING";this._setExpando(true);},unmarkProcessing:function(){this._setExpando(false);},_updateItemClasses:function(item){var tree=this.tree,_b15=tree.model;if(tree._v10Compat&&item===_b15.root){item=null;}this._applyClassAndStyle(item,"icon","Icon");this._applyClassAndStyle(item,"label","Label");this._applyClassAndStyle(item,"row","Row");this.tree._startPaint(true);},_applyClassAndStyle:function(item,_b16,_b17){var _b18="_"+_b16+"Class";var _b19=_b16+"Node";var _b1a=this[_b18];this[_b18]=this.tree["get"+_b17+"Class"](item,this.isExpanded);_af9.replace(this[_b19],this[_b18]||"",_b1a||"");_afb.set(this[_b19],this.tree["get"+_b17+"Style"](item,this.isExpanded)||{});},_updateLayout:function(){var _b1b=this.getParent();if(!_b1b||!_b1b.rowNode||_b1b.rowNode.style.display=="none"){_af9.add(this.domNode,"dijitTreeIsRoot");}else{_af9.toggle(this.domNode,"dijitTreeIsLast",!this.getNextSibling());}},_setExpando:function(_b1c){var _b1d=["dijitTreeExpandoLoading","dijitTreeExpandoOpened","dijitTreeExpandoClosed","dijitTreeExpandoLeaf"],_b1e=["*","-","+","*"],idx=_b1c?0:(this.isExpandable?(this.isExpanded?1:2):3);_af9.replace(this.expandoNode,_b1d[idx],_b1d);this.expandoNodeText.innerHTML=_b1e[idx];},expand:function(){if(this._expandDeferred){return this._expandDeferred;}if(this._collapseDeferred){this._collapseDeferred.cancel();delete this._collapseDeferred;}this.isExpanded=true;this.labelNode.setAttribute("aria-expanded","true");if(this.tree.showRoot||this!==this.tree.rootNode){this.containerNode.setAttribute("role","group");}_af9.add(this.contentNode,"dijitTreeContentExpanded");this._setExpando();this._updateItemClasses(this.item);if(this==this.tree.rootNode&&this.tree.showRoot){this.tree.domNode.setAttribute("aria-expanded","true");}var def,_b1f=_afe.wipeIn({node:this.containerNode,duration:_b04.defaultDuration,onEnd:function(){def.resolve(true);}});def=(this._expandDeferred=new _af7(function(){_b1f.stop();}));_b1f.play();return def;},collapse:function(){if(this._collapseDeferred){return this._collapseDeferred;}if(this._expandDeferred){this._expandDeferred.cancel();delete this._expandDeferred;}this.isExpanded=false;this.labelNode.setAttribute("aria-expanded","false");if(this==this.tree.rootNode&&this.tree.showRoot){this.tree.domNode.setAttribute("aria-expanded","false");}_af9.remove(this.contentNode,"dijitTreeContentExpanded");this._setExpando();this._updateItemClasses(this.item);var def,_b20=_afe.wipeOut({node:this.containerNode,duration:_b04.defaultDuration,onEnd:function(){def.resolve(true);}});def=(this._collapseDeferred=new _af7(function(){_b20.stop();}));_b20.play();return def;},indent:0,setChildItems:function(_b21){var tree=this.tree,_b22=tree.model,defs=[];var _b23=this.getChildren();_af3.forEach(_b23,function(_b24){_b07.prototype.removeChild.call(this,_b24);},this);this.defer(function(){_af3.forEach(_b23,function(node){if(!node._destroyed&&!node.getParent()){tree.dndController.removeTreeNode(node);var id=_b22.getIdentity(node.item),ary=tree._itemNodesMap[id];if(ary.length==1){delete tree._itemNodesMap[id];}else{var _b25=_af3.indexOf(ary,node);if(_b25!=-1){ary.splice(_b25,1);}}node.destroyRecursive();}});});this.state="LOADED";if(_b21&&_b21.length>0){this.isExpandable=true;_af3.forEach(_b21,function(item){var id=_b22.getIdentity(item),_b26=tree._itemNodesMap[id],node;if(_b26){for(var i=0;i<_b26.length;i++){if(_b26[i]&&!_b26[i].getParent()){node=_b26[i];node.set("indent",this.indent+1);break;}}}if(!node){node=this.tree._createTreeNode({item:item,tree:tree,isExpandable:_b22.mayHaveChildren(item),label:tree.getLabel(item),tooltip:tree.getTooltip(item),ownerDocument:tree.ownerDocument,dir:tree.dir,lang:tree.lang,textDir:tree.textDir,indent:this.indent+1});if(_b26){_b26.push(node);}else{tree._itemNodesMap[id]=[node];}}this.addChild(node);if(this.tree.autoExpand||this.tree._state(node)){defs.push(tree._expandNode(node));}},this);_af3.forEach(this.getChildren(),function(_b27){_b27._updateLayout();});}else{this.isExpandable=false;}if(this._setExpando){this._setExpando(false);}this._updateItemClasses(this.item);if(this==tree.rootNode){var fc=this.tree.showRoot?this:this.getChildren()[0];if(fc){fc.setFocusable(true);tree.lastFocused=fc;}else{tree.domNode.setAttribute("tabIndex","0");}}var def=new _af8(defs);this.tree._startPaint(def);return def;},getTreePath:function(){var node=this;var path=[];while(node&&node!==this.tree.rootNode){path.unshift(node.item);node=node.getParent();}path.unshift(this.tree.rootNode.item);return path;},getIdentity:function(){return this.tree.model.getIdentity(this.item);},removeChild:function(node){this.inherited(arguments);var _b28=this.getChildren();if(_b28.length==0){this.isExpandable=false;this.collapse();}_af3.forEach(_b28,function(_b29){_b29._updateLayout();});},makeExpandable:function(){this.isExpandable=true;this._setExpando(false);},setSelected:function(_b2a){this.labelNode.setAttribute("aria-selected",_b2a?"true":"false");_af9.toggle(this.rowNode,"dijitTreeRowSelected",_b2a);},setFocusable:function(_b2b){this.labelNode.setAttribute("tabIndex",_b2b?"0":"-1");},_setTextDirAttr:function(_b2c){if(_b2c&&((this.textDir!=_b2c)||!this._created)){this._set("textDir",_b2c);this.applyTextDir(this.labelNode,this.labelNode.innerText||this.labelNode.textContent||"");_af3.forEach(this.getChildren(),function(_b2d){_b2d.set("textDir",_b2c);},this);}}});var Tree=_af6("dijit.Tree",[_b05,_b06],{store:null,model:null,query:null,label:"",showRoot:true,childrenAttr:["children"],paths:[],path:[],selectedItems:null,selectedItem:null,openOnClick:false,openOnDblClick:false,templateString:_b0b,persist:true,autoExpand:false,dndController:_b0e,dndParams:["onDndDrop","itemCreator","onDndCancel","checkAcceptance","checkItemAcceptance","dragThreshold","betweenThreshold"],onDndDrop:null,itemCreator:null,onDndCancel:null,checkAcceptance:null,checkItemAcceptance:null,dragThreshold:5,betweenThreshold:0,_nodePixelIndent:19,_publish:function(_b2e,_b2f){_b00.publish(this.id,lang.mixin({tree:this,event:_b2e},_b2f||{}));},postMixInProperties:function(){this.tree=this;if(this.autoExpand){this.persist=false;}this._itemNodesMap={};if(!this.cookieName&&this.id){this.cookieName=this.id+"SaveStateCookie";}this.expandChildrenDeferred=new _af7();this.pendingCommandsDeferred=this.expandChildrenDeferred;this.inherited(arguments);},postCreate:function(){this._initState();var self=this;this.own(on(this.domNode,on.selector(".dijitTreeNode",_b01.enter),function(evt){self._onNodeMouseEnter(_b03.byNode(this),evt);}),on(this.domNode,on.selector(".dijitTreeNode",_b01.leave),function(evt){self._onNodeMouseLeave(_b03.byNode(this),evt);}),on(this.domNode,on.selector(".dijitTreeNode","click"),function(evt){self._onClick(_b03.byNode(this),evt);}),on(this.domNode,on.selector(".dijitTreeNode","dblclick"),function(evt){self._onDblClick(_b03.byNode(this),evt);}),on(this.domNode,on.selector(".dijitTreeNode","keypress"),function(evt){self._onKeyPress(_b03.byNode(this),evt);}),on(this.domNode,on.selector(".dijitTreeNode","keydown"),function(evt){self._onKeyDown(_b03.byNode(this),evt);}),on(this.domNode,on.selector(".dijitTreeRow","focusin"),function(evt){self._onNodeFocus(_b03.getEnclosingWidget(this),evt);}));if(!this.model){this._store2model();}this.connect(this.model,"onChange","_onItemChange");this.connect(this.model,"onChildrenChange","_onItemChildrenChange");this.connect(this.model,"onDelete","_onItemDelete");this.inherited(arguments);if(this.dndController){if(lang.isString(this.dndController)){this.dndController=lang.getObject(this.dndController);}var _b30={};for(var i=0;i<this.dndParams.length;i++){if(this[this.dndParams[i]]){_b30[this.dndParams[i]]=this[this.dndParams[i]];}}this.dndController=new this.dndController(this,_b30);}this._load();if(!this.params.path&&!this.params.paths&&this.persist){this.set("paths",this.dndController._getSavedPaths());}this.onLoadDeferred=this.pendingCommandsDeferred;this.onLoadDeferred.then(lang.hitch(this,"onLoad"));},_store2model:function(){this._v10Compat=true;_aff.deprecated("Tree: from version 2.0, should specify a model object rather than a store/query");var _b31={id:this.id+"_ForestStoreModel",store:this.store,query:this.query,childrenAttrs:this.childrenAttr};if(this.params.mayHaveChildren){_b31.mayHaveChildren=lang.hitch(this,"mayHaveChildren");}if(this.params.getItemChildren){_b31.getChildren=lang.hitch(this,function(item,_b32,_b33){this.getItemChildren((this._v10Compat&&item===this.model.root)?null:item,_b32,_b33);});}this.model=new _b0d(_b31);this.showRoot=Boolean(this.label);},onLoad:function(){},_load:function(){this.model.getRoot(lang.hitch(this,function(item){var rn=(this.rootNode=this.tree._createTreeNode({item:item,tree:this,isExpandable:true,label:this.label||this.getLabel(item),textDir:this.textDir,indent:this.showRoot?0:-1}));if(!this.showRoot){rn.rowNode.style.display="none";this.domNode.setAttribute("role","presentation");this.domNode.removeAttribute("aria-expanded");this.domNode.removeAttribute("aria-multiselectable");rn.labelNode.setAttribute("role","presentation");rn.containerNode.setAttribute("role","tree");rn.containerNode.setAttribute("aria-expanded","true");rn.containerNode.setAttribute("aria-multiselectable",!this.dndController.singular);}else{this.domNode.setAttribute("aria-multiselectable",!this.dndController.singular);}this.domNode.appendChild(rn.domNode);var _b34=this.model.getIdentity(item);if(this._itemNodesMap[_b34]){this._itemNodesMap[_b34].push(rn);}else{this._itemNodesMap[_b34]=[rn];}rn._updateLayout();this._expandNode(rn).then(lang.hitch(this,function(){this.expandChildrenDeferred.resolve(true);}));}),lang.hitch(this,function(err){console.error(this,": error loading root: ",err);}));},getNodesByItem:function(item){if(!item){return [];}var _b35=lang.isString(item)?item:this.model.getIdentity(item);return [].concat(this._itemNodesMap[_b35]);},_setSelectedItemAttr:function(item){this.set("selectedItems",[item]);},_setSelectedItemsAttr:function(_b36){var tree=this;return this.pendingCommandsDeferred=this.pendingCommandsDeferred.then(lang.hitch(this,function(){var _b37=_af3.map(_b36,function(item){return (!item||lang.isString(item))?item:tree.model.getIdentity(item);});var _b38=[];_af3.forEach(_b37,function(id){_b38=_b38.concat(tree._itemNodesMap[id]||[]);});this.set("selectedNodes",_b38);}));},_setPathAttr:function(path){if(path.length){return this.set("paths",[path]);}else{return this.set("paths",[]);}},_setPathsAttr:function(_b39){var tree=this;return this.pendingCommandsDeferred=this.pendingCommandsDeferred.then(function(){return new _af8(_af3.map(_b39,function(path){var d=new _af7();path=_af3.map(path,function(item){return lang.isString(item)?item:tree.model.getIdentity(item);});if(path.length){_b3a(path,[tree.rootNode],d);}else{d.reject(new Tree.PathError("Empty path"));}return d;}));}).then(_b3b);function _b3a(path,_b3c,def){var _b3d=path.shift();var _b3e=_af3.filter(_b3c,function(node){return node.getIdentity()==_b3d;})[0];if(!!_b3e){if(path.length){tree._expandNode(_b3e).then(function(){_b3a(path,_b3e.getChildren(),def);});}else{def.resolve(_b3e);}}else{def.reject(new Tree.PathError("Could not expand path at "+_b3d));}};function _b3b(_b3f){tree.set("selectedNodes",_af3.map(_af3.filter(_b3f,function(x){return x[0];}),function(x){return x[1];}));};},_setSelectedNodeAttr:function(node){this.set("selectedNodes",[node]);},_setSelectedNodesAttr:function(_b40){this.dndController.setSelection(_b40);},expandAll:function(){var _b41=this;function _b42(node){var def=new dojo.Deferred();_b41._expandNode(node).then(function(){var _b43=_af3.filter(node.getChildren()||[],function(node){return node.isExpandable;}),defs=_af3.map(_b43,_b42);new dojo.DeferredList(defs).then(function(){def.resolve(true);});});return def;};return _b42(this.rootNode);},collapseAll:function(){var _b44=this;function _b45(node){var def=new dojo.Deferred();def.label="collapseAllDeferred";var _b46=_af3.filter(node.getChildren()||[],function(node){return node.isExpandable;}),defs=_af3.map(_b46,_b45);new dojo.DeferredList(defs).then(function(){if(!node.isExpanded||(node==_b44.rootNode&&!_b44.showRoot)){def.resolve(true);}else{_b44._collapseNode(node).then(function(){def.resolve(true);});}});return def;};return _b45(this.rootNode);},mayHaveChildren:function(){},getItemChildren:function(){},getLabel:function(item){return this.model.getLabel(item);},getIconClass:function(item,_b47){return (!item||this.model.mayHaveChildren(item))?(_b47?"dijitFolderOpened":"dijitFolderClosed"):"dijitLeaf";},getLabelClass:function(){},getRowClass:function(){},getIconStyle:function(){},getLabelStyle:function(){},getRowStyle:function(){},getTooltip:function(){return "";},_onKeyPress:function(_b48,e){if(e.charCode<=32){return;}if(!e.altKey&&!e.ctrlKey&&!e.shiftKey&&!e.metaKey){var c=String.fromCharCode(e.charCode);this._onLetterKeyNav({node:_b48,key:c.toLowerCase()});_afc.stop(e);}},_onKeyDown:function(_b49,e){var key=e.keyCode;var map=this._keyHandlerMap;if(!map){map={};map[keys.ENTER]=map[keys.SPACE]=map[" "]="_onEnterKey";map[this.isLeftToRight()?keys.LEFT_ARROW:keys.RIGHT_ARROW]="_onLeftArrow";map[this.isLeftToRight()?keys.RIGHT_ARROW:keys.LEFT_ARROW]="_onRightArrow";map[keys.UP_ARROW]="_onUpArrow";map[keys.DOWN_ARROW]="_onDownArrow";map[keys.HOME]="_onHomeKey";map[keys.END]="_onEndKey";this._keyHandlerMap=map;}if(this._keyHandlerMap[key]){if(this._curSearch){this._curSearch.timer.remove();delete this._curSearch;}this[this._keyHandlerMap[key]]({node:_b49,item:_b49.item,evt:e});_afc.stop(e);}},_onEnterKey:function(_b4a){this._publish("execute",{item:_b4a.item,node:_b4a.node});this.dndController.userSelect(_b4a.node,_af4.isCopyKey(_b4a.evt),_b4a.evt.shiftKey);this.onClick(_b4a.item,_b4a.node,_b4a.evt);},_onDownArrow:function(_b4b){var node=this._getNextNode(_b4b.node);if(node&&node.isTreeNode){this.focusNode(node);}},_onUpArrow:function(_b4c){var node=_b4c.node;var _b4d=node.getPreviousSibling();if(_b4d){node=_b4d;while(node.isExpandable&&node.isExpanded&&node.hasChildren()){var _b4e=node.getChildren();node=_b4e[_b4e.length-1];}}else{var _b4f=node.getParent();if(!(!this.showRoot&&_b4f===this.rootNode)){node=_b4f;}}if(node&&node.isTreeNode){this.focusNode(node);}},_onRightArrow:function(_b50){var node=_b50.node;if(node.isExpandable&&!node.isExpanded){this._expandNode(node);}else{if(node.hasChildren()){node=node.getChildren()[0];if(node&&node.isTreeNode){this.focusNode(node);}}}},_onLeftArrow:function(_b51){var node=_b51.node;if(node.isExpandable&&node.isExpanded){this._collapseNode(node);}else{var _b52=node.getParent();if(_b52&&_b52.isTreeNode&&!(!this.showRoot&&_b52===this.rootNode)){this.focusNode(_b52);}}},_onHomeKey:function(){var node=this._getRootOrFirstNode();if(node){this.focusNode(node);}},_onEndKey:function(){var node=this.rootNode;while(node.isExpanded){var c=node.getChildren();node=c[c.length-1];}if(node&&node.isTreeNode){this.focusNode(node);}},multiCharSearchDuration:250,_onLetterKeyNav:function(_b53){var cs=this._curSearch;if(cs){cs.pattern=cs.pattern+_b53.key;cs.timer.remove();}else{cs=this._curSearch={pattern:_b53.key,startNode:_b53.node};}cs.timer=this.defer(function(){delete this._curSearch;},this.multiCharSearchDuration);var node=cs.startNode;do{node=this._getNextNode(node);if(!node){node=this._getRootOrFirstNode();}}while(node!==cs.startNode&&(node.label.toLowerCase().substr(0,cs.pattern.length)!=cs.pattern));if(node&&node.isTreeNode){if(node!==cs.startNode){this.focusNode(node);}}},isExpandoNode:function(node,_b54){return dom.isDescendant(node,_b54.expandoNode)||dom.isDescendant(node,_b54.expandoNodeText);},_onClick:function(_b55,e){var _b56=e.target,_b57=this.isExpandoNode(_b56,_b55);if((this.openOnClick&&_b55.isExpandable)||_b57){if(_b55.isExpandable){this._onExpandoClick({node:_b55});}}else{this._publish("execute",{item:_b55.item,node:_b55,evt:e});this.onClick(_b55.item,_b55,e);this.focusNode(_b55);}_afc.stop(e);},_onDblClick:function(_b58,e){var _b59=e.target,_b5a=(_b59==_b58.expandoNode||_b59==_b58.expandoNodeText);if((this.openOnDblClick&&_b58.isExpandable)||_b5a){if(_b58.isExpandable){this._onExpandoClick({node:_b58});}}else{this._publish("execute",{item:_b58.item,node:_b58,evt:e});this.onDblClick(_b58.item,_b58,e);this.focusNode(_b58);}_afc.stop(e);},_onExpandoClick:function(_b5b){var node=_b5b.node;this.focusNode(node);if(node.isExpanded){this._collapseNode(node);}else{this._expandNode(node);}},onClick:function(){},onDblClick:function(){},onOpen:function(){},onClose:function(){},_getNextNode:function(node){if(node.isExpandable&&node.isExpanded&&node.hasChildren()){return node.getChildren()[0];}else{while(node&&node.isTreeNode){var _b5c=node.getNextSibling();if(_b5c){return _b5c;}node=node.getParent();}return null;}},_getRootOrFirstNode:function(){return this.showRoot?this.rootNode:this.rootNode.getChildren()[0];},_collapseNode:function(node){if(node._expandNodeDeferred){delete node._expandNodeDeferred;}if(node.state=="LOADING"){return;}if(node.isExpanded){var ret=node.collapse();this.onClose(node.item,node);this._state(node,false);this._startPaint(ret);return ret;}},_expandNode:function(node){var def=new _af7();if(node._expandNodeDeferred){return node._expandNodeDeferred;}var _b5d=this.model,item=node.item,_b5e=this;if(!node._loadDeferred){node.markProcessing();node._loadDeferred=new _af7();_b5d.getChildren(item,function(_b5f){node.unmarkProcessing();node.setChildItems(_b5f).then(function(){node._loadDeferred.resolve(_b5f);});},function(err){console.error(_b5e,": error loading "+node.label+" children: ",err);node._loadDeferred.reject(err);});}node._loadDeferred.then(lang.hitch(this,function(){node.expand().then(function(){def.resolve(true);});this.onOpen(node.item,node);this._state(node,true);}));this._startPaint(def);return def;},focusNode:function(node){_b02.focus(node.labelNode);},_onNodeFocus:function(node){if(node&&node!=this.lastFocused){if(this.lastFocused&&!this.lastFocused._destroyed){this.lastFocused.setFocusable(false);}node.setFocusable(true);this.lastFocused=node;}},_onNodeMouseEnter:function(){},_onNodeMouseLeave:function(){},_onItemChange:function(item){var _b60=this.model,_b61=_b60.getIdentity(item),_b62=this._itemNodesMap[_b61];if(_b62){var _b63=this.getLabel(item),_b64=this.getTooltip(item);_af3.forEach(_b62,function(node){node.set({item:item,label:_b63,tooltip:_b64});node._updateItemClasses(item);});}},_onItemChildrenChange:function(_b65,_b66){var _b67=this.model,_b68=_b67.getIdentity(_b65),_b69=this._itemNodesMap[_b68];if(_b69){_af3.forEach(_b69,function(_b6a){_b6a.setChildItems(_b66);});}},_onItemDelete:function(item){var _b6b=this.model,_b6c=_b6b.getIdentity(item),_b6d=this._itemNodesMap[_b6c];if(_b6d){_af3.forEach(_b6d,function(node){this.dndController.removeTreeNode(node);var _b6e=node.getParent();if(_b6e){_b6e.removeChild(node);}node.destroyRecursive();},this);delete this._itemNodesMap[_b6c];}},_initState:function(){this._openedNodes={};if(this.persist&&this.cookieName){var oreo=_af5(this.cookieName);if(oreo){_af3.forEach(oreo.split(","),function(item){this._openedNodes[item]=true;},this);}}},_state:function(node,_b6f){if(!this.persist){return false;}var path=_af3.map(node.getTreePath(),function(item){return this.model.getIdentity(item);},this).join("/");if(arguments.length===1){return this._openedNodes[path];}else{if(_b6f){this._openedNodes[path]=true;}else{delete this._openedNodes[path];}if(this.persist&&this.cookieName){var ary=[];for(var id in this._openedNodes){ary.push(id);}_af5(this.cookieName,ary.join(","),{expires:365});}}},destroy:function(){if(this._curSearch){this._curSearch.timer.remove();delete this._curSearch;}if(this.rootNode){this.rootNode.destroyRecursive();}if(this.dndController&&!lang.isString(this.dndController)){this.dndController.destroy();}this.rootNode=null;this.inherited(arguments);},destroyRecursive:function(){this.destroy();},resize:function(_b70){if(_b70){_afa.setMarginBox(this.domNode,_b70);}this._nodePixelIndent=_afa.position(this.tree.indentDetector).w||this._nodePixelIndent;this.expandChildrenDeferred.then(lang.hitch(this,function(){this.rootNode.set("indent",this.showRoot?0:-1);this._adjustWidths();}));},_outstandingPaintOperations:0,_startPaint:function(p){this._outstandingPaintOperations++;if(this._adjustWidthsTimer){this._adjustWidthsTimer.remove();delete this._adjustWidthsTimer;}var oc=lang.hitch(this,function(){this._outstandingPaintOperations--;if(this._outstandingPaintOperations<=0&&!this._adjustWidthsTimer&&this._started){this._adjustWidthsTimer=this.defer("_adjustWidths");}});when(p,oc,oc);},_adjustWidths:function(){if(this._adjustWidthsTimer){this._adjustWidthsTimer.remove();delete this._adjustWidthsTimer;}var _b71=0,_b72=[];function _b73(_b74){var node=_b74.rowNode;node.style.width="auto";_b71=Math.max(_b71,node.clientWidth);_b72.push(node);if(_b74.isExpanded){_af3.forEach(_b74.getChildren(),_b73);}};_b73(this.rootNode);_b71=Math.max(_b71,_afa.getContentBox(this.domNode).w);_af3.forEach(_b72,function(node){node.style.width=_b71+"px";});},_createTreeNode:function(args){return new _b11(args);},_setTextDirAttr:function(_b75){if(_b75&&this.textDir!=_b75){this._set("textDir",_b75);this.rootNode.set("textDir",_b75);}}});Tree.PathError=_afd("TreePathError");Tree._TreeNode=_b11;return Tree;});},"dojo/fx":function(){define("dojo/fx",["./_base/lang","./Evented","./_base/kernel","./_base/array","./_base/connect","./_base/fx","./dom","./dom-style","./dom-geometry","./ready","require"],function(lang,_b76,dojo,_b77,_b78,_b79,dom,_b7a,geom,_b7b,_b7c){if(!dojo.isAsync){_b7b(0,function(){var _b7d=["./fx/Toggler"];_b7c(_b7d);});}var _b7e=dojo.fx={};var _b7f={_fire:function(evt,args){if(this[evt]){this[evt].apply(this,args||[]);}return this;}};var _b80=function(_b81){this._index=-1;this._animations=_b81||[];this._current=this._onAnimateCtx=this._onEndCtx=null;this.duration=0;_b77.forEach(this._animations,function(a){this.duration+=a.duration;if(a.delay){this.duration+=a.delay;}},this);};_b80.prototype=new _b76();lang.extend(_b80,{_onAnimate:function(){this._fire("onAnimate",arguments);},_onEnd:function(){_b78.disconnect(this._onAnimateCtx);_b78.disconnect(this._onEndCtx);this._onAnimateCtx=this._onEndCtx=null;if(this._index+1==this._animations.length){this._fire("onEnd");}else{this._current=this._animations[++this._index];this._onAnimateCtx=_b78.connect(this._current,"onAnimate",this,"_onAnimate");this._onEndCtx=_b78.connect(this._current,"onEnd",this,"_onEnd");this._current.play(0,true);}},play:function(_b82,_b83){if(!this._current){this._current=this._animations[this._index=0];}if(!_b83&&this._current.status()=="playing"){return this;}var _b84=_b78.connect(this._current,"beforeBegin",this,function(){this._fire("beforeBegin");}),_b85=_b78.connect(this._current,"onBegin",this,function(arg){this._fire("onBegin",arguments);}),_b86=_b78.connect(this._current,"onPlay",this,function(arg){this._fire("onPlay",arguments);_b78.disconnect(_b84);_b78.disconnect(_b85);_b78.disconnect(_b86);});if(this._onAnimateCtx){_b78.disconnect(this._onAnimateCtx);}this._onAnimateCtx=_b78.connect(this._current,"onAnimate",this,"_onAnimate");if(this._onEndCtx){_b78.disconnect(this._onEndCtx);}this._onEndCtx=_b78.connect(this._current,"onEnd",this,"_onEnd");this._current.play.apply(this._current,arguments);return this;},pause:function(){if(this._current){var e=_b78.connect(this._current,"onPause",this,function(arg){this._fire("onPause",arguments);_b78.disconnect(e);});this._current.pause();}return this;},gotoPercent:function(_b87,_b88){this.pause();var _b89=this.duration*_b87;this._current=null;_b77.some(this._animations,function(a){if(a.duration<=_b89){this._current=a;return true;}_b89-=a.duration;return false;});if(this._current){this._current.gotoPercent(_b89/this._current.duration,_b88);}return this;},stop:function(_b8a){if(this._current){if(_b8a){for(;this._index+1<this._animations.length;++this._index){this._animations[this._index].stop(true);}this._current=this._animations[this._index];}var e=_b78.connect(this._current,"onStop",this,function(arg){this._fire("onStop",arguments);_b78.disconnect(e);});this._current.stop();}return this;},status:function(){return this._current?this._current.status():"stopped";},destroy:function(){if(this._onAnimateCtx){_b78.disconnect(this._onAnimateCtx);}if(this._onEndCtx){_b78.disconnect(this._onEndCtx);}}});lang.extend(_b80,_b7f);_b7e.chain=function(_b8b){return new _b80(_b8b);};var _b8c=function(_b8d){this._animations=_b8d||[];this._connects=[];this._finished=0;this.duration=0;_b77.forEach(_b8d,function(a){var _b8e=a.duration;if(a.delay){_b8e+=a.delay;}if(this.duration<_b8e){this.duration=_b8e;}this._connects.push(_b78.connect(a,"onEnd",this,"_onEnd"));},this);this._pseudoAnimation=new _b79.Animation({curve:[0,1],duration:this.duration});var self=this;_b77.forEach(["beforeBegin","onBegin","onPlay","onAnimate","onPause","onStop","onEnd"],function(evt){self._connects.push(_b78.connect(self._pseudoAnimation,evt,function(){self._fire(evt,arguments);}));});};lang.extend(_b8c,{_doAction:function(_b8f,args){_b77.forEach(this._animations,function(a){a[_b8f].apply(a,args);});return this;},_onEnd:function(){if(++this._finished>this._animations.length){this._fire("onEnd");}},_call:function(_b90,args){var t=this._pseudoAnimation;t[_b90].apply(t,args);},play:function(_b91,_b92){this._finished=0;this._doAction("play",arguments);this._call("play",arguments);return this;},pause:function(){this._doAction("pause",arguments);this._call("pause",arguments);return this;},gotoPercent:function(_b93,_b94){var ms=this.duration*_b93;_b77.forEach(this._animations,function(a){a.gotoPercent(a.duration<ms?1:(ms/a.duration),_b94);});this._call("gotoPercent",arguments);return this;},stop:function(_b95){this._doAction("stop",arguments);this._call("stop",arguments);return this;},status:function(){return this._pseudoAnimation.status();},destroy:function(){_b77.forEach(this._connects,_b78.disconnect);}});lang.extend(_b8c,_b7f);_b7e.combine=function(_b96){return new _b8c(_b96);};_b7e.wipeIn=function(args){var node=args.node=dom.byId(args.node),s=node.style,o;var anim=_b79.animateProperty(lang.mixin({properties:{height:{start:function(){o=s.overflow;s.overflow="hidden";if(s.visibility=="hidden"||s.display=="none"){s.height="1px";s.display="";s.visibility="";return 1;}else{var _b97=_b7a.get(node,"height");return Math.max(_b97,1);}},end:function(){return node.scrollHeight;}}}},args));var fini=function(){s.height="auto";s.overflow=o;};_b78.connect(anim,"onStop",fini);_b78.connect(anim,"onEnd",fini);return anim;};_b7e.wipeOut=function(args){var node=args.node=dom.byId(args.node),s=node.style,o;var anim=_b79.animateProperty(lang.mixin({properties:{height:{end:1}}},args));_b78.connect(anim,"beforeBegin",function(){o=s.overflow;s.overflow="hidden";s.display="";});var fini=function(){s.overflow=o;s.height="auto";s.display="none";};_b78.connect(anim,"onStop",fini);_b78.connect(anim,"onEnd",fini);return anim;};_b7e.slideTo=function(args){var node=args.node=dom.byId(args.node),top=null,left=null;var init=(function(n){return function(){var cs=_b7a.getComputedStyle(n);var pos=cs.position;top=(pos=="absolute"?n.offsetTop:parseInt(cs.top)||0);left=(pos=="absolute"?n.offsetLeft:parseInt(cs.left)||0);if(pos!="absolute"&&pos!="relative"){var ret=geom.position(n,true);top=ret.y;left=ret.x;n.style.position="absolute";n.style.top=top+"px";n.style.left=left+"px";}};})(node);init();var anim=_b79.animateProperty(lang.mixin({properties:{top:args.top||0,left:args.left||0}},args));_b78.connect(anim,"beforeBegin",anim,init);return anim;};return _b7e;});},"url:dijit/templates/TreeNode.html":"<div class=\"dijitTreeNode\" role=\"presentation\"\n\t><div data-dojo-attach-point=\"rowNode\" class=\"dijitTreeRow dijitInline\" role=\"presentation\"\n\t\t><div data-dojo-attach-point=\"indentNode\" class=\"dijitInline\"></div\n\t\t><img src=\"${_blankGif}\" alt=\"\" data-dojo-attach-point=\"expandoNode\" class=\"dijitTreeExpando\" role=\"presentation\"\n\t\t/><span data-dojo-attach-point=\"expandoNodeText\" class=\"dijitExpandoText\" role=\"presentation\"\n\t\t></span\n\t\t><span data-dojo-attach-point=\"contentNode\"\n\t\t\tclass=\"dijitTreeContent\" role=\"presentation\">\n\t\t\t<img src=\"${_blankGif}\" alt=\"\" data-dojo-attach-point=\"iconNode\" class=\"dijitIcon dijitTreeIcon\" role=\"presentation\"\n\t\t\t/><span data-dojo-attach-point=\"labelNode\" class=\"dijitTreeLabel\" role=\"treeitem\" tabindex=\"-1\" aria-selected=\"false\"></span>\n\t\t</span\n\t></div>\n\t<div data-dojo-attach-point=\"containerNode\" class=\"dijitTreeContainer\" role=\"presentation\" style=\"display: none;\"></div>\n</div>\n","url:dijit/templates/Tree.html":"<div class=\"dijitTree dijitTreeContainer\" role=\"tree\">\n\t<div class=\"dijitInline dijitTreeIndent\" style=\"position: absolute; top: -9999px\" data-dojo-attach-point=\"indentDetector\"></div>\n</div>\n","dijit/tree/TreeStoreModel":function(){define("dijit/tree/TreeStoreModel",["dojo/_base/array","dojo/aspect","dojo/_base/declare","dojo/_base/lang"],function(_b98,_b99,_b9a,lang){return _b9a("dijit.tree.TreeStoreModel",null,{store:null,childrenAttrs:["children"],newItemIdAttr:"id",labelAttr:"",root:null,query:null,deferItemLoadingUntilExpand:false,constructor:function(args){lang.mixin(this,args);this.connects=[];var _b9b=this.store;if(!_b9b.getFeatures()["dojo.data.api.Identity"]){throw new Error("dijit.tree.TreeStoreModel: store must support dojo.data.Identity");}if(_b9b.getFeatures()["dojo.data.api.Notification"]){this.connects=this.connects.concat([_b99.after(_b9b,"onNew",lang.hitch(this,"onNewItem"),true),_b99.after(_b9b,"onDelete",lang.hitch(this,"onDeleteItem"),true),_b99.after(_b9b,"onSet",lang.hitch(this,"onSetItem"),true)]);}},destroy:function(){var h;while(h=this.connects.pop()){h.remove();}},getRoot:function(_b9c,_b9d){if(this.root){_b9c(this.root);}else{this.store.fetch({query:this.query,onComplete:lang.hitch(this,function(_b9e){if(_b9e.length!=1){throw new Error("dijit.tree.TreeStoreModel: root query returned "+_b9e.length+" items, but must return exactly one");}this.root=_b9e[0];_b9c(this.root);}),onError:_b9d});}},mayHaveChildren:function(item){return _b98.some(this.childrenAttrs,function(attr){return this.store.hasAttribute(item,attr);},this);},getChildren:function(_b9f,_ba0,_ba1){var _ba2=this.store;if(!_ba2.isItemLoaded(_b9f)){var _ba3=lang.hitch(this,arguments.callee);_ba2.loadItem({item:_b9f,onItem:function(_ba4){_ba3(_ba4,_ba0,_ba1);},onError:_ba1});return;}var _ba5=[];for(var i=0;i<this.childrenAttrs.length;i++){var vals=_ba2.getValues(_b9f,this.childrenAttrs[i]);_ba5=_ba5.concat(vals);}var _ba6=0;if(!this.deferItemLoadingUntilExpand){_b98.forEach(_ba5,function(item){if(!_ba2.isItemLoaded(item)){_ba6++;}});}if(_ba6==0){_ba0(_ba5);}else{_b98.forEach(_ba5,function(item,idx){if(!_ba2.isItemLoaded(item)){_ba2.loadItem({item:item,onItem:function(item){_ba5[idx]=item;if(--_ba6==0){_ba0(_ba5);}},onError:_ba1});}});}},isItem:function(_ba7){return this.store.isItem(_ba7);},fetchItemByIdentity:function(_ba8){this.store.fetchItemByIdentity(_ba8);},getIdentity:function(item){return this.store.getIdentity(item);},getLabel:function(item){if(this.labelAttr){return this.store.getValue(item,this.labelAttr);}else{return this.store.getLabel(item);}},newItem:function(args,_ba9,_baa){var _bab={parent:_ba9,attribute:this.childrenAttrs[0]},_bac;if(this.newItemIdAttr&&args[this.newItemIdAttr]){this.fetchItemByIdentity({identity:args[this.newItemIdAttr],scope:this,onItem:function(item){if(item){this.pasteItem(item,null,_ba9,true,_baa);}else{_bac=this.store.newItem(args,_bab);if(_bac&&(_baa!=undefined)){this.pasteItem(_bac,_ba9,_ba9,false,_baa);}}}});}else{_bac=this.store.newItem(args,_bab);if(_bac&&(_baa!=undefined)){this.pasteItem(_bac,_ba9,_ba9,false,_baa);}}},pasteItem:function(_bad,_bae,_baf,_bb0,_bb1){var _bb2=this.store,_bb3=this.childrenAttrs[0];if(_bae){_b98.forEach(this.childrenAttrs,function(attr){if(_bb2.containsValue(_bae,attr,_bad)){if(!_bb0){var _bb4=_b98.filter(_bb2.getValues(_bae,attr),function(x){return x!=_bad;});_bb2.setValues(_bae,attr,_bb4);}_bb3=attr;}});}if(_baf){if(typeof _bb1=="number"){var _bb5=_bb2.getValues(_baf,_bb3).slice();_bb5.splice(_bb1,0,_bad);_bb2.setValues(_baf,_bb3,_bb5);}else{_bb2.setValues(_baf,_bb3,_bb2.getValues(_baf,_bb3).concat(_bad));}}},onChange:function(){},onChildrenChange:function(){},onDelete:function(){},onNewItem:function(item,_bb6){if(!_bb6){return;}this.getChildren(_bb6.item,lang.hitch(this,function(_bb7){this.onChildrenChange(_bb6.item,_bb7);}));},onDeleteItem:function(item){this.onDelete(item);},onSetItem:function(item,_bb8){if(_b98.indexOf(this.childrenAttrs,_bb8)!=-1){this.getChildren(item,lang.hitch(this,function(_bb9){this.onChildrenChange(item,_bb9);}));}else{this.onChange(item);}}});});},"dijit/tree/ForestStoreModel":function(){define("dijit/tree/ForestStoreModel",["dojo/_base/array","dojo/_base/declare","dojo/_base/kernel","dojo/_base/lang","./TreeStoreModel"],function(_bba,_bbb,_bbc,lang,_bbd){return _bbb("dijit.tree.ForestStoreModel",_bbd,{rootId:"$root$",rootLabel:"ROOT",query:null,constructor:function(_bbe){this.root={store:this,root:true,id:_bbe.rootId,label:_bbe.rootLabel,children:_bbe.rootChildren};},mayHaveChildren:function(item){return item===this.root||this.inherited(arguments);},getChildren:function(_bbf,_bc0,_bc1){if(_bbf===this.root){if(this.root.children){_bc0(this.root.children);}else{this.store.fetch({query:this.query,onComplete:lang.hitch(this,function(_bc2){this.root.children=_bc2;_bc0(_bc2);}),onError:_bc1});}}else{this.inherited(arguments);}},isItem:function(_bc3){return (_bc3===this.root)?true:this.inherited(arguments);},fetchItemByIdentity:function(_bc4){if(_bc4.identity==this.root.id){var _bc5=_bc4.scope||_bbc.global;if(_bc4.onItem){_bc4.onItem.call(_bc5,this.root);}}else{this.inherited(arguments);}},getIdentity:function(item){return (item===this.root)?this.root.id:this.inherited(arguments);},getLabel:function(item){return (item===this.root)?this.root.label:this.inherited(arguments);},newItem:function(args,_bc6,_bc7){if(_bc6===this.root){this.onNewRootItem(args);return this.store.newItem(args);}else{return this.inherited(arguments);}},onNewRootItem:function(){},pasteItem:function(_bc8,_bc9,_bca,_bcb,_bcc){if(_bc9===this.root){if(!_bcb){this.onLeaveRoot(_bc8);}}this.inherited(arguments,[_bc8,_bc9===this.root?null:_bc9,_bca===this.root?null:_bca,_bcb,_bcc]);if(_bca===this.root){this.onAddToRoot(_bc8);}},onAddToRoot:function(item){},onLeaveRoot:function(item){},_requeryTop:function(){var _bcd=this.root.children||[];this.store.fetch({query:this.query,onComplete:lang.hitch(this,function(_bce){this.root.children=_bce;if(_bcd.length!=_bce.length||_bba.some(_bcd,function(item,idx){return _bce[idx]!=item;})){this.onChildrenChange(this.root,_bce);}})});},onNewItem:function(item,_bcf){this._requeryTop();this.inherited(arguments);},onDeleteItem:function(item){if(_bba.indexOf(this.root.children,item)!=-1){this._requeryTop();}this.inherited(arguments);},onSetItem:function(item,_bd0,_bd1,_bd2){this._requeryTop();this.inherited(arguments);}});});},"dijit/tree/_dndSelector":function(){define("dijit/tree/_dndSelector",["dojo/_base/array","dojo/_base/connect","dojo/_base/declare","dojo/_base/Deferred","dojo/_base/kernel","dojo/_base/lang","dojo/cookie","dojo/mouse","dojo/on","dojo/touch","./_dndContainer"],function(_bd3,_bd4,_bd5,_bd6,_bd7,lang,_bd8,_bd9,on,_bda,_bdb){return _bd5("dijit.tree._dndSelector",_bdb,{constructor:function(){this.selection={};this.anchor=null;if(!this.cookieName&&this.tree.id){this.cookieName=this.tree.id+"SaveSelectedCookie";}this.events.push(on(this.tree.domNode,_bda.press,lang.hitch(this,"onMouseDown")),on(this.tree.domNode,_bda.release,lang.hitch(this,"onMouseUp")),on(this.tree.domNode,_bda.move,lang.hitch(this,"onMouseMove")));},singular:false,getSelectedTreeNodes:function(){var _bdc=[],sel=this.selection;for(var i in sel){_bdc.push(sel[i]);}return _bdc;},selectNone:function(){this.setSelection([]);return this;},destroy:function(){this.inherited(arguments);this.selection=this.anchor=null;},addTreeNode:function(node,_bdd){this.setSelection(this.getSelectedTreeNodes().concat([node]));if(_bdd){this.anchor=node;}return node;},removeTreeNode:function(node){this.setSelection(this._setDifference(this.getSelectedTreeNodes(),[node]));return node;},isTreeNodeSelected:function(node){return node.id&&!!this.selection[node.id];},setSelection:function(_bde){var _bdf=this.getSelectedTreeNodes();_bd3.forEach(this._setDifference(_bdf,_bde),lang.hitch(this,function(node){node.setSelected(false);if(this.anchor==node){delete this.anchor;}delete this.selection[node.id];}));_bd3.forEach(this._setDifference(_bde,_bdf),lang.hitch(this,function(node){node.setSelected(true);this.selection[node.id]=node;}));this._updateSelectionProperties();},_setDifference:function(xs,ys){_bd3.forEach(ys,function(y){y.__exclude__=true;});var ret=_bd3.filter(xs,function(x){return !x.__exclude__;});_bd3.forEach(ys,function(y){delete y["__exclude__"];});return ret;},_updateSelectionProperties:function(){var _be0=this.getSelectedTreeNodes();var _be1=[],_be2=[],_be3=[];_bd3.forEach(_be0,function(node){var ary=node.getTreePath(),_be4=this.tree.model;_be2.push(node);_be1.push(ary);ary=_bd3.map(ary,function(item){return _be4.getIdentity(item);},this);_be3.push(ary.join("/"));},this);var _be5=_bd3.map(_be2,function(node){return node.item;});this.tree._set("paths",_be1);this.tree._set("path",_be1[0]||[]);this.tree._set("selectedNodes",_be2);this.tree._set("selectedNode",_be2[0]||null);this.tree._set("selectedItems",_be5);this.tree._set("selectedItem",_be5[0]||null);if(this.tree.persist&&_be3.length>0){_bd8(this.cookieName,_be3.join(","),{expires:365});}},_getSavedPaths:function(){var tree=this.tree;if(tree.persist&&tree.dndController.cookieName){var oreo,_be6=[];oreo=_bd8(tree.dndController.cookieName);if(oreo){_be6=_bd3.map(oreo.split(","),function(path){return path.split("/");});}return _be6;}},onMouseDown:function(e){if(!this.current||this.tree.isExpandoNode(e.target,this.current)){return;}if(_bd9.isLeft(e)){e.preventDefault();}else{if(e.type!="touchstart"){return;}}var _be7=this.current,copy=_bd4.isCopyKey(e),id=_be7.id;if(!this.singular&&!e.shiftKey&&this.selection[id]){this._doDeselect=true;return;}else{this._doDeselect=false;}this.userSelect(_be7,copy,e.shiftKey);},onMouseUp:function(e){if(!this._doDeselect){return;}this._doDeselect=false;this.userSelect(this.current,_bd4.isCopyKey(e),e.shiftKey);},onMouseMove:function(){this._doDeselect=false;},_compareNodes:function(n1,n2){if(n1===n2){return 0;}if("sourceIndex" in document.documentElement){return n1.sourceIndex-n2.sourceIndex;}else{if("compareDocumentPosition" in document.documentElement){return n1.compareDocumentPosition(n2)&2?1:-1;}else{if(document.createRange){var r1=doc.createRange();r1.setStartBefore(n1);var r2=doc.createRange();r2.setStartBefore(n2);return r1.compareBoundaryPoints(r1.END_TO_END,r2);}else{throw Error("dijit.tree._compareNodes don't know how to compare two different nodes in this browser");}}}},userSelect:function(node,_be8,_be9){if(this.singular){if(this.anchor==node&&_be8){this.selectNone();}else{this.setSelection([node]);this.anchor=node;}}else{if(_be9&&this.anchor){var cr=this._compareNodes(this.anchor.rowNode,node.rowNode),_bea,end,_beb=this.anchor;if(cr<0){_bea=_beb;end=node;}else{_bea=node;end=_beb;}var _bec=[];while(_bea!=end){_bec.push(_bea);_bea=this.tree._getNextNode(_bea);}_bec.push(end);this.setSelection(_bec);}else{if(this.selection[node.id]&&_be8){this.removeTreeNode(node);}else{if(_be8){this.addTreeNode(node,true);}else{this.setSelection([node]);this.anchor=node;}}}}},getItem:function(key){var _bed=this.selection[key];return {data:_bed,type:["treeNode"]};},forInSelectedItems:function(f,o){o=o||_bd7.global;for(var id in this.selection){f.call(o,this.getItem(id),id,this);}}});});},"dijit/tree/_dndContainer":function(){define("dijit/tree/_dndContainer",["dojo/aspect","dojo/_base/declare","dojo/dom-class","dojo/_base/event","dojo/_base/lang","dojo/on","dojo/touch"],function(_bee,_bef,_bf0,_bf1,lang,on,_bf2){return _bef("dijit.tree._dndContainer",null,{constructor:function(tree,_bf3){this.tree=tree;this.node=tree.domNode;lang.mixin(this,_bf3);this.current=null;this.containerState="";_bf0.add(this.node,"dojoDndContainer");this.events=[on(this.node,_bf2.enter,lang.hitch(this,"onOverEvent")),on(this.node,_bf2.leave,lang.hitch(this,"onOutEvent")),_bee.after(this.tree,"_onNodeMouseEnter",lang.hitch(this,"onMouseOver"),true),_bee.after(this.tree,"_onNodeMouseLeave",lang.hitch(this,"onMouseOut"),true),on(this.node,"dragstart",lang.hitch(_bf1,"stop")),on(this.node,"selectstart",lang.hitch(_bf1,"stop"))];},destroy:function(){var h;while(h=this.events.pop()){h.remove();}this.node=this.parent=null;},onMouseOver:function(_bf4){this.current=_bf4;},onMouseOut:function(){this.current=null;},_changeState:function(type,_bf5){var _bf6="dojoDnd"+type;var _bf7=type.toLowerCase()+"State";_bf0.replace(this.node,_bf6+_bf5,_bf6+this[_bf7]);this[_bf7]=_bf5;},_addItemClass:function(node,type){_bf0.add(node,"dojoDndItem"+type);},_removeItemClass:function(node,type){_bf0.remove(node,"dojoDndItem"+type);},onOverEvent:function(){this._changeState("Container","Over");},onOutEvent:function(){this._changeState("Container","");}});});},"epi/patch/dijit/Dialog":function(){define("epi/patch/dijit/Dialog",["dojo/_base/lang","dijit/Dialog"],function(lang,_bf8){lang.mixin(_bf8.prototype,{_onBlur:function(){}});_bf8.prototype._onBlur.nom="_onBlur";});},"epi/patch/dijit/focus":function(){define("epi/patch/dijit/focus",["dojo/aspect","dojo/_base/declare","dojo/dom","dojo/dom-attr","dojo/dom-construct","dojo/Evented","dojo/_base/lang","dojo/on","dojo/ready","dojo/sniff","dojo/Stateful","dojo/_base/unload","dojo/_base/window","dojo/window","dijit/a11y","dijit/registry","dijit"],function(_bf9,_bfa,dom,_bfb,_bfc,_bfd,lang,on,_bfe,has,_bff,_c00,win,_c01,a11y,_c02,_c03){var _c04=_bfa([_bff,_bfd],{curNode:null,activeStack:[],constructor:function(){var _c05=lang.hitch(this,function(node){if(dom.isDescendant(this.curNode,node)){this.set("curNode",null);}if(dom.isDescendant(this.prevNode,node)){this.set("prevNode",null);}});_bf9.before(_bfc,"empty",_c05);_bf9.before(_bfc,"destroy",_c05);},registerIframe:function(_c06){return this.registerWin(_c06.contentWindow,_c06);},registerWin:function(_c07,_c08){var _c09=this;var _c0a=function(evt){_c09._justMouseDowned=true;setTimeout(function(){_c09._justMouseDowned=false;},0);if(has("ie")&&evt&&evt.srcElement&&evt.srcElement.parentNode==null){return;}_c09._onTouchNode(_c08||evt.target||evt.srcElement,"mouse");};var doc=has("ie")<9?_c07.document.documentElement:_c07.document;if(doc){if(has("ie")<9){_c07.document.body.attachEvent("onmousedown",_c0a);var _c0b=function(evt){if(!evt.srcElement.tagName){return;}var tag=evt.srcElement.tagName.toLowerCase();if(tag=="#document"||tag=="body"){return;}if(a11y.isTabNavigable(evt.srcElement)){_c09._onFocusNode(_c08||evt.srcElement);}else{_c09._onTouchNode(_c08||evt.srcElement);}};doc.attachEvent("onfocusin",_c0b);var _c0c=function(evt){_c09._onBlurNode(_c08||evt.srcElement);};doc.attachEvent("onfocusout",_c0c);return {remove:function(){_c07.document.detachEvent("onmousedown",_c0a);doc.detachEvent("onfocusin",_c0b);doc.detachEvent("onfocusout",_c0c);doc=null;}};}else{doc.body.addEventListener("mousedown",_c0a,true);doc.body.addEventListener("touchstart",_c0a,true);var _c0d=function(evt){_c09._onFocusNode(_c08||evt.target);};doc.addEventListener("focus",_c0d,true);var _c0e=function(evt){_c09._onBlurNode(_c08||evt.target);};doc.addEventListener("blur",_c0e,true);return {remove:function(){doc.body.removeEventListener("mousedown",_c0a,true);doc.body.removeEventListener("touchstart",_c0a,true);doc.removeEventListener("focus",_c0d,true);doc.removeEventListener("blur",_c0e,true);doc=null;}};}}},_onBlurNode:function(node){if(this._clearFocusTimer){clearTimeout(this._clearFocusTimer);}this._clearFocusTimer=setTimeout(lang.hitch(this,function(){this.set("prevNode",this.curNode);this.set("curNode",null);}),0);if(this._justMouseDowned){return;}if(this._clearActiveWidgetsTimer){clearTimeout(this._clearActiveWidgetsTimer);}this._clearActiveWidgetsTimer=setTimeout(lang.hitch(this,function(){delete this._clearActiveWidgetsTimer;this._setStack([]);}),0);},_onTouchNode:function(node,by){if(this._clearActiveWidgetsTimer){clearTimeout(this._clearActiveWidgetsTimer);delete this._clearActiveWidgetsTimer;}var _c0f=[];try{while(node){var _c10=_bfb.get(node,"dijitPopupParent");if(_c10){node=_c02.byId(_c10).domNode;}else{if(node.tagName&&node.tagName.toLowerCase()=="body"){if(node===win.body()){break;}node=_c01.get(node.ownerDocument).frameElement;}else{var id=node.getAttribute&&node.getAttribute("widgetId"),_c11=id&&_c02.byId(id);if(_c11&&!(by=="mouse"&&_c11.get("disabled"))){_c0f.unshift(id);}node=node.parentNode;}}}}catch(e){}this._setStack(_c0f,by);},_onFocusNode:function(node){if(!node){return;}if(node.nodeType==9){return;}if(this._clearFocusTimer){clearTimeout(this._clearFocusTimer);delete this._clearFocusTimer;}this._onTouchNode(node);if(node==this.curNode){return;}this.set("prevNode",this.curNode);this.set("curNode",node);},_setStack:function(_c12,by){var _c13=this.activeStack;this.set("activeStack",_c12);for(var _c14=0;_c14<Math.min(_c13.length,_c12.length);_c14++){if(_c13[_c14]!=_c12[_c14]){break;}}var _c15;for(var i=_c13.length-1;i>=_c14;i--){_c15=_c02.byId(_c13[i]);if(_c15){_c15._hasBeenBlurred=true;_c15.set("focused",false);if(_c15._focusManager==this){_c15._onBlur(by);}this.emit("widget-blur",_c15,by);}}for(i=_c14;i<_c12.length;i++){_c15=_c02.byId(_c12[i]);if(_c15){_c15.set("focused",true);if(_c15._focusManager==this){_c15._onFocus(by);}this.emit("widget-focus",_c15,by);}}},focus:function(node){if(node){try{node.focus();}catch(e){}}}});var _c16=new _c04();_bfe(function(){var _c17=_c16.registerWin(_c01.get(win.doc));if(has("ie")){_c00.addOnWindowUnload(function(){if(_c17){_c17.remove();_c17=null;}});}});_c03.focus=function(node){_c16.focus(node);};for(var attr in _c16){if(!/^_/.test(attr)){_c03.focus[attr]=typeof _c16[attr]=="function"?lang.hitch(_c16,attr):_c16[attr];}}_c16.watch(function(attr,_c18,_c19){_c03.focus[attr]=_c19;});return _c16;});},"epi/patch/dojo/dnd/Selector":function(){define("epi/patch/dojo/dnd/Selector",["dojo/_base/lang","dojo/dnd/common","dojo/dnd/Selector","dojo/mouse"],function(lang,dnd,_c1a,_c1b){lang.mixin(_c1a.prototype,{onMouseDown:function(e){if(this.autoSync){this.sync();}if(!this.current){return;}if(!this.singular&&!dnd.getCopyKeyState(e)&&!e.shiftKey&&(this.current.id in this.selection)){this.simpleSelection=true;if(_c1b.isLeft(e)){e.preventDefault();}return;}if(!this.singular&&e.shiftKey){if(!dnd.getCopyKeyState(e)){this._removeSelection();}var c=this.getAllNodes();if(c.length){if(!this.anchor){this.anchor=c[0];this._addItemClass(this.anchor,"Anchor");}this.selection[this.anchor.id]=1;if(this.anchor!=this.current){var i=0,node;for(;i<c.length;++i){node=c[i];if(node==this.anchor||node==this.current){break;}}for(++i;i<c.length;++i){node=c[i];if(node==this.anchor||node==this.current){break;}this._addItemClass(node,"Selected");this.selection[node.id]=1;}this._addItemClass(this.current,"Selected");this.selection[this.current.id]=1;}}}else{if(this.singular){if(this.anchor==this.current){if(dnd.getCopyKeyState(e)){this.selectNone();}}else{this.selectNone();this.anchor=this.current;this._addItemClass(this.anchor,"Anchor");this.selection[this.current.id]=1;}}else{if(dnd.getCopyKeyState(e)){if(this.anchor==this.current){delete this.selection[this.anchor.id];this._removeAnchor();}else{if(this.current.id in this.selection){this._removeItemClass(this.current,"Selected");delete this.selection[this.current.id];}else{if(this.anchor){this._removeItemClass(this.anchor,"Anchor");this._addItemClass(this.anchor,"Selected");}this.anchor=this.current;this._addItemClass(this.current,"Anchor");this.selection[this.current.id]=1;}}}else{if(!(this.current.id in this.selection)){this.selectNone();this.anchor=this.current;this._addItemClass(this.current,"Anchor");this.selection[this.current.id]=1;}}}}e.preventDefault();}});_c1a.prototype.onMouseDown.nom="onMouseDown";});},"epi/patch/dojo/store/Observable":function(){define("epi/patch/dojo/store/Observable",["dojo/_base/kernel","dojo/_base/lang","dojo/_base/Deferred","dojo/_base/array"],function(_c1c,lang,_c1d,_c1e){var _c1f=function(_c20){var _c21,_c22=[],_c23=0;_c20=lang.delegate(_c20);_c20.notify=function(_c24,_c25){_c23++;var _c26=_c22.slice();for(var i=0,l=_c26.length;i<l;i++){_c26[i](_c24,_c25);}};var _c27=_c20.query;_c20.query=function(_c28,_c29){_c29=_c29||{};var _c2a=_c27.apply(this,arguments);if(_c2a&&_c2a.forEach){var _c2b=lang.mixin({},_c29);delete _c2b.start;delete _c2b.count;var _c2c=_c20.queryEngine&&_c20.queryEngine(_c28,_c2b);var _c2d=_c23;var _c2e=[],_c2f;_c2a.observe=function(_c30,_c31){if(_c2e.push(_c30)==1){_c22.push(_c2f=function(_c32,_c33){_c1d.when(_c2a,function(_c34){if(_c22.indexOf(_c2f)===-1){return;}var _c35=_c34.length!=_c29.count;var i,l,_c30;if(++_c2d!=_c23){throw new Error("Query is out of date, you must observe() the query prior to any data modifications");}var _c36,_c37=-1,_c38=-1;if(_c33!==_c21){for(i=0,l=_c34.length;i<l;i++){var _c39=_c34[i];if(_c20.getIdentity(_c39)==_c33){_c36=_c39;_c37=i;if(_c2c||!_c32){_c34.splice(i,1);}break;}}}if(_c2c){if(_c32&&(_c2c.matches?_c2c.matches(_c32):_c2c([_c32]).length)){var _c3a=_c37>-1?_c37:_c34.length;_c34.splice(_c3a,0,_c32);_c38=_c1e.indexOf(_c2c(_c34),_c32);_c34.splice(_c3a,1);if((_c29.start&&_c38==0)||(!_c35&&_c38==_c34.length)){_c38=-1;}else{_c34.splice(_c38,0,_c32);}}}else{if(_c32){if(_c33!==_c21){_c38=_c37;}else{if(!_c29.start){_c38=_c20.defaultIndex||0;_c34.splice(_c38,0,_c32);}}}}if((_c37>-1||_c38>-1)&&(_c31||!_c2c||(_c37!=_c38))){var _c3b=_c2e.slice();for(i=0;_c30=_c3b[i];i++){_c30(_c32||_c36,_c37,_c38);}}});});}var _c3c={};_c3c.remove=_c3c.cancel=function(){var _c3d=_c1e.indexOf(_c2e,_c30);if(_c3d>-1){_c2e.splice(_c3d,1);if(!_c2e.length){_c22.splice(_c1e.indexOf(_c22,_c2f),1);}}};return _c3c;};}return _c2a;};var _c3e;function _c3f(_c40,_c41){var _c42=_c20[_c40];if(_c42){_c20[_c40]=function(_c43){if(_c3e){return _c42.apply(this,arguments);}_c3e=true;try{var _c44=_c42.apply(this,arguments);_c1d.when(_c44,function(_c45){_c41((typeof _c45=="object"&&_c45)||_c43);});return _c44;}finally{_c3e=false;}};}};_c3f("put",function(_c46){_c20.notify(_c46,_c20.getIdentity(_c46));});_c3f("add",function(_c47){_c20.notify(_c47);});_c3f("remove",function(id){_c20.notify(undefined,id);});return _c20;};lang.setObject("dojo.store.Observable",_c1f);return _c1f;});},"epi/patch/dojo/window":function(){define("epi/patch/dojo/window",["dojo/_base/lang","dojo/sniff","dojo/_base/window","dojo/dom","dojo/dom-geometry","dojo/dom-style","dojo/dom-construct"],function(lang,has,_c48,dom,geom,_c49,_c4a){has.add("rtl-adjust-position-for-verticalScrollBar",function(win,doc){var body=_c48.body(doc),_c4b=_c4a.create("div",{style:{overflow:"scroll",overflowX:"visible",direction:"rtl",visibility:"hidden",position:"absolute",left:"0",top:"0",width:"64px",height:"64px"}},body,"last"),div=_c4a.create("div",{style:{overflow:"hidden",direction:"ltr"}},_c4b,"last"),ret=geom.position(div).x!=0;_c4b.removeChild(div);body.removeChild(_c4b);return ret;});has.add("position-fixed-support",function(win,doc){var body=_c48.body(doc),_c4c=_c4a.create("span",{style:{visibility:"hidden",position:"fixed",left:"1px",top:"1px"}},body,"last"),_c4d=_c4a.create("span",{style:{position:"fixed",left:"0",top:"0"}},_c4c,"last"),ret=geom.position(_c4d).x!=geom.position(_c4c).x;_c4c.removeChild(_c4d);body.removeChild(_c4c);return ret;});var _c4e={getBox:function(doc){doc=doc||_c48.doc;var _c4f=(doc.compatMode=="BackCompat")?_c48.body(doc):doc.documentElement,_c50=geom.docScroll(doc),w,h;if(has("touch")){var _c51=_c4e.get(doc);w=_c51.innerWidth||_c4f.clientWidth;h=_c51.innerHeight||_c4f.clientHeight;}else{w=_c4f.clientWidth;h=_c4f.clientHeight;}return {l:_c50.x,t:_c50.y,w:w,h:h};},get:function(doc){if(has("ie")<9&&_c4e!==document.parentWindow){doc.parentWindow.execScript("document._parentWindow = window;","Javascript");var win=doc._parentWindow;doc._parentWindow=null;return win;}return doc.parentWindow||doc.defaultView;},scrollIntoView:function(node,pos){try{node=dom.byId(node);var doc=node.ownerDocument||_c48.doc,body=_c48.body(doc),html=doc.documentElement||body.parentNode,isIE=has("ie"),isWK=has("webkit");if(node==body||node==html){return;}if(!(has("mozilla")||isIE||isWK||has("opera"))&&("scrollIntoView" in node)){node.scrollIntoView(false);return;}var _c52=doc.compatMode=="BackCompat",_c53=Math.min(body.clientWidth||html.clientWidth,html.clientWidth||body.clientWidth),_c54=Math.min(body.clientHeight||html.clientHeight,html.clientHeight||body.clientHeight),_c55=(isWK||_c52)?body:html,_c56=pos||geom.position(node),el=node.parentNode,_c57=function(el){return (isIE<=6||(isIE==7&&_c52))?false:(has("position-fixed-support")&&(_c49.get(el,"position").toLowerCase()=="fixed"));};if(_c57(node)){return;}while(el){if(el==body){el=_c55;}var _c58=geom.position(el),_c59=_c57(el),rtl=_c49.getComputedStyle(el).direction.toLowerCase()=="rtl";if(el==_c55){_c58.w=_c53;_c58.h=_c54;if(_c55==html&&isIE&&rtl){_c58.x+=_c55.offsetWidth-_c58.w;}if(_c58.x<0||!isIE||isIE>=9){_c58.x=0;}if(_c58.y<0||!isIE||isIE>=9){_c58.y=0;}}else{var pb=geom.getPadBorderExtents(el);_c58.w-=pb.w;_c58.h-=pb.h;_c58.x+=pb.l;_c58.y+=pb.t;var _c5a=el.clientWidth,_c5b=_c58.w-_c5a;if(_c5a>0&&_c5b>0){if(rtl&&has("rtl-adjust-position-for-verticalScrollBar")){_c58.x+=_c5b;}_c58.w=_c5a;}_c5a=el.clientHeight;_c5b=_c58.h-_c5a;if(_c5a>0&&_c5b>0){_c58.h=_c5a;}}if(_c59){if(_c58.y<0){_c58.h+=_c58.y;_c58.y=0;}if(_c58.x<0){_c58.w+=_c58.x;_c58.x=0;}if(_c58.y+_c58.h>_c54){_c58.h=_c54-_c58.y;}if(_c58.x+_c58.w>_c53){_c58.w=_c53-_c58.x;}}var l=_c56.x-_c58.x,t=_c56.y-_c58.y,r=l+_c56.w-_c58.w,bot=t+_c56.h-_c58.h;var s,old;if(r*l>0&&(!!el.scrollLeft||el==_c55||el.scrollWidth>el.offsetHeight)){s=Math[l<0?"max":"min"](l,r);if(rtl&&((isIE==8&&!_c52)||isIE>=9)){s=-s;}old=el.scrollLeft;el.scrollLeft+=s;s=el.scrollLeft-old;_c56.x-=s;}if(bot*t>0&&(!!el.scrollTop||el==_c55||el.scrollHeight>el.offsetHeight)){s=Math.ceil(Math[t<0?"max":"min"](t,bot));old=el.scrollTop;el.scrollTop+=s;s=el.scrollTop-old;_c56.y-=s;}el=(el!=_c55)&&!_c59&&el.parentNode;}}catch(error){console.error("scrollIntoView: "+error);node.scrollIntoView(false);}}};1&&lang.setObject("dojo.window",_c4e);return _c4e;});},"epi/shell/store/Registry":function(){define(["dojo","dojo/store/Memory","epi/shell/store/JsonRest","epi/shell/store/Patchable","epi/shell/store/Throttle"],function(dojo,_c5c,_c5d,_c5e,_c5f){return dojo.declare(null,{constructor:function(_c60){dojo.mixin(this,_c60);this._stores={};},add:function(name,_c61){if(this._stores[name]){throw new Error("A store with the name '"+name+"' already exists.");}return (this._stores[name]=_c61);},create:function(name,url,_c62){if(this._stores[name]){throw new Error("A store with the name '"+name+"' already exists.");}var _c63=new _c5c(_c62),rest=new _c5d(dojo.mixin({target:url,preventCache:true},_c62)),_c64=_c5e(_c5f(rest,"get"),_c63),_c65=_c5f(_c64,"query");return (this._stores[name]=_c65);},get:function(name){var _c66=this._stores[name];if(!_c66){throw new Error("No store by the name '"+name+"' exists.");}return _c66;}});});},"epi/shell/store/Patchable":function(){define(["dojo/_base/Deferred","dojo/_base/lang","dojo/store/Cache","dojo/store/Observable"],function(_c67,lang,_c68,_c69){var _c6a=lang.getObject("epi.shell.store",true);return _c6a.Patchable=function(_c6b,_c6c,_c6d){var _c6e=_c68(_c6b,_c6c,_c6d||{}),_c6f=[];var _c70=function(_c71,_c72){if(typeof _c72=="object"){_c71[_c73.idProperty]=_c72[_c73.idProperty];}else{_c71[_c73.idProperty]=_c72;}};var _c74=function(_c75){_c75._cached=new Date();return _c75;};var _c76=function(_c77){if(!_c77._cached){return false;}var now=new Date();now.setMinutes(now.getMinutes()-5);return now>_c77._cached;};_c6e.get=function(id,_c78){return _c67.when(_c6c.get(id),function(_c79){if(_c79){if(_c76(_c79)){_c6e.evict(id,_c78);_c79=null;}}return _c79||_c67.when(_c6b.get(id,_c78),function(_c7a){if(_c7a){_c6c.put(_c74(_c7a),{id:id});}return _c7a;});});};_c6e.put=function(_c7b,_c7c){_c6c.remove((_c7c&&_c7c.id)||this.getIdentity(_c7b));return _c67.when(_c6b.put(_c7b,_c7c),function(_c7d){_c70(_c7b,_c7d);_c6c.put(typeof _c7d=="object"?_c74(_c7d):_c74(_c7b),_c7c);return _c7d;});};_c6e.add=function(_c7e,_c7f){return _c67.when(_c6b.add(_c7e,_c7f),function(_c80){_c70(_c7e,_c80);_c6c.add(typeof _c80=="object"?_c74(_c80):_c74(_c7e),_c7f);return _c80;});};var _c81=function(obj){return obj&&lang.isObject(obj)&&!lang.isArray(obj)&&!lang.isFunction(obj);};var _c82=function(dest,_c83){var name,s,_c84={};for(name in _c83){s=_c83[name];if(name in dest&&(dest[name]!==s&&(!(name in _c84)||_c84[name]!==s))){if(_c81(s)&&_c81(dest[name])){_c82(dest[name],s);}else{dest[name]=s;}}}return dest;};var _c73=lang.delegate(_c69(_c6e),{refresh:function(id){return _c67.when(this.evict(id),lang.hitch(this,function(){return _c67.when(this.get(id),lang.hitch(this,function(_c85){if(_c85){this.notify(_c85,id);this.updateDependentStores(_c85);this.onItemChanged(id,_c85);}return _c85;}));}));},patchCache:function(_c86){if(!_c86){return;}var id=this.getIdentity(_c86);return _c67.when(this.get(id),lang.hitch(this,function(_c87){if(_c87){_c87=_c82(_c87,_c86);_c67.when(_c6c.put(_c87,{overwrite:true}),lang.hitch(this,function(){this.notify(_c87,id);this.updateDependentStores(_c86);this.onItemChanged(id,_c87);}));}return _c87;}));},addDependentStore:function(_c88,_c89){if(!_c88.patchCache){throw new Error("addDependentStore: The store must implement the patch method.");}_c6f.push({store:_c88,options:_c89||{}});},updateDependentStores:function(_c8a){for(var i=_c6f.length-1;i>=0;i--){var _c8b=_c6f[i].store;if(_c6f[i].options.refreshOnPatch){var _c8c=_c6f[i].options.refresh;if(typeof _c8c==="function"){_c8c(_c8a);}else{_c8b.refresh(this.getIdentity(_c8a));}}else{var _c8d=_c6f[i].options.transformDelegate;_c8b.patchCache(typeof _c8d==="function"?_c8d(_c8a):_c8a);}}},onItemChanged:function(id,item){}});return _c73;};});},"epi/shell/widget/Application":function(){define(["dojo","dijit","epi","epi/dependency","epi/routes","dijit/_WidgetBase","dijit/_Container"],function(dojo,_c8e,epi,_c8f,_c90,_c91,_c92){return dojo.declare([_c91,_c92],{viewNodes:null,_componentController:null,constructor:function(){this.viewNodes=[];},postMixInProperties:function(){this.inherited(arguments);this._componentController=_c8f.resolve("epi.shell.controller.Components");},postCreate:function(){this.inherited(arguments);this.viewNodes=[this.containerNode];},startup:function(){this.inherited(arguments);dojo.when(this._componentController.loadComponents(this.viewNodes),dojo.hitch(this,function(_c93){dojo.forEach(this.viewNodes,function(_c94){var _c95=dojo.byId(_c94);var _c96=_c8e.getEnclosingWidget(_c95);if(_c96){if(dojo.isFunction(_c96.resize)){_c96.resize();}}});dojo.forEach(_c93,function(_c97){if(dojo.isFunction(_c97.resize)){_c97.resize();}});}),function(e){console.error(e.stack||e);});}});});},"epi/shell/ContextHistory":function(){define("epi/shell/ContextHistory",["dojo/_base/declare","dojo/_base/lang","dojo/store/Memory","dojo/store/Observable","dojo/topic"],function(_c98,lang,_c99,_c9a,_c9b){return _c98(null,{store:null,constructor:function(_c9c){lang.mixin(this,_c9c);this.store=_c9a(this.createStore());},postscript:function(){_c9b.subscribe("/epi/shell/context/changed",lang.hitch(this,this.onContextChanged));},onContextChanged:function(_c9d,_c9e,_c9f){if(this._canExecute(_c9e)){this._updateStore(_c9d);}},createStoreItem:function(_ca0){return {publicUrl:_ca0.publicUrl,id:_ca0.versionAgnosticUri,uri:_ca0.versionAgnosticUri,name:_ca0.name,typeIdentifier:_ca0.dataType,dateAdded:new Date()};},createStore:function(){return new _c99({data:[],idProperty:"uri"});},_canExecute:function(_ca1){return _ca1&&_ca1.trigger!="internal";},_updateStore:function(_ca2){var _ca3=this.createStoreItem(_ca2);this.store.put(_ca3,{overwrite:true});if(this.store.data.length>100){this.store.data.shift();}}});});},"epi/shell/ViewContextHistory":function(){define("epi/shell/ViewContextHistory",["dojo/_base/declare","dojo/_base/lang","dojo/Stateful","dojo/topic","epi/dependency","epi/shell/ViewSettings"],function(_ca4,lang,_ca5,_ca6,_ca7,_ca8){return _ca4([_ca5],{profile:null,viewName:null,postscript:function(){this.inherited(arguments);_ca6.subscribe("/epi/shell/context/changed",lang.hitch(this,"_onContextChanged"));_ca6.subscribe("/epi/shell/context/requestfailed",lang.hitch(this,"_onContextChangeFailed"));if(!this.profile){this.profile=_ca7.resolve("epi.shell.Profile");}if(!this.viewName){this.viewName=_ca8.viewName;}},getLastContextForView:function(){return this.get("profile").get(this._getLastContextProfileKey());},_onContextChanged:function(_ca9,_caa){return this._setLastContextForView(_ca9);},_onContextChangeFailed:function(_cab,_cac){this._setLastContextForView(null);},_setLastContextForView:function(_cad){return this.get("profile").set(this._getLastContextProfileKey(),_cad,{location:"session"});},_getLastContextProfileKey:function(){return "lastContext"+this.get("viewName");}});});},"epi/shell/widget/ComponentController":function(){define(["dojo","dojo/_base/array","dojo/_base/Deferred","dojo/promise/all","dojo/when","dijit","epi","epi/dependency","epi/routes","epi/shell/ViewSettings","dijit/_Widget","dijit/layout/ContentPane","dojo/store/JsonRest","dojo/store/Memory"],function(dojo,_cae,_caf,all,when,_cb0,epi,_cb1,_cb2,_cb3,_cb4,_cb5,_cb6,_cb7){return dojo.declare(_cb4,{moduleArea:null,widgetFactory:null,_componentsMemoryStore:null,_componentsStore:null,_componentsSortOrderStore:null,_saveComponentRequestQueue:[],_isSaveComponentRequestInProgress:false,postMixInProperties:function(){this.inherited(arguments);this.widgetFactory=this.widgetFactory||_cb1.resolve("epi.shell.widget.WidgetFactory");var _cb8=_cb1.resolve("epi.storeregistry");this._componentsStore=_cb8.get("epi.shell.component");this._componentsSortOrderStore=_cb8.get("epi.shell.componentsortorder");var _cb9=new _cb7();this._componentsMemoryStore=_cb9;},postCreate:function(){this.inherited(arguments);dojo.connect(this.widgetFactory,"onWidgetCreated",this,this.onComponentCreated);},startup:function(){this.inherited(arguments);},onComponentCreated:function(_cba,_cbb){var cd=dojo.clone(_cbb);cd._widgetId=_cba.get("id");this._componentsMemoryStore.put(cd);},_queryComponentDefinitions:function(_cbc){return this._componentsMemoryStore.query(_cbc);},_runSaveComponentRequest:function(_cbd){if(_cbd||!this._isSaveComponentRequestInProgress){this._isSaveComponentRequestInProgress=true;var self=this;var _cbe=this._saveComponentRequestQueue.shift();if(_cbe){this._componentsStore.put(_cbe.item).then(function(_cbf){if(_cbe.promise!=null){_cbe.promise.resolve(_cbf);}self._runSaveComponentRequest(true);},function(_cc0){if(_cbe.promise!=null){_cbe.promise.reject(_cc0);}self._runSaveComponentRequest(true);});}else{this._isSaveComponentRequestInProgress=false;}}},getComponentDefinition:function(_cc1){return this._queryComponentDefinitions({_widgetId:_cc1})[0];},getComponentDefinitionById:function(id){return this._queryComponentDefinitions({id:id})[0];},getEmptyComponentDefinition:function(_cc2,_cc3){dojo.when(this._componentsStore.query({componentTypeName:_cc2}),_cc3);},getComponentsForContainer:function(_cc4){var _cc5=this.getComponentDefinition(_cc4.id).id;return this._componentsStore.query({viewName:_cb3.viewName,parentId:_cc5});},getComponentsForView:function(view,_cc6){return this._componentsStore.query({viewName:view});},removeComponent:function(_cc7){var self=this;return when(this._componentsStore.remove(_cc7+"?viewName="+_cb3.viewName),function(){self._componentsMemoryStore.remove(_cc7);});},saveComponent:function(_cc8){var _cc9=dojo.clone(_cc8);delete _cc9["components"];var _cca=new _caf();this._saveComponentRequestQueue.push({"item":_cc9,"promise":_cca});this._runSaveComponentRequest(false);return _cca.promise;},sortComponents:function(_ccb,_ccc,_ccd){var _cce=this.getComponentDefinition(_ccb.id).id;dojo.when(this._componentsSortOrderStore.put({id:_cce,viewName:_cb3.viewName,components:_ccc}),_ccd);},addComponent:function(_ccf,_cd0,_cd1,_cd2){var _cd3=this.getComponentDefinition(_ccf.id).id;var _cd4=dojo.clone(_cd0);delete _cd4["id"];_cd4.parentId=_cd3;_cd4.viewName=_cb3.viewName;var self=this;when(this._componentsStore.put(_cd4),function(){if(_cd4.settings["routeData"]){_cd4.settings.routeData.gadgetId=_cd4.id;}if(_cd1){when(self.createComponents([_cd4],_ccf),function(def){if(def){if(typeof _cd2=="function"){_cd2(true,_cd4);}}});}},function(){alert("Error: could not add component");if(typeof _cd2=="function"){_cd2(false,_cd4);}});},loadComponents:function(_cd5){if(!dojo.isArray(_cd5)){_cd5=[_cd5];}var self=this;var def=new _caf();dojo.when(this.getComponentsForView(_cb3.viewName),function(data){var _cd6=self._convertListToHierarchyByMatchingParent(data,"id","parentId","components");when(self.createComponents(_cd6,_cd5),function(){def.resolve();},function(e){console.error(e.stack||e);def.reject(e);});},function(){def.reject();});return def;},_convertListToHierarchyByMatchingParent:function(_cd7,_cd8,_cd9,_cda){var map={};var _cdb=[];_cae.forEach(_cd7,function(item){var id=item[_cd8];map[id]=item;});_cae.forEach(_cd7,function(item){var _cdc;var id=item[_cd8];var _cdd=item[_cd9];if(!(_cda in item)){item[_cda]=[];}_cdc=map[_cdd];if(!_cdc||_cdc==item){if(_cae.indexOf(_cdb,item)<0){_cdb.push(item);}}else{if(!_cdc[_cda]){_cdc[_cda]=[];}_cdc[_cda].push(item);}});return _cdb;},createComponents:function(data,_cde){var _cdf=this.widgetFactory;var _ce0=data;if(dojo.isArray(_ce0)&&_ce0.length>0){if(dojo.isArray(_ce0[0])){var _ce1=[];for(var i=0;i<_ce0.length;i++){var _ce2=_ce0[i];_ce1.push(_cdf.createWidgets(_cde[i],_ce2));}return all(_ce1);}else{var node=_cde;if(dojo.isArray(node)){node=node[0];}return _cdf.createWidgets(node,_ce0);}}return [];}});});},"epi/shell/command/GlobalCommandRegistry":function(){define(["dojo/_base/declare","epi/shell/command/CommandRegistryItem"],function(_ce3,_ce4){return _ce3(null,{_mappings:null,constructor:function(_ce5){this._mappings={};},registerProvider:function(key,_ce6){var _ce7=this._mappings[key];if(!_ce7){_ce7=new _ce4();this._mappings[key]=_ce7;}_ce7.add("providers",_ce6);return {unregister:function(){_ce7.remove("providers",_ce6);}};},get:function(key,_ce8){var _ce9=this._mappings[key];if(_ce8&&!_ce9){_ce9=new _ce4();this._mappings[key]=_ce9;}return _ce9;}});});},"epi/shell/command/CommandRegistryItem":function(){define(["dojo/_base/array","dojo/_base/declare","epi/shell/StatefulArray"],function(_cea,_ceb,_cec){return _ceb([_cec],{providers:null,constructor:function(){this.providers=this.providers||[];}});});},"epi/shell/StatefulArray":function(){define("epi/shell/StatefulArray",["dojo/_base/array","dojo/_base/declare","dojo/_base/lang","dojo/Stateful"],function(_ced,_cee,lang,_cef){return _cee([_cef],{add:function(name,_cf0){var _cf1,_cf2=this[name];if(!lang.isArray(_cf2)){throw name+" is not of type Array.";}_cf1=_cf2.push(_cf0);if(this._watchCallbacks){this._watchCallbacks(name,null,lang.isArray(_cf0)?_cf0:[_cf0]);}return _cf1;},remove:function(name,_cf3){var _cf4,_cf5,_cf6=this[name];if(!lang.isArray(_cf6)){throw name+" is not of type Array.";}_cf4=_ced.indexOf(_cf6,_cf3);if(_cf4>=0){_cf5=_cf6.splice(_cf4,1);if(this._watchCallbacks){this._watchCallbacks(name,_cf5,null);}return _cf5;}}});});},"epi/shell/dnd/Avatar":function(){define(["dojo/_base/declare","dojo/_base/window","dojo/dom-class","dojo/dom-construct","dojo/dom-attr","dijit/registry","dojo/dnd/common","dojox/html/entities"],function(_cf7,win,_cf8,_cf9,_cfa,_cfb,_cfc,_cfd){return _cf7(null,{constructor:function(_cfe){this.manager=_cfe;this.construct();},construct:function(){this.isA11y=_cf8.contains(win.body(),"dijit_a11y");var a=_cf9.create("table",{"class":"dojoDndAvatar",style:{position:"absolute",zIndex:"1999",margin:"0px"}}),_cff=this.manager.source,node,_d00=_cf9.create("tbody",null,a),_d01=_cf9.create("tr",null,_d00),_d02=_cf9.create("td",null,_d01),k=Math.min(5,this.manager.nodes.length),i=0,_d03=_cf9.create("div",null,_d02),div=_cf9.create("div",null,_d03),_d04=_cf9.create("div",null,_d03),_d05=_cf9.create("table",null,div),b=_cf9.create("tbody",null,_d05);_cfa.set(_d03,"class","epi-DndAvatarContainer");_cfa.set(_d04,"class","epi-DndAvatarOverlay");for(;i<k;++i){if(_cff.creator){var _d06=_cff.getItem(this.manager.nodes[i].id).data;var _d07=_cff._normalizedCreator(_d06,"avatar").node;var name=_d06.get?_d06.get("name"):_d06["name"];_d07.innerHTML=_cfd.encode(typeof name=="string"?name:_d06);node=_d07;}else{node=this.manager.nodes[i].cloneNode(true);if(node.id){var _d08=_cfb.byId(node.id);if(_d08&&_d08.item&&_d08.item.name){node.innerHTML=_cfd.encode(_d08.item.name);}}if(node.tagName.toLowerCase()=="tr"){var _d09=_cf9.create("table"),_d0a=_cf9.create("tbody",null,_d09);_d0a.appendChild(node);node=_d09;}}node.id="";tr=_cf9.create("tr",null,b);td=_cf9.create("td",null,tr);td.appendChild(node);_cfa.set(tr,{"class":"dojoDndAvatarItem",style:{opacity:(9-i)/10}});}a.style.cursor="move";this.node=a;},destroy:function(){_cf9.destroy(this.node);this.node=false;},update:function(){_cf8.toggle(this.node,"dojoDndAvatarCanDrop",this.manager.canDropFlag);}});});},"dojox/html/entities":function(){define("dojox/html/entities",["dojo/_base/lang"],function(lang){var dhe=lang.getObject("dojox.html.entities",true);var _d0b=function(str,map){var _d0c,_d0d;if(map._encCache&&map._encCache.regexp&&map._encCache.mapper&&map.length==map._encCache.length){_d0c=map._encCache.mapper;_d0d=map._encCache.regexp;}else{_d0c={};_d0d=["["];var i;for(i=0;i<map.length;i++){_d0c[map[i][0]]="&"+map[i][1]+";";_d0d.push(map[i][0]);}_d0d.push("]");_d0d=new RegExp(_d0d.join(""),"g");map._encCache={mapper:_d0c,regexp:_d0d,length:map.length};}str=str.replace(_d0d,function(c){return _d0c[c];});return str;};var _d0e=function(str,map){var _d0f,_d10;if(map._decCache&&map._decCache.regexp&&map._decCache.mapper&&map.length==map._decCache.length){_d0f=map._decCache.mapper;_d10=map._decCache.regexp;}else{_d0f={};_d10=["("];var i;for(i=0;i<map.length;i++){var e="&"+map[i][1]+";";if(i){_d10.push("|");}_d0f[e]=map[i][0];_d10.push(e);}_d10.push(")");_d10=new RegExp(_d10.join(""),"g");map._decCache={mapper:_d0f,regexp:_d10,length:map.length};}str=str.replace(_d10,function(c){return _d0f[c];});return str;};dhe.html=[["&","amp"],["\"","quot"],["<","lt"],[">","gt"],["","nbsp"]];dhe.latin=[["","iexcl"],["","cent"],["","pound"],["","euro"],["","curren"],["","yen"],["","brvbar"],["","sect"],["","uml"],["","copy"],["","ordf"],["","laquo"],["","not"],["","shy"],["","reg"],["","macr"],["","deg"],["","plusmn"],["","sup2"],["","sup3"],["","acute"],["","micro"],["","para"],["","middot"],["","cedil"],["","sup1"],["","ordm"],["","raquo"],["","frac14"],["","frac12"],["","frac34"],["","iquest"],["","Agrave"],["","Aacute"],["","Acirc"],["","Atilde"],["","Auml"],["","Aring"],["","AElig"],["","Ccedil"],["","Egrave"],["","Eacute"],["","Ecirc"],["","Euml"],["","Igrave"],["","Iacute"],["","Icirc"],["","Iuml"],["","ETH"],["","Ntilde"],["","Ograve"],["","Oacute"],["","Ocirc"],["","Otilde"],["","Ouml"],["","times"],["","Oslash"],["","Ugrave"],["","Uacute"],["","Ucirc"],["","Uuml"],["","Yacute"],["","THORN"],["","szlig"],["","agrave"],["","aacute"],["","acirc"],["","atilde"],["","auml"],["","aring"],["","aelig"],["","ccedil"],["","egrave"],["","eacute"],["","ecirc"],["","euml"],["","igrave"],["","iacute"],["","icirc"],["","iuml"],["","eth"],["","ntilde"],["","ograve"],["","oacute"],["","ocirc"],["","otilde"],["","ouml"],["","divide"],["","oslash"],["","ugrave"],["","uacute"],["","ucirc"],["","uuml"],["","yacute"],["","thorn"],["","yuml"],["","fnof"],["","Alpha"],["","Beta"],["","Gamma"],["","Delta"],["","Epsilon"],["","Zeta"],["","Eta"],["","Theta"],["","Iota"],["","Kappa"],["","Lambda"],["","Mu"],["","Nu"],["","Xi"],["","Omicron"],["","Pi"],["","Rho"],["","Sigma"],["","Tau"],["","Upsilon"],["","Phi"],["","Chi"],["","Psi"],["","Omega"],["","alpha"],["","beta"],["","gamma"],["","delta"],["","epsilon"],["","zeta"],["","eta"],["","theta"],["","iota"],["","kappa"],["","lambda"],["","mu"],["","nu"],["","xi"],["","omicron"],["","pi"],["","rho"],["","sigmaf"],["","sigma"],["","tau"],["","upsilon"],["","phi"],["","chi"],["","psi"],["","omega"],["","thetasym"],["","upsih"],["","piv"],["","bull"],["","hellip"],["","prime"],["","Prime"],["","oline"],["","frasl"],["","weierp"],["","image"],["","real"],["","trade"],["","alefsym"],["","larr"],["","uarr"],["","rarr"],["","darr"],["","harr"],["","crarr"],["","lArr"],["","uArr"],["","rArr"],["","dArr"],["","hArr"],["","forall"],["","part"],["","exist"],["","empty"],["","nabla"],["","isin"],["","notin"],["","ni"],["","prod"],["","sum"],["","minus"],["","lowast"],["","radic"],["","prop"],["","infin"],["","ang"],["","and"],["","or"],["","cap"],["","cup"],["","int"],["","there4"],["","sim"],["","cong"],["","asymp"],["","ne"],["","equiv"],["","le"],["","ge"],["","sub"],["","sup"],["","nsub"],["","sube"],["","supe"],["","oplus"],["","otimes"],["","perp"],["","sdot"],["","lceil"],["","rceil"],["","lfloor"],["","rfloor"],["","lang"],["","rang"],["","loz"],["","spades"],["","clubs"],["","hearts"],["","diams"],["","Elig"],["","oelig"],["","Scaron"],["","scaron"],["","Yuml"],["","circ"],["","tilde"],["","ensp"],["","emsp"],["","thinsp"],["","zwnj"],["","zwj"],["","lrm"],["","rlm"],["","ndash"],["","mdash"],["","lsquo"],["","rsquo"],["","sbquo"],["","ldquo"],["","rdquo"],["","bdquo"],["","dagger"],["","Dagger"],["","permil"],["","lsaquo"],["","rsaquo"]];dhe.encode=function(str,m){if(str){if(!m){str=_d0b(str,dhe.html);str=_d0b(str,dhe.latin);}else{str=_d0b(str,m);}}return str;};dhe.decode=function(str,m){if(str){if(!m){str=_d0e(str,dhe.html);str=_d0e(str,dhe.latin);}else{str=_d0e(str,m);}}return str;};return dhe;});},"epi/shell/customFocusIndicator":function(){define("epi/shell/customFocusIndicator",["dojo/_base/window","dojo/dom-class","dojo/on","dojo/domReady!"],function(win,_d11,on){var body=win.body();var _d12=function(){_d11.add(body,"epi-mouse-focus");};var _d13=function(){_d11.remove(body,"epi-mouse-focus");};_d11.add(body,"epi-mouse-focus");on(body,"mousedown",_d12);on(body,"mouseup",_d12);on(body,"keydown",_d13);on(body,"keyup",_d13);});},"epi/shell/TypeDescriptorManager":function(){define("epi/shell/TypeDescriptorManager",["dojo","dojo/_base/array","dojo/_base/declare","dojo/_base/lang","dojo/when","epi/dependency","epi/i18n!epi/shell/ui/nls/contenttypes"],function(dojo,_d14,_d15,lang,when,_d16,_d17){return {_uiDescriptors:{},resources:_d17,store:null,initialize:function(){this.store=this.store||(function(){var _d18=_d16.resolve("epi.storeregistry");return _d18.get("epi.shell.uidescriptor");})();return when(this.store.query(),lang.hitch(this,function(_d19){_d14.forEach(_d19,function(_d1a){this._uiDescriptors[_d1a.typeIdentifier]=_d1a;},this);}));},clear:function(){this._uiDescriptors={};},registerTypeSetting:function(name,_d1b){this._uiDescriptors[name]=_d1b;},getValue:function(type,_d1c){var _d1d=this._uiDescriptors[type];while(_d1d){var _d1e=_d1d[_d1c];if(_d1e||_d1e===false){return _d1e;}_d1d=this._uiDescriptors[_d1d["baseTypeIdentifier"]];}},getResourceValue:function(type,_d1f,_d20){var _d21=this._uiDescriptors[type];while(_d21){var _d22=this.resources[_d21.languageKey];if(_d22&&(_d20?_d21.isPrimaryType===true:true)){var _d23=lang.getObject(_d1f,false,_d22);if(_d23){return _d23;}}_d21=this._uiDescriptors[_d21["baseTypeIdentifier"]];}},getAndConcatenateValues:function(type,_d24){var _d25=[],_d26=this._uiDescriptors[type];while(_d26){var _d27=_d26[_d24];if(_d27){if(lang.isArray(_d27)){_d14.forEach(_d27,function(item){_d25.push(item);});}else{_d25.push(_d27);}}_d26=this._uiDescriptors[_d26["baseTypeIdentifier"]];}return _d25;},getInheritanceChain:function(type){var _d28=[],_d29=this._uiDescriptors[type];while(_d29){_d28.push(_d29.typeIdentifier);_d29=this._uiDescriptors[_d29["baseTypeIdentifier"]];}return _d28;},isBaseTypeIdentifier:function(_d2a,_d2b){var type=_d2a,_d2c;if(_d2a===_d2b){return true;}while(_d2c=this._uiDescriptors[type]){type=_d2c.baseTypeIdentifier;if(type===_d2b){return true;}}return false;}};});},"epi/shell/UndoManager":function(){define("epi/shell/UndoManager",["dojo","dojo/Stateful"],function(dojo,_d2d){return dojo.declare(_d2d,{maxSteps:10,hasUndoSteps:false,hasRedoSteps:false,_undoStack:null,_redoStack:null,_isUndoing:false,_isRedoing:false,constructor:function(_d2e){dojo.mixin(this,_d2e);this._undoStack=[];this._redoStack=[];},createStep:function(_d2f,_d30,_d31,_d32){var fn=_d30;if(typeof _d30=="string"){fn=_d2f[_d30];}if(typeof fn!="function"){throw ("No such callback function");}var _d33={context:_d2f,callback:fn,parameters:dojo.isArray(_d31)?_d31:[_d31],description:_d32};if(!_d33.context&&typeof _d33.callback==="string"){throw ("Context object is needed to find the callback");}var _d34=this._isUndoing?this._redoStack:this._undoStack;if(!this._isUndoing&&!this._isRedoing){this._redoStack.splice(0,this._redoStack.length);}_d34.push(_d33);if(this.maxSteps>0&&this._undoStack.length>this.maxSteps){this._undoStack.shift();}this._updateFlags();},undo:function(){if(this._undoStack.length===0){return;}this._isUndoing=true;var _d35=this._undoStack.pop();_d35.callback.apply(_d35.context,_d35.parameters);this._updateFlags();this._isUndoing=false;},redo:function(){if(this._redoStack.length===0){return;}this._isRedoing=true;var _d36=this._redoStack.pop();_d36.callback.apply(_d36.context,_d36.parameters);this._updateFlags();this._isRedoing=false;},_updateFlags:function(){this.set("hasUndoSteps",this._undoStack.length>0);this.set("hasRedoSteps",this._redoStack.length>0);},clear:function(){this._undoStack=[];this._redoStack=[];this._updateFlags();}});});},"epi/shell/widget/_ActionProviderWidget":function(){define(["epi","dojo","dijit","epi/shell/widget/_ActionConsumer","epi/shell/widget/_ActionProvider"],function(epi,dojo,_d37,_d38,_d39){return dojo.declare([_d39],{_enclosingConsumer:null,startup:function(){this.inherited(arguments);this._registerSelf();},destroy:function(){this._unregisterSelf();this.inherited(arguments);},_registerSelf:function(){this._enclosingConsumer=this._getEnclosingActionConsumer();if(this._enclosingConsumer!==null){this._enclosingConsumer.addProvider(this);}},_unregisterSelf:function(){if(this._enclosingConsumer!==null){this._enclosingConsumer.removeProvider(this);}},_getEnclosingActionConsumer:function(){var node=this.domNode.parentNode;while(node!==null){var _d3a=_d37.getEnclosingWidget(node);if(!_d3a){return null;}if(_d3a.isInstanceOf(_d38)){return _d3a;}node=_d3a.domNode.parentNode;}return null;}});});},"epi/shell/widget/_TabButton":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/dom","dojo/dom-style","dojo/has","dojo/keys","dijit/focus","dijit/_WidgetsInTemplateMixin","dijit/form/_TextBoxMixin","dijit/layout/TabController","dojox/html/entities","dojo/text!./templates/_TabButton.htm","epi/i18n!epi/shell/ui/nls/EPiServer.Shell.UI.Resources.TabContainer"],function(_d3b,_d3c,dom,_d3d,has,keys,_d3e,_d3f,_d40,_d41,_d42,_d43,res){return _d3c([_d41.TabButton,_d3f],{res:res,editing:false,tabCurrentName:"",templateString:_d43,buildRendering:function(){this.inherited(arguments);this.label=this.page.personalizableHeading||this.page.heading||this.title||this.res.newtabname;_d3b.forEach(this.menuLayout.getChildren(),function(_d44){_d44.connect(_d44,"onChange",this.onChangeLayout);},this);if(!this.closeButton){this.closeTabMenuItem.set("disabled",true);}},onChangeLayout:function(_d45){if(_d45){_d3b.forEach(this.getParent().getChildren(),function(_d46){_d46.set("checked",false);});}this.set("checked",true);},onLayoutClick:function(evt){},onTabTitleChanged:function(_d47){},onMenuButton:function(evt){evt.stopPropagation();},onRenameMenuItem:function(evt){var _d48=_d42.decode(this.tabName.innerHTML);if(_d48){this._lastNonEmptyValue=_d48;}this._setTabTitleEditable(true);evt.stopPropagation();},onCloseMenuItem:function(evt){evt.stopPropagation();},onClick:function(evt){},toggleMenu:function(_d49){_d3d.set(this.nodeOptions.domNode,"display",_d49?"":"none");},_editBoxBlur:function(evt){if(this.editing){this._saveTabTitleChanges();}else{this._setTabTitleEditable(false);}},_lastNonEmptyValue:null,_editBoxKeyDown:function(evt){if(!this.editing){return;}var k=keys;switch(evt.keyCode){case k.LEFT_ARROW:case k.RIGHT_ARROW:case k.DELETE:evt.stopPropagation();break;case k.ESCAPE:this._saveTabTitleChanges(true);break;case k.ENTER:this._saveTabTitleChanges(false);break;}},_setTabTitleEditable:function(_d4a,text){this.editing=_d4a;dom.setSelectable(this.focusNode,_d4a);if(_d4a){_d3d.set(this.tabName,"display","none");_d3d.set(this.editBox,"display","");if(text){this.editBox.value=text;}else{this.editBox.value=_d42.decode(this.tabName.innerHTML);}_d40.selectInputText(this.editBox);_d3e.focus(this.editBox);}else{_d3d.set(this.editBox,"display","none");_d3d.set(this.tabName,"display","");this.editBox.value="";if(has("ie")){_d3d.set(this.domNode,"zoom","1");_d3d.set(this.domNode,"zoom","");}_d3e.focus(this.focusNode);}},_saveTabTitleChanges:function(_d4b){var _d4c=this.editBox.value;if(_d4b){_d4c=this._lastNonEmptyValue;}this.tabName.innerHTML=_d42.encode(_d4c);this.onTabTitleChanged(_d4c);this._setTabTitleEditable(false);},revertTabTitleChanges:function(_d4d,_d4e,_d4f){this.tabName.innerHTML=_d42.encode(_d4e);},_setCloseButtonAttr:function(disp){_d3d.set(this.closeNode,"display","none");},_setLabelAttr:function(_d50){this.tabName.innerHTML=_d42.encode(_d50);}});});},"dijit/layout/TabController":function(){require({cache:{"url:dijit/layout/templates/_TabButton.html":"<div role=\"presentation\" data-dojo-attach-point=\"titleNode,innerDiv,tabContent\" class=\"dijitTabInner dijitTabContent\">\n\t<img src=\"${_blankGif}\" alt=\"\" class=\"dijitIcon dijitTabButtonIcon\" data-dojo-attach-point='iconNode'/>\n\t<span data-dojo-attach-point='containerNode,focusNode' class='tabLabel'></span>\n\t<span class=\"dijitInline dijitTabCloseButton dijitTabCloseIcon\" data-dojo-attach-point='closeNode'\n\t\t  role=\"presentation\">\n\t\t<span data-dojo-attach-point='closeText' class='dijitTabCloseText'>[x]</span\n\t\t\t\t></span>\n</div>\n"}});define("dijit/layout/TabController",["dojo/_base/declare","dojo/dom","dojo/dom-attr","dojo/dom-class","dojo/i18n","dojo/_base/lang","./StackController","../registry","../Menu","../MenuItem","dojo/text!./templates/_TabButton.html","dojo/i18n!../nls/common"],function(_d51,dom,_d52,_d53,i18n,lang,_d54,_d55,Menu,_d56,_d57){var _d58=_d51("dijit.layout._TabButton",_d54.StackButton,{baseClass:"dijitTab",cssStateNodes:{closeNode:"dijitTabCloseButton"},templateString:_d57,scrollOnFocus:false,buildRendering:function(){this.inherited(arguments);dom.setSelectable(this.containerNode,false);},startup:function(){this.inherited(arguments);var n=this.domNode;this.defer(function(){n.className=n.className;},1);},_setCloseButtonAttr:function(disp){this._set("closeButton",disp);_d53.toggle(this.domNode,"dijitClosable",disp);this.closeNode.style.display=disp?"":"none";if(disp){var _d59=i18n.getLocalization("dijit","common");if(this.closeNode){_d52.set(this.closeNode,"title",_d59.itemClose);}}},_setDisabledAttr:function(_d5a){this.inherited(arguments);if(this.closeNode){if(_d5a){_d52.remove(this.closeNode,"title");}else{var _d5b=i18n.getLocalization("dijit","common");_d52.set(this.closeNode,"title",_d5b.itemClose);}}},_setLabelAttr:function(_d5c){this.inherited(arguments);if(!this.showLabel&&!this.params.title){this.iconNode.alt=lang.trim(this.containerNode.innerText||this.containerNode.textContent||"");}}});var _d5d=_d51("dijit.layout.TabController",_d54,{baseClass:"dijitTabController",templateString:"<div role='tablist' data-dojo-attach-event='onkeypress:onkeypress'></div>",tabPosition:"top",buttonWidget:_d58,buttonWidgetCloseClass:"dijitTabCloseButton",postCreate:function(){this.inherited(arguments);var _d5e=new Menu({id:this.id+"_Menu",ownerDocument:this.ownerDocument,dir:this.dir,lang:this.lang,textDir:this.textDir,targetNodeIds:[this.domNode],selector:function(node){return _d53.contains(node,"dijitClosable")&&!_d53.contains(node,"dijitTabDisabled");}});this.own(_d5e);var _d5f=i18n.getLocalization("dijit","common"),_d60=this;_d5e.addChild(new _d56({label:_d5f.itemClose,ownerDocument:this.ownerDocument,dir:this.dir,lang:this.lang,textDir:this.textDir,onClick:function(evt){var _d61=_d55.byNode(this.getParent().currentTarget);_d60.onCloseButtonClick(_d61.page);}}));}});_d5d.TabButton=_d58;return _d5d;});},"dijit/layout/StackController":function(){define("dijit/layout/StackController",["dojo/_base/array","dojo/_base/declare","dojo/dom-class","dojo/_base/event","dojo/keys","dojo/_base/lang","dojo/on","../focus","../registry","../_Widget","../_TemplatedMixin","../_Container","../form/ToggleButton","dojo/i18n!../nls/common"],function(_d62,_d63,_d64,_d65,keys,lang,on,_d66,_d67,_d68,_d69,_d6a,_d6b){var _d6c=_d63("dijit.layout._StackButton",_d6b,{tabIndex:"-1",closeButton:false,_aria_attr:"aria-selected",buildRendering:function(evt){this.inherited(arguments);(this.focusNode||this.domNode).setAttribute("role","tab");}});var _d6d=_d63("dijit.layout.StackController",[_d68,_d69,_d6a],{baseClass:"dijitStackController",templateString:"<span role='tablist' data-dojo-attach-event='onkeypress'></span>",containerId:"",buttonWidget:_d6c,buttonWidgetCloseClass:"dijitStackCloseButton",constructor:function(_d6e){this.pane2button={};},postCreate:function(){this.inherited(arguments);this.subscribe(this.containerId+"-startup","onStartup");this.subscribe(this.containerId+"-addChild","onAddChild");this.subscribe(this.containerId+"-removeChild","onRemoveChild");this.subscribe(this.containerId+"-selectChild","onSelectChild");this.subscribe(this.containerId+"-containerKeyPress","onContainerKeyPress");this.connect(this.containerNode,"click",function(evt){var _d6f=_d67.getEnclosingWidget(evt.target);if(_d6f!=this.containerNode&&!_d6f.disabled&&_d6f.page){for(var _d70=evt.target;_d70!==this.containerNode;_d70=_d70.parentNode){if(_d64.contains(_d70,this.buttonWidgetCloseClass)){this.onCloseButtonClick(_d6f.page);break;}else{if(_d70==_d6f.domNode){this.onButtonClick(_d6f.page);break;}}}}});},onStartup:function(info){_d62.forEach(info.children,this.onAddChild,this);if(info.selected){this.onSelectChild(info.selected);}var _d71=_d67.byId(this.containerId).containerNode,_d72=this.pane2button,_d73={"title":"label","showtitle":"showLabel","iconclass":"iconClass","closable":"closeButton","tooltip":"title","disabled":"disabled"},_d74=function(attr,_d75){return on(_d71,"attrmodified-"+attr,function(evt){var _d76=_d72[evt.detail&&evt.detail.widget&&evt.detail.widget.id];if(_d76){_d76.set(_d75,evt.detail.newValue);}});};for(var attr in _d73){this.own(_d74(attr,_d73[attr]));}},destroy:function(){for(var pane in this.pane2button){this.onRemoveChild(_d67.byId(pane));}this.inherited(arguments);},onAddChild:function(page,_d77){var Cls=lang.isString(this.buttonWidget)?lang.getObject(this.buttonWidget):this.buttonWidget;var _d78=new Cls({id:this.id+"_"+page.id,name:this.id+"_"+page.id,label:page.title,disabled:page.disabled,ownerDocument:this.ownerDocument,dir:page.dir,lang:page.lang,textDir:page.textDir,showLabel:page.showTitle,iconClass:page.iconClass,closeButton:page.closable,title:page.tooltip,page:page});this.addChild(_d78,_d77);this.pane2button[page.id]=_d78;page.controlButton=_d78;if(!this._currentChild){this.onSelectChild(page);}},onRemoveChild:function(page){if(this._currentChild===page){this._currentChild=null;}var _d79=this.pane2button[page.id];if(_d79){this.removeChild(_d79);delete this.pane2button[page.id];_d79.destroy();}delete page.controlButton;},onSelectChild:function(page){if(!page){return;}if(this._currentChild){var _d7a=this.pane2button[this._currentChild.id];_d7a.set("checked",false);_d7a.focusNode.setAttribute("tabIndex","-1");}var _d7b=this.pane2button[page.id];_d7b.set("checked",true);this._currentChild=page;_d7b.focusNode.setAttribute("tabIndex","0");var _d7c=_d67.byId(this.containerId);_d7c.containerNode.setAttribute("aria-labelledby",_d7b.id);},onButtonClick:function(page){var _d7d=this.pane2button[page.id];_d66.focus(_d7d.focusNode);if(this._currentChild&&this._currentChild.id===page.id){_d7d.set("checked",true);}var _d7e=_d67.byId(this.containerId);_d7e.selectChild(page);},onCloseButtonClick:function(page){var _d7f=_d67.byId(this.containerId);_d7f.closeChild(page);if(this._currentChild){var b=this.pane2button[this._currentChild.id];if(b){_d66.focus(b.focusNode||b.domNode);}}},adjacent:function(_d80){if(!this.isLeftToRight()&&(!this.tabPosition||/top|bottom/.test(this.tabPosition))){_d80=!_d80;}var _d81=this.getChildren();var idx=_d62.indexOf(_d81,this.pane2button[this._currentChild.id]),_d82=_d81[idx];var _d83;do{idx=(idx+(_d80?1:_d81.length-1))%_d81.length;_d83=_d81[idx];}while(_d83.disabled&&_d83!=_d82);return _d83;},onkeypress:function(e){if(this.disabled||e.altKey){return;}var _d84=null;if(e.ctrlKey||!e._djpage){switch(e.charOrCode){case keys.LEFT_ARROW:case keys.UP_ARROW:if(!e._djpage){_d84=false;}break;case keys.PAGE_UP:if(e.ctrlKey){_d84=false;}break;case keys.RIGHT_ARROW:case keys.DOWN_ARROW:if(!e._djpage){_d84=true;}break;case keys.PAGE_DOWN:if(e.ctrlKey){_d84=true;}break;case keys.HOME:var _d85=this.getChildren();for(var idx=0;idx<_d85.length;idx++){var _d86=_d85[idx];if(!_d86.disabled){this.onButtonClick(_d86.page);break;}}_d65.stop(e);break;case keys.END:var _d85=this.getChildren();for(var idx=_d85.length-1;idx>=0;idx--){var _d86=_d85[idx];if(!_d86.disabled){this.onButtonClick(_d86.page);break;}}_d65.stop(e);break;case keys.DELETE:if(this._currentChild.closable){this.onCloseButtonClick(this._currentChild);}_d65.stop(e);break;default:if(e.ctrlKey){if(e.charOrCode===keys.TAB){this.onButtonClick(this.adjacent(!e.shiftKey).page);_d65.stop(e);}else{if(e.charOrCode=="w"){if(this._currentChild.closable){this.onCloseButtonClick(this._currentChild);}_d65.stop(e);}}}}if(_d84!==null){this.onButtonClick(this.adjacent(_d84).page);_d65.stop(e);}}},onContainerKeyPress:function(info){info.e._djpage=info.page;this.onkeypress(info.e);}});_d6d.StackButton=_d6c;return _d6d;});},"url:dijit/layout/templates/_TabButton.html":"<div role=\"presentation\" data-dojo-attach-point=\"titleNode,innerDiv,tabContent\" class=\"dijitTabInner dijitTabContent\">\n\t<img src=\"${_blankGif}\" alt=\"\" class=\"dijitIcon dijitTabButtonIcon\" data-dojo-attach-point='iconNode'/>\n\t<span data-dojo-attach-point='containerNode,focusNode' class='tabLabel'></span>\n\t<span class=\"dijitInline dijitTabCloseButton dijitTabCloseIcon\" data-dojo-attach-point='closeNode'\n\t\t  role=\"presentation\">\n\t\t<span data-dojo-attach-point='closeText' class='dijitTabCloseText'>[x]</span\n\t\t\t\t></span>\n</div>\n","url:epi/shell/widget/templates/_TabButton.htm":"<div role=\"presentation\" data-dojo-attach-point=\"titleNode,innerDiv,tabContent\" class=\"dijitTabInner dijitTabContent\">\r\n\t<img src=\"${_blankGif}\" alt=\"\" class=\"dijitIcon dijitTabButtonIcon\" data-dojo-attach-point=\"iconNode\"/>\r\n    <span class=\"tabLabel\" data-dojo-attach-point=\"tabName,containerNode,focusNode\"></span>\r\n    <input type=\"text\" style=\"display:none;\" class=\"tabLabel\" data-dojo-attach-point=\"editBox\" data-dojo-attach-event=\"onblur: _editBoxBlur, onkeypress: _editBoxKeyDown\" maxlength=\"50\" />\r\n\t<span class=\"dijitInline dijitTabCloseButton dijitTabCloseIcon\" data-dojo-attach-point=\"closeNode\" role=\"presentation\">\r\n\t\t<span data-dojo-attach-point=\"closeText\" class=\"dijitTabCloseText\">[x]</span>\r\n    </span>\r\n    <span class=\"dijitInline\" role=\"presentation\">\r\n        <div data-dojo-type=\"dijit/form/DropDownButton\" data-dojo-attach-point=\"nodeOptions\" showLabel=\"false\" title=\"\" iconClass=\"epi-iconSettingsMenu\" class=\"epi-mediumButton epi-chromelessButton\" style=\"display: none\" data-dojo-attach-event=\"onMouseDown: onMenuButton\">\r\n            <div data-dojo-type=\"dijit/Menu\" data-dojo-attach-point=\"dropDown\">\r\n                <div data-dojo-type=\"dijit/MenuItem\" data-dojo-attach-event=\"onClick: onRenameMenuItem\">${res.menuitemrename}</div>\r\n                <div data-dojo-type=\"dijit/PopupMenuItem\">\r\n                    <span>${res.menuitemlayout}</span>\r\n                    <div data-dojo-type=\"dijit/Menu\" data-dojo-attach-point=\"menuLayout\">\r\n                        <div data-dojo-type=\"dijit/CheckedMenuItem\" checked=\"false\" title=\"${res.menuitemlayout1}\" data-dojo-attach-event=\"onClick: onLayoutClick\">${res.menuitemlayout1}</div>\r\n                        <div data-dojo-type=\"dijit/CheckedMenuItem\" checked=\"false\" title=\"${res.menuitemlayout2}\" data-dojo-attach-event=\"onClick: onLayoutClick\">${res.menuitemlayout2}</div>\r\n                        <div data-dojo-type=\"dijit/CheckedMenuItem\" checked=\"false\" title=\"${res.menuitemlayout3}\" data-dojo-attach-event=\"onClick: onLayoutClick\">${res.menuitemlayout3}</div>\r\n                    </div>\r\n                </div>\r\n                <div data-dojo-type=\"dijit/MenuSeparator\"></div>\r\n                <div data-dojo-type=\"dijit/MenuItem\" data-dojo-attach-point=\"closeTabMenuItem\" data-dojo-attach-event=\"onClick: onCloseMenuItem\">${res.menuitemclose}</div>\r\n            </div>\r\n        </div>\r\n    </span>\r\n</div>","epi/shell/widget/ApplicationContentPane":function(){define(["dojo/_base/declare","dijit/layout/ContentPane","./Application"],function(_d87,_d88,_d89){return _d87([_d88,_d89],{});});},"epi/shell/widget/layout/ComponentContainer":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/_base/lang","dojo/aspect","dojo/when","dojo/dom-class","dojo/dom-geometry","dojo/dom-style","dojox/layout/GridContainer","dijit/focus","dijit/registry","epi/dependency","epi/shell/widget/_ActionProvider","epi/shell/widget/ComponentSelectorDialog","epi/shell/widget/layout/_ComponentWrapper","epi/shell/widget/layout/ComponentTabContainer","epi/i18n!epi/shell/ui/nls/episerver.shell.ui.resources"],function(_d8a,_d8b,lang,_d8c,when,_d8d,_d8e,_d8f,_d90,_d91,_d92,_d93,_d94,_d95,_d96,_d97,_d98){return _d8b([_d90,_d94],{containerUnlocked:false,isAutoOrganized:false,baseClass:"epi-componentContainer",numberOfColumns:1,hasResizableColumns:false,_componentSelectorDialog:null,_componentsController:null,postMixInProperties:function(){this.inherited(arguments);this.nbZones=this.numberOfColumns;this._componentsController=this._componentsController||_d93.resolve("epi.shell.controller.Components");},resizeChildAfterDrop:function(node,_d99,_d9a){this.inherited(arguments);if(_d92.getEnclosingWidget(_d99.node)==this){this._onDndDrop();}},_persistComponentSettings:function(){var _d9b=this.getChildren();_d8a.forEach(_d9b,function(_d9c){var _d9d=this._componentsController.getComponentDefinitionById(_d9c.componentId);_d9d.settings=lang.mixin(_d9d.settings,_d9c.get("settings"));_d9d.settings.column=_d9c.get("column");this._componentsController.saveComponent(_d9d);},this);},buildRendering:function(){this.inherited(arguments);this.acceptTypes=[this.id];},postCreate:function(){this.inherited(arguments);this._setupDragManager();this.containerNode.removeAttribute("id");},_setupDragManager:function(){_d8c.before(this._dragManager,"_searchDragHandle",function(node){if(node&&_d8d.contains(node,"dojoxDragHandle")){return node;}});},startup:function(){if(this._started){return;}this.inherited(arguments);this.changeLockButtonState(false);},onShow:function(){if(this._disabled&&this.containerUnlocked){this.enableDnd();}},layout:function(){if(this.doLayout){_d8e.setContentSize(this.containerNode,{h:this._contentBox.h-this._border.h});_d8e.setContentSize(this.domNode,{w:this._contentBox.w-this._border.w});}this.layoutComponents();},layoutComponents:function(){var _d9e=_d8e.getContentBox(this.gridContainerDiv);var _d9f={w:_d9e.w/this.numberOfColumns};_d8a.forEach(this.getChildren(),function(_da0){if(_da0.resize&&lang.isFunction(_da0.resize)){_da0.resize(_d9f);}});},_layoutChildren:function(_da1,_da2,_da3){_da1.resize({h:_da2});if(_da3){_da1.set("lastOpenHeight",_da2);this.layoutComponents();this._persistComponentSettings();}},addComponent:function(_da4){this._componentSelectorDialog.hide();this._componentsController.addComponent(this,_da4,true,lang.hitch(this,function(){this.layoutComponents();}));},_selectFocus:function(){var _da5=_d91.curNode;if(_da5===null||_da5.parentNode===null){return;}this.inherited(arguments);},addChild:function(_da6,_da7){var _da8,_da9=this._componentsController.getComponentDefinitionById(_da6.componentId),id=_da9?_da9.id:_da6.componentId,_daa=this.containerUnlocked,_dab={componentId:id,dndType:this.id,isRemovable:_da9?_da9.settings.isRemovable:_da6.params.isRemovable,minHeight:_da6.get("minHeight")||200,maxHeight:_da6.get("maxHeight")||Infinity,dragRestriction:!_daa,closable:_daa,heading:_da6.get("heading"),container:this},_dac=lang.mixin(_dab,_da9.settings);if(!_da6.isInstanceOf(_d96)&&!_da6.isInstanceOf(_d97)){_da8=new _d96(_dac);_da8.addChild(_da6);}else{_da8=_da6;for(var _dad in _dac){_da8.set(_dad,_dab[_dad]);}}this.connect(_da8,"onClosed",lang.hitch(this,this._gadgetClosed,_da8));this._connect(_da8.on("toggle",lang.hitch(this,function(){this._componentToggle(_da8);})));if(_da7>=this.numberOfColumns){_da7=this.numberOfColumns-1;}var _dae=this.inherited(arguments,[_da8,_da7]);if(_daa&&lang.isFunction(_dae.disableResize)){_dae.disableResize();}this._onCompontentsChanged();return _dae;},_componentToggle:function(_daf){_daf.resize();this.layoutComponents();this._persistComponentSettings();},_gadgetClosed:function(_db0){var _db1=_db0.componentId;when(this._componentsController.removeComponent(_db1),lang.hitch(this,function(){_db0.destroyRecursive();this._onCompontentsChanged();this._persistComponentSettings();this.layoutComponents();}));},_onCompontentsChanged:function(){this.layoutComponents();},showComponentSelector:function(){if(this._componentSelectorDialog===null){this._componentSelectorDialog=new _d95();this.own(this._componentSelectorDialog);this.connect(this._componentSelectorDialog,"onComponentSelected",this.addComponent);}this._componentSelectorDialog.show();},changeLockButtonState:function(_db2){this.containerUnlocked=_db2;_d8a.forEach(this.getChildren(),lang.hitch(this,function(_db3){_db3.set("dragRestriction",!_db2);_db3.set("closable",_db2);}));this.containerUnlocked?this.enableDnd():this.disableDnd();},_saveComponentOrder:function(_db4,_db5){var _db6=_d8a.map(_db4,function(_db7){return {id:_db7.componentId,column:_db7.get("column")};});this._componentsController.sortComponents(this,_db6,_db5);},_onDndDrop:function(){var _db8=this.getChildren();this._saveComponentOrder(_db8);this._onCompontentsChanged();this.layoutComponents();},_reloadGadgets:function(){var _db9=this.getChildren();var _dba=_db9.length;var self=this;_d8a.forEach(_db9,function(_dbb){self.removeChild(_dbb);self.addChild(_dbb,_dbb.get("column"),_dba);});this._onCompontentsChanged();},_reloadContainer:function(_dbc,_dbd){this.numberOfColumns=_dbd;if(_dbc){this._reloadGadgets();}},setColumns:function(_dbe){var _dbf=this.getChildren();var self=this;if(_dbf.length<=0){this._reloadContainer(false,_dbe);}else{_d8a.forEach(_dbf,function(_dc0){if(_dc0.column>=_dbe){_dc0.set("column",_dbe-1);}});this._saveComponentOrder(_dbf,lang.hitch(this,function(_dc1){this._reloadContainer(_dc1,_dbe);}));}this.inherited(arguments);this.resize();},_organizeChildrenManually:function(){var _dc2=dojox.layout.GridContainerLite.superclass.getChildren.call(this),_dc3=_dc2.length,_dc4;for(var i=0;i<_dc3;i++){_dc4=_dc2[i];try{this._insertChild(_dc4,_dc4.column);}catch(e){console.error("Unable to insert child in GridContainer",e);}}},_connect:function(_dc5){this._connects.push(_dc5);},getActions:function(){var self=this,_dc6=this.inherited(arguments),_dc7={parent:"settings",name:"addGadgets",label:_d98.componentselection.addgadgetstitle,type:"menuitem",action:lang.hitch(this,this.showComponentSelector)},_dc8={parent:"settings",name:"rearrangeGadgets",label:_d98.componentselection.rearrangegadgets,type:"checkedmenuitem",action:function(){lang.hitch(this,self.changeLockButtonState(this.checked));}};_dc6.splice(_dc6.length,0,_dc7);_dc6.splice(_dc6.length,0,_dc8);return _dc6;}});});},"dojox/layout/GridContainer":function(){define("dojox/layout/GridContainer",["dojo/_base/kernel","dojo/_base/declare","dojo/_base/array","dojo/_base/connect","dojo/_base/sniff","dojo/dom-class","dojo/dom-style","dojo/dom-geometry","dojo/dom-construct","dojo/_base/lang","dojo/_base/window","dojo/ready","dojox/layout/GridContainerLite"],function(dojo,_dc9,_dca,_dcb,has,_dcc,_dcd,geom,_dce,lang,win,_dcf,_dd0){return _dc9("dojox.layout.GridContainer",_dd0,{hasResizableColumns:true,liveResizeColumns:false,minColWidth:20,minChildWidth:150,mode:"right",isRightFixed:false,isLeftFixed:false,startup:function(){this.inherited(arguments);if(this.hasResizableColumns){for(var i=0;i<this._grid.length-1;i++){this._createGrip(i);}if(!this.getParent()){_dcf(lang.hitch(this,"_placeGrips"));}}},resizeChildAfterDrop:function(node,_dd1,_dd2){if(this.inherited(arguments)){this._placeGrips();}},onShow:function(){this.inherited(arguments);this._placeGrips();},resize:function(){this.inherited(arguments);if(this._isShown()&&this.hasResizableColumns){this._placeGrips();}},_createGrip:function(_dd3){var _dd4=this._grid[_dd3],grip=_dce.create("div",{"class":"gridContainerGrip"},this.domNode);_dd4.grip=grip;_dd4.gripHandler=[this.connect(grip,"onmouseover",function(e){var _dd5=false;for(var i=0;i<this._grid.length-1;i++){if(_dcc.contains(this._grid[i].grip,"gridContainerGripShow")){_dd5=true;break;}}if(!_dd5){_dcc.replace(e.target,"gridContainerGripShow","gridContainerGrip");}})[0],this.connect(grip,"onmouseout",function(e){if(!this._isResized){_dcc.replace(e.target,"gridContainerGrip","gridContainerGripShow");}})[0],this.connect(grip,"onmousedown","_resizeColumnOn")[0],this.connect(grip,"ondblclick","_onGripDbClick")[0]];},_placeGrips:function(){var _dd6,_dd7,left=0,grip;_dca.forEach(this._grid,function(_dd8){if(_dd8.grip){grip=_dd8.grip;if(!_dd6){_dd6=grip.offsetWidth/2;}left+=geom.getMarginBox(_dd8.node).w;_dcd.set(grip,"left",(left-_dd6)+"px");if(!_dd7){_dd7=geom.getContentBox(this.gridNode).h;}if(_dd7>0){_dcd.set(grip,"height",_dd7+"px");}}},this);},_onGripDbClick:function(){this._updateColumnsWidth(this._dragManager);this.resize();},_resizeColumnOn:function(e){this._activeGrip=e.target;this._initX=e.pageX;e.preventDefault();win.body().style.cursor="ew-resize";this._isResized=true;var _dd9=[];var grid;var i;for(i=0;i<this._grid.length;i++){_dd9[i]=geom.getContentBox(this._grid[i].node).w;}this._oldTabSize=_dd9;for(i=0;i<this._grid.length;i++){grid=this._grid[i];if(this._activeGrip==grid.grip){this._currentColumn=grid.node;this._currentColumnWidth=_dd9[i];this._nextColumn=this._grid[i+1].node;this._nextColumnWidth=_dd9[i+1];}grid.node.style.width=_dd9[i]+"px";}var _dda=function(_ddb,_ddc){var _ddd=0;var _dde=0;_dca.forEach(_ddb,function(_ddf){if(_ddf.nodeType==1){var _de0=_dcd.getComputedStyle(_ddf);var _de1=(has("ie"))?_ddc:parseInt(_de0.minWidth);_dde=_de1+parseInt(_de0.marginLeft)+parseInt(_de0.marginRight);if(_ddd<_dde){_ddd=_dde;}}});return _ddd;};var _de2=_dda(this._currentColumn.childNodes,this.minChildWidth);var _de3=_dda(this._nextColumn.childNodes,this.minChildWidth);var _de4=Math.round((geom.getMarginBox(this.gridContainerTable).w*this.minColWidth)/100);this._currentMinCol=_de2;this._nextMinCol=_de3;if(_de4>this._currentMinCol){this._currentMinCol=_de4;}if(_de4>this._nextMinCol){this._nextMinCol=_de4;}this._connectResizeColumnMove=_dcb.connect(win.doc,"onmousemove",this,"_resizeColumnMove");this._connectOnGripMouseUp=_dcb.connect(win.doc,"onmouseup",this,"_onGripMouseUp");},_onGripMouseUp:function(){win.body().style.cursor="default";_dcb.disconnect(this._connectResizeColumnMove);_dcb.disconnect(this._connectOnGripMouseUp);this._connectOnGripMouseUp=this._connectResizeColumnMove=null;if(this._activeGrip){_dcc.replace(this._activeGrip,"gridContainerGrip","gridContainerGripShow");}this._isResized=false;},_resizeColumnMove:function(e){e.preventDefault();if(!this._connectResizeColumnOff){_dcb.disconnect(this._connectOnGripMouseUp);this._connectOnGripMouseUp=null;this._connectResizeColumnOff=_dcb.connect(win.doc,"onmouseup",this,"_resizeColumnOff");}var d=e.pageX-this._initX;if(d==0){return;}if(!(this._currentColumnWidth+d<this._currentMinCol||this._nextColumnWidth-d<this._nextMinCol)){this._currentColumnWidth+=d;this._nextColumnWidth-=d;this._initX=e.pageX;this._activeGrip.style.left=parseInt(this._activeGrip.style.left)+d+"px";if(this.liveResizeColumns){this._currentColumn.style["width"]=this._currentColumnWidth+"px";this._nextColumn.style["width"]=this._nextColumnWidth+"px";this.resize();}}},_resizeColumnOff:function(e){win.body().style.cursor="default";_dcb.disconnect(this._connectResizeColumnMove);_dcb.disconnect(this._connectResizeColumnOff);this._connectResizeColumnOff=this._connectResizeColumnMove=null;if(!this.liveResizeColumns){this._currentColumn.style["width"]=this._currentColumnWidth+"px";this._nextColumn.style["width"]=this._nextColumnWidth+"px";}var _de5=[],_de6=[],_de7=this.gridContainerTable.clientWidth,node,_de8=false,i;for(i=0;i<this._grid.length;i++){node=this._grid[i].node;if(has("ie")){_de5[i]=geom.getMarginBox(node).w;_de6[i]=geom.getContentBox(node).w;}else{_de5[i]=geom.getContentBox(node).w;_de6=_de5;}}for(i=0;i<_de6.length;i++){if(_de6[i]!=this._oldTabSize[i]){_de8=true;break;}}if(_de8){var mul=has("ie")?100:10000;for(i=0;i<this._grid.length;i++){this._grid[i].node.style.width=Math.round((100*mul*_de5[i])/_de7)/mul+"%";}this.resize();}if(this._activeGrip){_dcc.replace(this._activeGrip,"gridContainerGrip","gridContainerGripShow");}this._isResized=false;},setColumns:function(_de9){var z,j;if(_de9>0){var _dea=this._grid.length,_deb=_dea-_de9;if(_deb>0){var _dec=[],zone,_ded,end,_dee;if(this.mode=="right"){end=(this.isLeftFixed&&_dea>0)?1:0;_ded=(this.isRightFixed)?_dea-2:_dea-1;for(z=_ded;z>=end;z--){_dee=0;zone=this._grid[z].node;for(j=0;j<zone.childNodes.length;j++){if(zone.childNodes[j].nodeType==1&&!(zone.childNodes[j].id=="")){_dee++;break;}}if(_dee==0){_dec[_dec.length]=z;}if(_dec.length>=_deb){this._deleteColumn(_dec);break;}}if(_dec.length<_deb){_dcb.publish("/dojox/layout/gridContainer/noEmptyColumn",[this]);}}else{_ded=(this.isLeftFixed&&_dea>0)?1:0;end=(this.isRightFixed)?_dea-1:_dea;for(z=_ded;z<end;z++){_dee=0;zone=this._grid[z].node;for(j=0;j<zone.childNodes.length;j++){if(zone.childNodes[j].nodeType==1&&!(zone.childNodes[j].id=="")){_dee++;break;}}if(_dee==0){_dec[_dec.length]=z;}if(_dec.length>=_deb){this._deleteColumn(_dec);break;}}if(_dec.length<_deb){_dcb.publish("/dojox/layout/gridContainer/noEmptyColumn",[this]);}}}else{if(_deb<0){this._addColumn(Math.abs(_deb));}}if(this.hasResizableColumns){this._placeGrips();}}},_addColumn:function(_def){var grid=this._grid,_df0,node,_df1,_df2,_df3=(this.mode=="right"),_df4=this.acceptTypes.join(","),m=this._dragManager;if(this.hasResizableColumns&&((!this.isRightFixed&&_df3)||(this.isLeftFixed&&!_df3&&this.nbZones==1))){this._createGrip(grid.length-1);}for(var i=0;i<_def;i++){node=_dce.create("td",{"class":"gridContainerZone dojoxDndArea","accept":_df4,"id":this.id+"_dz"+this.nbZones});_df2=grid.length;if(_df3){if(this.isRightFixed){_df1=_df2-1;grid.splice(_df1,0,{"node":grid[_df1].node.parentNode.insertBefore(node,grid[_df1].node)});}else{_df1=_df2;grid.push({"node":this.gridNode.appendChild(node)});}}else{if(this.isLeftFixed){_df1=(_df2==1)?0:1;this._grid.splice(1,0,{"node":this._grid[_df1].node.parentNode.appendChild(node,this._grid[_df1].node)});_df1=1;}else{_df1=_df2-this.nbZones;this._grid.splice(_df1,0,{"node":grid[_df1].node.parentNode.insertBefore(node,grid[_df1].node)});}}if(this.hasResizableColumns){if((!_df3&&this.nbZones!=1)||(!_df3&&this.nbZones==1&&!this.isLeftFixed)||(_df3&&i<_def-1)||(_df3&&i==_def-1&&this.isRightFixed)){this._createGrip(_df1);}}m.registerByNode(grid[_df1].node);this.nbZones++;}this._updateColumnsWidth(m);},_deleteColumn:function(_df5){var _df6,grid,_df7,_df8=0,_df9=_df5.length,m=this._dragManager;for(var i=0;i<_df9;i++){_df7=(this.mode=="right")?_df5[i]:_df5[i]-_df8;grid=this._grid[_df7];if(this.hasResizableColumns&&grid.grip){_dca.forEach(grid.gripHandler,function(_dfa){_dcb.disconnect(_dfa);});_dce.destroy(this.domNode.removeChild(grid.grip));grid.grip=null;}m.unregister(grid.node);_dce.destroy(this.gridNode.removeChild(grid.node));this._grid.splice(_df7,1);this.nbZones--;_df8++;}var _dfb=this._grid[this.nbZones-1];if(_dfb.grip){_dca.forEach(_dfb.gripHandler,_dcb.disconnect);_dce.destroy(this.domNode.removeChild(_dfb.grip));_dfb.grip=null;}this._updateColumnsWidth(m);},_updateColumnsWidth:function(_dfc){this.inherited(arguments);_dfc._dropMode.updateAreas(_dfc._areaList);},destroy:function(){_dcb.unsubscribe(this._dropHandler);this.inherited(arguments);}});});},"epi/shell/widget/ComponentSelectorDialog":function(){define(["epi","dojo/_base/declare","dojo/dom-style","dijit/Dialog","epi/shell/widget/ComponentSelector","epi/i18n!epi/shell/ui/nls/EPiServer.Shell.UI.Resources.ComponentSelection"],function(epi,_dfd,_dfe,_dff,_e00,res){return _dfd([_dff],{_componentSelector:null,autofocus:false,size:{width:"650px",height:""},res:res,onComponentSelected:function(){},postMixInProperties:function(){this.inherited(arguments);this.buttonCancel=epi.resources.action.close;},postCreate:function(){this.inherited(arguments);this.set("title",this.res.dialogtitle);_dfe.set(this.domNode,this.size);},show:function(){this.inherited(arguments);this._ensureComponentSelectorCreated();this._componentSelector.show();},_ensureComponentSelectorCreated:function(){if(this._componentSelector){return;}this._contentSetterParams={parseContent:false};this._componentSelector=new _e00();this.own(this._componentSelector);this.set("content",this._componentSelector);this.connect(this._componentSelector,"onComponentSelected",this.onComponentSelected);}});});},"epi/shell/widget/ComponentSelector":function(){define(["epi","dojo/_base/declare","dojo/_base/Deferred","dojo/keys","dojo/_base/array","dojo/_base/lang","dojo/dom-geometry","dgrid/OnDemandGrid","dgrid/Selection","dgrid/Keyboard","dgrid/extensions/DijitRegistry","dijit/_Contained","dijit/_Widget","dijit/_TemplatedMixin","dijit/_WidgetsInTemplateMixin","dijit/MenuItem","dijit/layout/ContentPane","dijit/layout/BorderContainer","dijit/form/Button","dijit/form/TextBox","dojo/store/Memory","epi/routes","epi/dependency","epi/shell/ViewSettings","epi/i18n!epi/shell/ui/nls/EPiServer.Shell.UI.Resources.ComponentSelection"],function(epi,_e01,_e02,keys,_e03,lang,_e04,_e05,_e06,_e07,_e08,_e09,_e0a,_e0b,_e0c,_e0d,_e0e,_e0f,_e10,_e11,_e12,_e13,_e14,_e15,res){var _e16=_e01([_e0a,_e0b,_e0c,_e09],{templateString:"            <div>            <div class=\"dijitDialogPaneToolBar clearfix\">                    <div class=\"dijitDialogPaneLeading\">                    </div>                    <div class=\"dijitDialogPaneTrailing\">                        <input data-dojo-type=\"dijit/form/TextBox\" dojoAttachPoint=\"searchBox\" dojoAttachEvent=\"onKeyUp: _onSearchBoxChange\" placeHolder=\"${commonRes.action.search}\" class=\"epi-searchInput\" />                    </div>                </div>                <div class=\"dijitDialogPaneContentArea epi-wrapped\">                    <div data-dojo-type=\"dijit/layout/BorderContainer\" data-dojo-attach-point=\"container\" style=\"width: 100%; height: 330px;\">                        <div data-dojo-type=\"dijit/layout/ContentPane\" region=\"left\" splitter=\"false\" class=\"epi-dialog-resourcePane epi-dijitMenuDisableIcon\" style=\"width: 160px;\" >                            <div data-dojo-type=\"dijit/Menu\" dojoAttachPoint=\"categoryMenu\" dojoAttachEvent=\"onItemClick: _onCategoryMenuClick\" style=\"width:160px;\"></div>                        </div>                            <div data-dojo-attach-point=\"grid\"></div>                    </div>                </div>                <div class=\"dijitDialogPaneActionBar\">                    <button data-dojo-type=\"dijit/form/Button\" type=\"submit\" data-dojo-props=\"'class':'default'\" data-dojo-attach-event=\"onClick:onClose\">${commonRes.action.close}</button>                </div>             </div>",res:res,commonRes:epi.resources,selectedCategory:"*",componentCategories:null,_selectedCategoryMenuItem:null,categoryStore:null,componentDefinitionStore:null,_sortableColumns:[1],_gridClass:_e01([_e05,_e08,_e06,_e07],{resize:function(size){if(!size){return;}_e04.setMarginBox(this.domNode,{w:size.w,h:size.h});this.inherited(arguments);}}),postMixInProperties:function(){this.inherited(arguments);this.categoryStore=this.categoryStore||this._getStore("epi.shell.componentcategory");this.componentDefinitionStore=this.componentDefinitionStore||this._getStore("epi.shell.componentdefinition");this.componentCategories=_e15.settings.componentCategories;},buildRendering:function(){this.inherited(arguments);this.grid=new this._gridClass({region:"center",columns:{title:{label:this.commonRes.header.name},description:{label:" "}},selectionMode:"single",sort:[{attribute:"title",descending:false}],query:lang.hitch(this,function(item){if(this.selectedCategory!=="*"){if(!item.categories){return false;}var _e17=this.selectedCategory;var _e18=_e03.some(item.categories,function(_e19){return _e19===_e17;});if(!_e18){return;}}var name=this.searchBox.get("value").toLowerCase();if(name.length>0&&(item.title&&item.title.toLowerCase().indexOf(name))){return false;}return true;})},this.grid);this.grid.on(".dgrid-row:click",lang.hitch(this,this._onGridRowSelected));this.grid.on(".dgrid-row:keydown",lang.hitch(this,this._onGridRowSelected));},_getStore:function(name){var _e1a=_e14.resolve("epi.storeregistry");return _e1a.get(name);},onComponentSelected:function(){},onClose:function(){},_onGridRowSelected:function(e){if(e.keyCode&&e.keyCode!==keys.ENTER){return;}var row=this.grid.row(e);if(!row||!row.data){return;}var _e1b=row.data.component;this.onComponentSelected(_e1b);},dataBind:function(_e1c){if(this.grid.store!==null&&_e1c!==true){return;}if(_e1c){_e03.forEach(this.categoryMenu.getChildren(),function(_e1d){this.categoryMenu.removeChild(_e1d);},this);}var grid=this.grid;_e02.when(this.componentDefinitionStore.query(),lang.hitch(this,function(data){var _e1e=_e03.filter(data,function(item){return this._inCategoryFilter(item.categories);},this);this._populateCategoryMenu(_e1e);var _e1f=new _e12({data:_e1e});grid.set("store",_e1f);}));},show:function(_e20){this.inherited(arguments);this.dataBind(_e20);this.resize();},resize:function(){this.inherited(arguments);this.container.resize();},_populateCategoryMenu:function(_e21){this._selectedCategoryMenuItem=new _e0d({label:this.commonRes.header.all,selected:true,value:"*"});this.categoryMenu.addChild(this._selectedCategoryMenuItem);var _e22=this.categoryStore.query();_e02.when(_e22,lang.hitch(this,function(_e23){_e03.forEach(_e23,function(_e24){var _e25=_e03.some(_e21,function(_e26){return _e03.indexOf(_e26.categories,_e24.name)>=0;});if(_e25){this.categoryMenu.addChild(new _e0d({label:_e24.displayName,value:_e24.name}));}},this);}));},_inCategoryFilter:function(_e27){var _e28=this.componentCategories;return _e28==null||_e03.some(_e27,function(c){return _e03.some(_e28,function(_e29){return _e29===c;});});},_onCategoryMenuClick:function(item,e){this._selectedCategoryMenuItem.set("selected",false);item.set("selected",true);this._selectedCategoryMenuItem=item;this.selectedCategory=item.value;this.searchBox.reset();this.grid.refresh();},_onSearchBoxChange:function(e){this.grid.refresh();}});return _e16;});},"dgrid/OnDemandGrid":function(){define(["dojo/_base/declare","./Grid","./OnDemandList"],function(_e2a,Grid,_e2b){return _e2a([Grid,_e2b],{});});},"dgrid/Grid":function(){define(["dojo/_base/kernel","dojo/_base/declare","dojo/on","dojo/has","put-selector/put","./List","./util/misc","dojo/_base/sniff"],function(_e2c,_e2d,_e2e,has,put,List,_e2f){var _e30=has("ie")<8&&!has("quirks");var _e31=/[^\._a-zA-Z0-9-]/g;function _e32(_e33,_e34){if(_e34&&_e34.nodeType){_e33.appendChild(_e34);}};var Grid=_e2d(List,{columns:null,cellNavigation:true,tabableHeader:true,showHeader:true,column:function(_e35){if(typeof _e35!="object"){return this.columns[_e35];}else{return this.cell(_e35).column;}},listType:"grid",cell:function(_e36,_e37){if(_e36.column&&_e36.element){return _e36;}if(_e36.target&&_e36.target.nodeType){_e36=_e36.target;}var _e38;if(_e36.nodeType){var _e39;do{if(this._rowIdToObject[_e36.id]){break;}var _e3a=_e36.columnId;if(_e3a){_e37=_e3a;_e38=_e36;break;}_e36=_e36.parentNode;}while(_e36&&_e36!=this.domNode);}if(!_e38&&typeof _e37!="undefined"){var row=this.row(_e36),_e3b=row&&row.element;if(_e3b){var _e3c=_e3b.getElementsByTagName("td");for(var i=0;i<_e3c.length;i++){if(_e3c[i].columnId==_e37){_e38=_e3c[i];break;}}}}if(_e36!=null){return {row:row||this.row(_e36),column:_e37&&this.column(_e37),element:_e38};}},createRowCells:function(tag,each,_e3d){var row=put("table.dgrid-row-table[role=presentation]"),_e3e=this.cellNavigation,_e3f=(has("ie")<9||has("quirks"))?put(row,"tbody"):row,tr,si,sl,i,l,_e40,_e41,id,_e42,cell,_e43,_e44,_e45;_e3d=_e3d||this.subRows;for(si=0,sl=_e3d.length;si<sl;si++){_e40=_e3d[si];tr=put(_e3f,"tr");if(_e40.className){put(tr,"."+_e40.className);}for(i=0,l=_e40.length;i<l;i++){_e41=_e40[i];id=_e41.id;_e42=_e41.className||(_e41.field&&"field-"+_e41.field);cell=put(tag+(".dgrid-cell.dgrid-cell-padding"+(id?".dgrid-column-"+id:"")+(_e42?"."+_e42:"")).replace(_e31,"-")+"[role="+(tag==="th"?"columnheader":"gridcell")+"]");cell.columnId=id;if(_e30){_e43=put(cell,"!dgrid-cell-padding div.dgrid-cell-padding");cell.contents=_e43;}else{_e43=cell;}_e44=_e41.colSpan;if(_e44){cell.colSpan=_e44;}_e45=_e41.rowSpan;if(_e45){cell.rowSpan=_e45;}each(_e43,_e41);tr.appendChild(cell);}}return row;},left:function(cell,_e46){if(!cell.element){cell=this.cell(cell);}return this.cell(this._move(cell,-(_e46||1),"dgrid-cell"));},right:function(cell,_e47){if(!cell.element){cell=this.cell(cell);}return this.cell(this._move(cell,_e47||1,"dgrid-cell"));},renderRow:function(_e48,_e49){var self=this;var row=this.createRowCells("td",function(td,_e4a){var data=_e48;if(_e4a.get){data=_e4a.get(_e48);}else{if("field" in _e4a&&_e4a.field!="_item"){data=data[_e4a.field];}}if(_e4a.renderCell){_e32(td,_e4a.renderCell(_e48,data,td,_e49));}else{_e4b.call(_e4a,_e48,data,td,_e49);}},_e49&&_e49.subRows);return put("div[role=row]>",row);},renderHeader:function(){var grid=this,_e4c=this.columns,_e4d=this.headerNode,i=_e4d.childNodes.length;_e4d.setAttribute("role","row");while(i--){put(_e4d.childNodes[i],"!");}var row=this.createRowCells("th",function(th,_e4e){var _e4f=_e4e.headerNode=th;if(_e30){th=th.parentNode;}var _e50=_e4e.field;if(_e50){th.field=_e50;}if(_e4e.renderHeaderCell){_e32(_e4f,_e4e.renderHeaderCell(_e4f));}else{if("label" in _e4e||_e4e.field){_e4f.appendChild(document.createTextNode("label" in _e4e?_e4e.label:_e4e.field));}}if(_e4e.sortable!==false&&_e50&&_e50!="_item"){th.sortable=true;th.className+=" dgrid-sortable";}},this.subRows&&this.subRows.headerRows);this._rowIdToObject[row.id=this.id+"-header"]=this.columns;_e4d.appendChild(row);if(this._sortListener){this._sortListener.remove();}this._sortListener=_e2e(row,"click,keydown",function(_e51){if(_e51.type=="click"||_e51.keyCode==32||(!has("opera")&&_e51.keyCode==13)){var _e52=_e51.target,_e53,sort,_e54,_e55;do{if(_e52.sortable){_e54=[{attribute:(_e53=_e52.field||_e52.columnId),descending:(sort=grid._sort[0])&&sort.attribute==_e53&&!sort.descending}];_e55={bubbles:true,cancelable:true,grid:grid,parentType:_e51.type,sort:_e54};if(_e2e.emit(_e51.target,"dgrid-sort",_e55)){grid._sortNode=_e52;grid.set("sort",_e54);}break;}}while((_e52=_e52.parentNode)&&_e52!=_e4d);}});},resize:function(){var _e56=this.headerNode.firstChild,_e57=this.contentNode,_e58;this.inherited(arguments);if(!has("ie")||(has("ie")>7&&!has("quirks"))){_e57.style.width="";if(_e57&&_e56){if((_e58=_e56.offsetWidth)!=_e57.offsetWidth){_e57.style.width=_e58+"px";}}}},destroy:function(){this._destroyColumns();if(this._sortListener){this._sortListener.remove();}this.inherited(arguments);},_setSort:function(_e59,_e5a){this.inherited(arguments);this.updateSortArrow(this._sort);},updateSortArrow:function(sort,_e5b){if(this._lastSortedArrow){put(this._lastSortedArrow,"<!dgrid-sort-up!dgrid-sort-down");put(this._lastSortedArrow,"!");delete this._lastSortedArrow;}if(_e5b){this._sort=sort;}if(!sort[0]){return;}var prop=sort[0].attribute,desc=sort[0].descending,_e5c=this._sortNode,_e5d,_e5e,i;delete this._sortNode;if(!_e5c){_e5d=this.columns;for(i in _e5d){_e5e=_e5d[i];if(_e5e.field==prop){_e5c=_e5e.headerNode;break;}}}if(_e5c){_e5c=_e5c.contents||_e5c;this._lastSortedArrow=put(_e5c.firstChild,"-div.dgrid-sort-arrow.ui-icon[role=presentation]");this._lastSortedArrow.innerHTML="&nbsp;";put(_e5c,desc?".dgrid-sort-down":".dgrid-sort-up");this.resize();}},styleColumn:function(_e5f,css){return this.addCssRule("#"+_e2f.escapeCssIdentifier(this.domNode.id)+" .dgrid-column-"+_e5f,css);},_configColumns:function(_e60,_e61){var _e62=[],_e63=_e61 instanceof Array;function _e64(_e65,_e66){if(typeof _e65=="string"){_e61[_e66]=_e65={label:_e65};}if(!_e63&&!_e65.field){_e65.field=_e66;}_e66=_e65.id=_e65.id||(isNaN(_e66)?_e66:(_e60+_e66));if(_e63){this.columns[_e66]=_e65;}if(this._configColumn){this._configColumn(_e65,_e66,_e61,_e60);}_e65.grid=this;if(typeof _e65.init==="function"){_e65.init();}_e62.push(_e65);};_e2f.each(_e61,_e64,this);return _e63?_e61:_e62;},_destroyColumns:function(){var _e67=this.subRows,_e68=_e67&&_e67.length,i,j,_e69,len;this.cleanup();for(i=0;i<_e68;i++){for(j=0,len=_e67[i].length;j<len;j++){_e69=_e67[i][j];if(typeof _e69.destroy==="function"){_e69.destroy();}}}},configStructure:function(){var _e6a=this.subRows,_e6b=this._columns=this.columns;this.columns=!_e6b||_e6b instanceof Array?{}:_e6b;if(_e6a){for(var i=0;i<_e6a.length;i++){_e6a[i]=this._configColumns(i+"-",_e6a[i]);}}else{this.subRows=[this._configColumns("",_e6b)];}},_getColumns:function(){return this._columns||this.columns;},_setColumns:function(_e6c){this._destroyColumns();this.subRows=null;this.columns=_e6c;this._updateColumns();},_setSubRows:function(_e6d){this._destroyColumns();this.subRows=_e6d;this._updateColumns();},setColumns:function(_e6e){_e2c.deprecated("setColumns(...)","use set(\"columns\", ...) instead","dgrid 0.4");this.set("columns",_e6e);},setSubRows:function(_e6f){_e2c.deprecated("setSubRows(...)","use set(\"subRows\", ...) instead","dgrid 0.4");this.set("subRows",_e6f);},_updateColumns:function(){this.configStructure();this.renderHeader();this.refresh();this._lastCollection&&this.renderArray(this._lastCollection);if(this._started){if(this._sort&&this._sort.length){this.updateSortArrow(this._sort);}else{this.resize();}}}});function _e4b(_e70,data,td,_e71){if(this.formatter){var _e72=this.formatter,_e73=this.grid.formatterScope;td.innerHTML=typeof _e72==="string"&&_e73?_e73[_e72](data,_e70):_e72(data,_e70);}else{if(data!=null){td.appendChild(document.createTextNode(data));}}};Grid.appendIfNode=_e32;Grid.defaultRenderCell=_e4b;return Grid;});},"put-selector/put":function(){(function(_e74){var _e75,_e76=/[-+,> ]/;_e74([],_e75=function(doc,_e77){"use strict";_e76=_e77||_e76;var _e78=/(?:\s*([-+ ,<>]))?\s*(\.|!\.?|#)?([-\w%$|]+)?(?:\[([^\]=]+)=?['"]?([^\]'"]*)['"]?\])?/g,_e79,_e7a,_e7b=false,doc=doc||document,_e7c=typeof doc.createElement=="object";function _e7d(_e7e,text){_e7e.appendChild(doc.createTextNode(text));};function put(_e7f){var _e80,_e81,_e82,_e83,_e84,args=arguments,_e85=args[0];function _e86(){if(_e84&&_e83&&_e84!=_e83){(_e83==_e7f&&(_e80||(_e80=_e76.test(_e87)&&doc.createDocumentFragment()))?_e80:_e83).insertBefore(_e84,_e82||null);}};for(var i=0;i<args.length;i++){var _e87=args[i];if(typeof _e87=="object"){_e81=false;if(_e87 instanceof Array){_e84=doc.createDocumentFragment();for(var key=0;key<_e87.length;key++){_e84.appendChild(put(_e87[key]));}_e87=_e84;}if(_e87.nodeType){_e84=_e87;_e86();_e83=_e87;_e82=0;}else{for(var key in _e87){_e84[key]=_e87[key];}}}else{if(_e81){_e81=false;_e7d(_e84,_e87);}else{if(i<1){_e7f=null;}_e81=true;var _e88=_e87.replace(_e78,function(t,_e89,_e8a,_e8b,_e8c,_e8d){if(_e89){_e86();if(_e89=="-"||_e89=="+"){_e83=(_e82=(_e84||_e83)).parentNode;_e84=null;if(_e89=="+"){_e82=_e82.nextSibling;}}else{if(_e89=="<"){_e83=_e84=(_e84||_e83).parentNode;}else{if(_e89==","){_e83=_e7f;}else{if(_e84){_e83=_e84;}}_e84=null;}_e82=0;}if(_e84){_e83=_e84;}}var tag=!_e8a&&_e8b;if(tag||(!_e84&&(_e8a||_e8c))){if(tag=="$"){_e7d(_e83,args[++i]);}else{tag=tag||put.defaultTag;var _e8e=_e7c&&args[i+1]&&args[i+1].name;if(_e8e){tag="<"+tag+" name=\""+_e8e+"\">";}_e84=_e7b&&~(_e7a=tag.indexOf("|"))?doc.createElementNS(_e7b[tag.slice(0,_e7a)],tag.slice(_e7a+1)):doc.createElement(tag);}}if(_e8a){if(_e8b=="$"){_e8b=args[++i];}if(_e8a=="#"){_e84.id=_e8b;}else{var _e8f=_e84.className;var _e90=_e8f&&(" "+_e8f+" ").replace(" "+_e8b+" "," ");if(_e8a=="."){_e84.className=_e8f?(_e90+_e8b).substring(1):_e8b;}else{if(_e87=="!"){var _e91;if(_e7c){put("div",_e84,"<").innerHTML="";}else{if(_e91=_e84.parentNode){_e91.removeChild(_e84);}}}else{_e90=_e90.substring(1,_e90.length-1);if(_e90!=_e8f){_e84.className=_e90;}}}}}if(_e8c){if(_e8d=="$"){_e8d=args[++i];}if(_e8c=="style"){_e84.style.cssText=_e8d;}else{var _e92=_e8c.charAt(0)=="!"?(_e8c=_e8c.substring(1))&&"removeAttribute":"setAttribute";_e8d=_e8d===""?_e8c:_e8d;_e7b&&~(_e7a=_e8c.indexOf("|"))?_e84[_e92+"NS"](_e7b[_e8c.slice(0,_e7a)],_e8c.slice(_e7a+1),_e8d):_e84[_e92](_e8c,_e8d);}}return "";});if(_e88){throw new SyntaxError("Unexpected char "+_e88+" in "+_e87);}_e86();_e83=_e85=_e84||_e83;}}}if(_e7f&&_e80){_e7f.appendChild(_e80);}return _e85;};put.addNamespace=function(name,uri){if(doc.createElementNS){(_e7b||(_e7b={}))[name]=uri;}else{doc.namespaces.add(name,uri);}};put.defaultTag="div";put.forDocument=_e75;return put;});})(function(id,deps,_e93){_e93=_e93||deps;if(typeof define==="function"){define([],function(){return _e93();});}else{if(typeof window=="undefined"){require("./node-html")(module,_e93);}else{put=_e93();}}});},"dgrid/List":function(){define(["dojo/_base/kernel","dojo/_base/declare","dojo/on","dojo/has","./util/misc","dojo/has!touch?./TouchScroll","xstyle/has-class","put-selector/put","dojo/_base/sniff","xstyle/css!./css/dgrid.css"],function(_e94,_e95,_e96,has,_e97,_e98,_e99,put){_e99("mozilla","opera","webkit","ie","ie-6","ie-6-7","quirks","no-quirks","touch");var _e9a="dgrid-row-odd",_e9b="dgrid-row-even",_e9c,_e9d;function byId(id){return document.getElementById(id);};function _e9e(node,_e9f){var body=document.body,size;put(body,node,".dgrid-scrollbar-measure");size=node["offset"+_e9f]-node["client"+_e9f];put(node,"!dgrid-scrollbar-measure");body.removeChild(node);return size;};has.add("dom-scrollbar-width",function(_ea0,doc,_ea1){return _e9e(_ea1,"Width");});has.add("dom-scrollbar-height",function(_ea2,doc,_ea3){return _e9e(_ea3,"Height");});var _ea4=0;function _ea5(){return "dgrid_"+_ea4++;};var _ea6=/ +/g;function _ea7(cls){var _ea8=cls?"."+cls.replace(_ea6,"."):"";if(this._class){_ea8="!"+this._class.replace(_ea6,"!")+_ea8;}put(this.domNode,_ea8);this._class=cls;};function _ea9(){return this._class;};var _eaa=has("ie")<7&&!has("quirks")?function(){var root,w,h,dims;if(!this._started){return;}root=document.documentElement;w=root.clientWidth;h=root.clientHeight;dims=this._prevWinDims||[];if(dims[0]!==w||dims[1]!==h){this.resize();this._prevWinDims=[w,h];}}:function(){if(this._started){this.resize();}};function _eab(){return {x:this.bodyNode.scrollLeft,y:this.bodyNode.scrollTop};};function _eac(_ead){if(typeof _ead.x!=="undefined"){this.bodyNode.scrollLeft=_ead.x;}if(typeof _ead.y!=="undefined"){this.bodyNode.scrollTop=_ead.y;}};return _e95(has("touch")?_e98:null,{tabableHeader:false,showHeader:false,showFooter:false,maintainOddEven:true,cleanAddedRules:true,useTouchScroll:true,postscript:function(_eae,_eaf){var grid=this;(this._Row=function(id,_eb0,_eb1){this.id=id;this.data=_eb0;this.element=_eb1;}).prototype.remove=function(){grid.removeRow(this.element);};if(_eaf){this.srcNodeRef=_eaf=_eaf.nodeType?_eaf:byId(_eaf);}this.create(_eae,_eaf);},listType:"list",create:function(_eb2,_eb3){var _eb4=this.domNode=_eb3||put("div"),cls;if(_eb2){this.params=_eb2;_e95.safeMixin(this,_eb2);cls=_eb2["class"]||_eb2.className||_eb4.className;this._sort=_eb2.sort||[];delete this.sort;}else{this._sort=[];}this.observers=[];this._numObservers=0;this._listeners=[];this._rowIdToObject={};this.postMixInProperties&&this.postMixInProperties();this.id=_eb4.id=_eb4.id||this.id||_ea5();this.buildRendering();if(cls){_ea7.call(this,cls);}this.postCreate();delete this.srcNodeRef;if(this.domNode.offsetHeight){this.startup();}},buildRendering:function(){var _eb5=this.domNode,self=this,_eb6,_eb7,_eb8,_eb9,_eba;_eba=this.isRTL=(document.body.dir||document.documentElement.dir||document.body.style.direction).toLowerCase()=="rtl";_eb5.className="";put(_eb5,"[role=grid].ui-widget.dgrid.dgrid-"+this.listType);_eb6=this.headerNode=put(_eb5,"div.dgrid-header.dgrid-header-row.ui-widget-header"+(this.showHeader?"":".dgrid-header-hidden"));if(has("quirks")||has("ie")<8){_eb7=put(_eb5,"div.dgrid-spacer");}_eb8=this.bodyNode=put(_eb5,"div.dgrid-scroller");_eb8.tabIndex=-1;this.headerScrollNode=put(_eb5,"div.dgrid-header-scroll.dgrid-scrollbar-width.ui-widget-header");_eb9=this.footerNode=put("div.dgrid-footer"+(this.showFooter?"":".dgrid-footer-hidden"));put(_eb5,_eb9);if(_eba){_eb5.className+=" dgrid-rtl"+(has("webkit")?"":" dgrid-rtl-nonwebkit");}_e96(_eb8,"scroll",function(_ebb){if(self.showHeader){_eb6.scrollLeft=_ebb.scrollLeft||_eb8.scrollLeft;}_ebb.stopPropagation();_e96.emit(_eb5,"scroll",{scrollTarget:_eb8});});this.configStructure();this.renderHeader();this.contentNode=this.touchNode=put(this.bodyNode,"div.dgrid-content.ui-widget-content");this._listeners.push(this._resizeHandle=_e96(window,"resize",_e97.throttleDelayed(_eaa,this)));},postCreate:has("touch")?function(){if(this.useTouchScroll){this.inherited(arguments);}}:function(){},startup:function(){if(this._started){return;}this.inherited(arguments);this._started=true;this.resize();this.set("sort",this._sort);},configStructure:function(){},resize:function(){var _ebc=this.bodyNode,_ebd=this.headerNode,_ebe=this.footerNode,_ebf=_ebd.offsetHeight,_ec0=this.showFooter?_ebe.offsetHeight:0,_ec1=has("quirks")||has("ie")<7;this.headerScrollNode.style.height=_ebc.style.marginTop=_ebf+"px";_ebc.style.marginBottom=_ec0+"px";if(_ec1){_ebc.style.height="";_ebc.style.height=Math.max((this.domNode.offsetHeight-_ebf-_ec0),0)+"px";if(_ec0){_ebe.style.bottom="1px";setTimeout(function(){_ebe.style.bottom="";},0);}}if(!_e9c){_e9c=has("dom-scrollbar-width");_e9d=has("dom-scrollbar-height");if(has("ie")){_e9c++;_e9d++;}_e97.addCssRule(".dgrid-scrollbar-width","width: "+_e9c+"px");_e97.addCssRule(".dgrid-scrollbar-height","height: "+_e9d+"px");if(_e9c!=17&&!_ec1){_e97.addCssRule(".dgrid-header","right: "+_e9c+"px");_e97.addCssRule(".dgrid-rtl-nonwebkit .dgrid-header","left: "+_e9c+"px");}}if(_ec1){_ebd.style.width=_ebc.clientWidth+"px";setTimeout(function(){_ebd.scrollLeft=_ebc.scrollLeft;},0);}},addCssRule:function(_ec2,css){var rule=_e97.addCssRule(_ec2,css);if(this.cleanAddedRules){this._listeners.push(rule);}return rule;},on:function(_ec3,_ec4){var _ec5=_e96(this.domNode,_ec3,_ec4);if(!has("dom-addeventlistener")){this._listeners.push(_ec5);}return _ec5;},cleanup:function(){var _ec6=this.observers,i;for(i in this._rowIdToObject){if(this._rowIdToObject[i]!=this.columns){var _ec7=byId(i);if(_ec7){this.removeRow(_ec7,true);}}}for(i=0;i<_ec6.length;i++){var _ec8=_ec6[i];_ec8&&_ec8.cancel();}this.observers=[];this._numObservers=0;this.preload=null;},destroy:function(){if(this._listeners){for(var i=this._listeners.length;i--;){this._listeners[i].remove();}delete this._listeners;}this.cleanup();put(this.domNode,"!");this.inherited(arguments);},refresh:function(){this.cleanup();this._rowIdToObject={};this._autoId=0;this.contentNode.innerHTML="";this.scrollTo({x:0,y:0});},newRow:function(_ec9,_eca,_ecb,i,_ecc){if(_eca){var row=this.insertRow(_ec9,_eca,_ecb,i,_ecc);put(row,".ui-state-highlight");setTimeout(function(){put(row,"!ui-state-highlight");},250);return row;}},adjustRowIndices:function(_ecd){var next=_ecd;var _ece=next.rowIndex;if(_ece>-1){do{if(next.rowIndex>-1){if(this.maintainOddEven){if((next.className+" ").indexOf("dgrid-row ")>-1){put(next,"."+(_ece%2==1?_e9a:_e9b)+"!"+(_ece%2==0?_e9a:_e9b));}}next.rowIndex=_ece++;}}while((next=next.nextSibling)&&next.rowIndex!=_ece);}},renderArray:function(_ecf,_ed0,_ed1){_ed1=_ed1||{};var self=this,_ed2=_ed1.start||0,_ed3=this.observers,rows,_ed4,_ed5;if(!_ed0){this._lastCollection=_ecf;}if(_ecf.observe){self._numObservers++;_ed5=_ed3.push(_ecf.observe(function(_ed6,from,to){var row,_ed7,_ed8,_ed9;function _eda(){_ed8=(_ed8.connected||_ed8).nextSibling;};if(from>-1&&rows[from]){row=rows.splice(from,1)[0];if(row.parentNode==_ed4){_ed7=row.nextSibling;if(_ed7){if(from!=to){_ed7.rowIndex--;}}self.removeRow(row);}if(self._processScroll){self._processScroll();}}if(to>-1){if(rows.length){_ed8=rows[to];if(!_ed8){_ed8=rows[to-1];if(_ed8){_eda();}}}else{_ed8=self._getFirstRowSibling&&self._getFirstRowSibling(_ed4);}if(row&&_ed8&&row.id===_ed8.id){_eda();}if(_ed8&&!_ed8.parentNode){_ed8=byId(_ed8.id);}_ed9=(_ed0&&_ed0.parentNode)||(_ed8&&_ed8.parentNode)||self.contentNode;row=self.newRow(_ed6,_ed9,_ed8,_ed1.start+to,_ed1);if(row){row.observerIndex=_ed5;rows.splice(to,0,row);if(!_ed7||to<from){var _edb=row.previousSibling;_ed7=!_edb||_edb.rowIndex+1==row.rowIndex||row.rowIndex==0?row:_edb;}}_ed1.count++;}from!=to&&_ed7&&self.adjustRowIndices(_ed7);self._onNotification(rows,_ed6,from,to);},true))-1;}var _edc=document.createDocumentFragment(),_edd;function _ede(_edf){_edd=self.insertRow(_edf,_edc,null,_ed2++,_ed1);_edd.observerIndex=_ed5;return _edd;};function _ee0(_ee1){if(typeof _ed5!=="undefined"){_ed3[_ed5].cancel();_ed3[_ed5]=0;self._numObservers--;}if(_ee1){throw _ee1;}};function _ee2(_ee3){_ed4=_ed0?_ed0.parentNode:self.contentNode;if(_ed4&&_ed4.parentNode&&(_ed4!==self.contentNode||_ee3.length)){_ed4.insertBefore(_edc,_ed0||null);_edd=_ee3[_ee3.length-1];_edd&&self.adjustRowIndices(_edd);}else{if(_ed3[_ed5]){_ee0();}}return (rows=_ee3);};if(_ecf.map){rows=_ecf.map(_ede,console.error);if(rows.then){return rows.then(_ee2,_ee0);}}else{rows=[];for(var i=0,l=_ecf.length;i<l;i++){rows[i]=_ede(_ecf[i]);}}return _ee2(rows);},_onNotification:function(rows,_ee4,from,to){},renderHeader:function(){},_autoId:0,insertRow:function(_ee5,_ee6,_ee7,i,_ee8){var _ee9=_ee8.parentId,id=this.id+"-row-"+(_ee9?_ee9+"-":"")+((this.store&&this.store.getIdentity)?this.store.getIdentity(_ee5):this._autoId++),row=byId(id),_eea=row&&row.previousSibling;if(row){this.removeRow(row);}row=this.renderRow(_ee5,_ee8);row.className=(row.className||"")+" ui-state-default dgrid-row "+(i%2==1?_e9a:_e9b);this._rowIdToObject[row.id=id]=_ee5;_ee6.insertBefore(row,_ee7||null);if(_eea){this.adjustRowIndices(_eea);}row.rowIndex=i;return row;},renderRow:function(_eeb,_eec){return put("div",""+_eeb);},removeRow:function(_eed,_eee){_eed=_eed.element||_eed;delete this._rowIdToObject[_eed.id];if(!_eee){put(_eed,"!");}},row:function(_eef){var id;if(_eef instanceof this._Row){return _eef;}if(_eef.target&&_eef.target.nodeType){_eef=_eef.target;}if(_eef.nodeType){var _ef0;do{var _ef1=_eef.id;if((_ef0=this._rowIdToObject[_ef1])){return new this._Row(_ef1.substring(this.id.length+5),_ef0,_eef);}_eef=_eef.parentNode;}while(_eef&&_eef!=this.domNode);return;}if(typeof _eef=="object"){id=this.store.getIdentity(_eef);}else{id=_eef;_eef=this._rowIdToObject[this.id+"-row-"+id];}return new this._Row(id,_eef,byId(this.id+"-row-"+id));},cell:function(_ef2){return {row:this.row(_ef2)};},_move:function(item,_ef3,_ef4,_ef5){var _ef6,_ef7,_ef8;_ef8=_ef7=item.element;_ef3=_ef3||1;do{if((_ef6=_ef7[_ef3<0?"previousSibling":"nextSibling"])){do{_ef7=_ef6;if(_ef7&&(_ef7.className+" ").indexOf(_ef4+" ")>-1){_ef8=_ef7;_ef3+=_ef3<0?1:-1;break;}}while((_ef6=(!_ef5||!_ef7.hidden)&&_ef7[_ef3<0?"lastChild":"firstChild"]));}else{_ef7=_ef7.parentNode;if(_ef7===this.bodyNode||_ef7===this.headerNode){break;}}}while(_ef3);return _ef8;},up:function(row,_ef9,_efa){if(!row.element){row=this.row(row);}return this.row(this._move(row,-(_ef9||1),"dgrid-row",_efa));},down:function(row,_efb,_efc){if(!row.element){row=this.row(row);}return this.row(this._move(row,_efb||1,"dgrid-row",_efc));},scrollTo:has("touch")?function(_efd){return this.useTouchScroll?this.inherited(arguments):_eac.call(this,_efd);}:_eac,getScrollPosition:has("touch")?function(){return this.useTouchScroll?this.inherited(arguments):_eab.call(this);}:_eab,get:function(name){var fn="_get"+name.charAt(0).toUpperCase()+name.slice(1);if(typeof this[fn]==="function"){return this[fn].apply(this,[].slice.call(arguments,1));}if(!1&&typeof this[fn+"Attr"]==="function"){}return this[name];},set:function(name,_efe){if(typeof name==="object"){for(var k in name){this.set(k,name[k]);}}else{var fn="_set"+name.charAt(0).toUpperCase()+name.slice(1);if(typeof this[fn]==="function"){this[fn].apply(this,[].slice.call(arguments,1));}else{if(!1&&typeof this[fn+"Attr"]==="function"){}this[name]=_efe;}}return this;},_getClass:_ea9,_setClass:_ea7,_getClassName:_ea9,_setClassName:_ea7,_setSort:function(_eff,_f00){this._sort=typeof _eff!="string"?_eff:[{attribute:_eff,descending:_f00}];this.refresh();if(this._lastCollection){if(_eff.length){if(typeof _eff!="string"){_f00=_eff[0].descending;_eff=_eff[0].attribute;}this._lastCollection.sort(function(a,b){var aVal=a[_eff],bVal=b[_eff];if(aVal===undefined){aVal="";}if(bVal===undefined){bVal="";}return aVal==bVal?0:(aVal>bVal==!_f00?1:-1);});}this.renderArray(this._lastCollection);}},sort:function(_f01,_f02){_e94.deprecated("sort(...)","use set(\"sort\", ...) instead","dgrid 0.4");this.set("sort",_f01,_f02);},_getSort:function(){return this._sort;},_setShowHeader:function(show){var _f03=this.headerNode;this.showHeader=show;put(_f03,(show?"!":".")+"dgrid-header-hidden");this.renderHeader();this.resize();if(show){_f03.scrollLeft=this.getScrollPosition().x;}},setShowHeader:function(show){_e94.deprecated("setShowHeader(...)","use set(\"showHeader\", ...) instead","dgrid 0.4");this.set("showHeader",show);},_setShowFooter:function(show){this.showFooter=show;put(this.footerNode,(show?"!":".")+"dgrid-footer-hidden");this.resize();}});});},"dgrid/util/misc":function(){define(["put-selector/put"],function(put){var _f04=[],_f05,_f06,_f07,_f08=/([^A-Za-z0-9_\u00A0-\uFFFF-])/g;function _f09(_f0a){var _f0b=_f04[_f0a],i,l;if(_f0b===undefined){return;}_f05[_f06](_f0b);_f04[_f0a]=undefined;for(i=_f0a+1,l=_f04.length;i<l;i++){if(_f04[i]>_f0b){_f04[i]--;}}};var util={defaultDelay:15,throttle:function(cb,_f0c,_f0d){var ran=false;_f0d=_f0d||util.defaultDelay;return function(){if(ran){return;}ran=true;cb.apply(_f0c,arguments);setTimeout(function(){ran=false;},_f0d);};},throttleDelayed:function(cb,_f0e,_f0f){var ran=false;_f0f=_f0f||util.defaultDelay;return function(){if(ran){return;}ran=true;var a=arguments;setTimeout(function(){ran=false;cb.apply(_f0e,a);},_f0f);};},debounce:function(cb,_f10,_f11){var _f12;_f11=_f11||util.defaultDelay;return function(){if(_f12){clearTimeout(_f12);_f12=null;}var a=arguments;_f12=setTimeout(function(){cb.apply(_f10,a);},_f11);};},each:function(_f13,_f14,_f15){var i,len;if(!_f13){return;}if(typeof _f13.length==="number"){for(i=0,len=_f13.length;i<len;i++){_f14.call(_f15,_f13[i],i,_f13);}}else{for(i in _f13){_f14.call(_f15,_f13[i],i,_f13);}}},addCssRule:function(_f16,css){if(!_f05){_f05=put(document.getElementsByTagName("head")[0],"style");_f05=_f05.sheet||_f05.styleSheet;_f06=_f05.deleteRule?"deleteRule":"removeRule";_f07=_f05.cssRules?"cssRules":"rules";}var _f17=_f04.length;_f04[_f17]=(_f05.cssRules||_f05.rules).length;_f05.addRule?_f05.addRule(_f16,css):_f05.insertRule(_f16+"{"+css+"}",_f04[_f17]);return {get:function(prop){return _f05[_f07][_f04[_f17]].style[prop];},set:function(prop,_f18){if(typeof _f04[_f17]!=="undefined"){_f05[_f07][_f04[_f17]].style[prop]=_f18;}},remove:function(){_f09(_f17);}};},escapeCssIdentifier:function(id){return id.replace(_f08,"\\$1");}};return util;});},"xstyle/has-class":function(){define(["dojo/has"],function(has){var _f19={};return function(){var test,args=arguments;for(var i=0;i<args.length;i++){var test=args[i];if(!_f19[test]){_f19[test]=true;var _f1a=test.match(/^(no-)?(.+?)((-[\d\.]+)(-[\d\.]+)?)?$/),_f1b=has(_f1a[2]),_f1c=-_f1a[4];if((_f1c>0?_f1c<=_f1b&&(-_f1a[5]||_f1c)>=_f1b:!!_f1b)==!_f1a[1]){document.documentElement.className+=" has-"+test;}}}};});},"xstyle/css":function(){define(["require"],function(_f1d){"use strict";function _f1e(tag,id,_f1f){var _f20=document.documentElement;var _f21=_f20.insertBefore(document.createElement(tag),_f20.firstChild);_f21.id=id;var _f22=(_f21.currentStyle||getComputedStyle(_f21,null))[_f1f];_f20.removeChild(_f21);return _f22;};return {load:function(_f23,_f24,_f25,_f26){var url=_f24.toUrl(_f23);var _f27=_f24.cache["url:"+url];if(_f27){if(_f27.xCss){var _f28=_f27.parser;var xCss=_f27.xCss;_f27=_f27.cssText;}_f1d(["./util/createStyleSheet"],function(_f29){_f29(_f27);});if(xCss){}return _f2a();}function _f2a(){var _f2b=_f1e("x-parse",null,"content");if(_f2b&&_f2b!="none"){_f24([eval(_f2b)],_f25);}else{_f25();}};var _f2c=_f1e("div",_f23.replace(/\//g,"-").replace(/\..*/,"")+"-loaded","display");if(_f2c=="none"){return _f2a();}_f1d(["./load-css"],function(load){load(url,_f2a);});}};});},"dgrid/OnDemandList":function(){define(["./List","./_StoreMixin","dojo/_base/declare","dojo/_base/lang","dojo/_base/Deferred","dojo/on","./util/misc","put-selector/put"],function(List,_f2d,_f2e,lang,_f2f,_f30,_f31,put){return _f2e([List,_f2d],{minRowsPerPage:25,maxRowsPerPage:250,maxEmptySpace:Infinity,bufferRows:10,farOffRemoval:2000,queryRowsOverlap:1,pagingMethod:"debounce",pagingDelay:_f31.defaultDelay,keepScrollPosition:false,rowHeight:22,postCreate:function(){this.inherited(arguments);var self=this;_f30(this.bodyNode,"scroll",_f31[this.pagingMethod](function(_f32){self._processScroll(_f32);},null,this.pagingDelay));},renderQuery:function(_f33,_f34,_f35){var self=this,_f36={query:_f33,count:0,node:_f34,options:_f35},_f37=this.preload,_f38;if(!_f34){var _f39={node:put(this.contentNode,"div.dgrid-preload",{rowIndex:0}),count:0,query:_f33,next:_f36,options:_f35};_f39.node.style.height="0";_f36.node=_f34=put(this.contentNode,"div.dgrid-preload");_f36.previous=_f39;}_f34.rowIndex=this.minRowsPerPage;if(_f37){if((_f36.next=_f37.next)&&this.bodyNode.scrollTop>=_f37.node.offsetTop){_f36.previous=_f37;}else{_f36.next=_f37;_f36.previous=_f37.previous;}_f36.previous.next=_f36;_f36.next.previous=_f36;}else{this.preload=_f36;}var _f3a=put(_f34,"-div.dgrid-loading"),_f3b=put(_f3a,"div.dgrid-below");_f3b.innerHTML=this.loadingMessage;function _f3c(err){put(_f3a,"!");if(err){if(self._refreshDeferred){self._refreshDeferred.reject(err);delete self._refreshDeferred;}throw err;}};_f35=lang.mixin(this.get("queryOptions"),_f35,{start:0,count:this.minRowsPerPage,query:_f33});this._trackError(function(){return _f38=_f33(_f35);});if(typeof _f38==="undefined"){_f3c();return;}_f2f.when(self.renderArray(_f38,_f34,_f35),function(trs){var _f3d=typeof _f38.total==="undefined"?_f38.length:_f38.total;return _f2f.when(_f3d,function(_f3e){var _f3f=trs.length,_f40=_f34.parentNode,_f41=self.noDataNode;put(_f3a,"!");self._total=_f3e;if(_f3e===0){if(_f41){put(_f41,"!");delete self.noDataNode;}self.noDataNode=_f41=put("div.dgrid-no-data");_f40.insertBefore(_f41,self._getFirstRowSibling(_f40));_f41.innerHTML=self.noDataMessage;}var _f42=0;for(var i=0;i<_f3f;i++){_f42+=self._calcRowHeight(trs[i]);}if(_f3f&&_f42){self.rowHeight=_f42/_f3f;}_f3e-=_f3f;_f36.count=_f3e;_f34.rowIndex=_f3f;if(_f3e){_f34.style.height=Math.min(_f3e*self.rowHeight,self.maxEmptySpace)+"px";}else{_f34.style.display="none";}if(self._previousScrollPosition){self.scrollTo(self._previousScrollPosition);delete self._previousScrollPosition;}self._processScroll();if(self._refreshDeferred){self._refreshDeferred.resolve(_f38);delete self._refreshDeferred;}return trs;},_f3c);},_f3c);return _f38;},refresh:function(_f43){var self=this,keep=(_f43&&_f43.keepScrollPosition),dfd,_f44;if(typeof keep==="undefined"){keep=this.keepScrollPosition;}if(keep){this._previousScrollPosition=this.getScrollPosition();}this.inherited(arguments);if(this.store){dfd=this._refreshDeferred=new _f2f();_f44=self.renderQuery(function(_f45){return self.store.query(self.query,_f45);});if(typeof _f44==="undefined"){dfd.reject();}return dfd.then(function(_f46){setTimeout(function(){_f30.emit(self.domNode,"dgrid-refresh-complete",{bubbles:true,cancelable:false,grid:self,results:_f46});},0);delete self._refreshDeferred;return _f46;},function(err){delete self._refreshDeferred;throw err;});}},resize:function(){this.inherited(arguments);this._processScroll();},_getFirstRowSibling:function(_f47){return _f47.lastChild;},_calcRowHeight:function(_f48){var _f49=_f48.previousSibling;return _f49&&_f49.offsetTop!=_f48.offsetTop?_f48.offsetHeight:0;},lastScrollTop:0,_processScroll:function(evt){var grid=this,_f4a=grid.bodyNode,_f4b=(evt&&evt.scrollTop)||this.getScrollPosition().y,_f4c=_f4a.offsetHeight+_f4b,_f4d,_f4e,_f4f=grid.preload,_f50=grid.lastScrollTop,_f51=grid.bufferRows*grid.rowHeight,_f52=_f51-grid.rowHeight,_f53,_f54,_f55,_f56=true;var _f57=1;grid.lastScrollTop=_f4b;function _f58(_f59,_f5a,_f5b,_f5c){var _f5d=grid.farOffRemoval,_f4e=_f59.node;if(_f5a>2*_f5d){var row,_f5e=_f4e[_f5b];var _f5f=0;var _f60=0;var _f61=[];while((row=_f5e)){var _f62=grid._calcRowHeight(row);if(_f5f+_f62+_f5d>_f5a||(_f5e.className.indexOf("dgrid-row")<0&&_f5e.className.indexOf("dgrid-loading")<0)){break;}var _f5e=row[_f5b];_f5f+=_f62;_f60+=row.count||1;grid.removeRow(row,true);_f61.push(row);}_f59.count+=_f60;if(_f5c){_f4e.rowIndex-=_f60;_f63(_f59);}else{_f4e.style.height=(_f4e.offsetHeight+_f5f)+"px";}var _f64=put("div",_f61);setTimeout(function(){put(_f64,"!");},1);}};function _f63(_f65,_f66){_f65.node.style.height=Math.min(_f65.count*grid.rowHeight,_f66?Infinity:grid.maxEmptySpace)+"px";};function _f67(_f68,_f69){do{_f68=_f69?_f68.next:_f68.previous;}while(_f68&&!_f68.node.offsetWidth);return _f68;};while(_f4f&&!_f4f.node.offsetWidth){_f4f=_f4f.previous;}while(_f4f&&_f4f!=_f4d){_f4d=grid.preload;grid.preload=_f4f;_f4e=_f4f.node;var _f6a=_f4e.offsetTop;var _f6b;if(_f4c+_f57+_f52<_f6a){_f4f=_f67(_f4f,(_f56=false));}else{if(_f4b-_f57-_f52>(_f6a+(_f6b=_f4e.offsetHeight))){_f4f=_f67(_f4f,(_f56=true));}else{var _f6c=((_f4e.rowIndex?_f4b-_f51:_f4c)-_f6a)/grid.rowHeight;var _f6d=(_f4c-_f4b+2*_f51)/grid.rowHeight;var _f6e=Math.max(Math.min((_f4b-_f50)*grid.rowHeight,grid.maxRowsPerPage/2),grid.maxRowsPerPage/-2);_f6d+=Math.min(Math.abs(_f6e),10);if(_f4e.rowIndex==0){_f6c-=_f6d;}_f6c=Math.max(_f6c,0);if(_f6c<10&&_f6c>0&&_f6d+_f6c<grid.maxRowsPerPage){_f6d+=Math.max(0,_f6c);_f6c=0;}_f6d=Math.min(Math.max(_f6d,grid.minRowsPerPage),grid.maxRowsPerPage,_f4f.count);if(_f6d==0){_f4f=_f67(_f4f,_f56);continue;}_f6d=Math.ceil(_f6d);_f6c=Math.min(Math.floor(_f6c),_f4f.count-_f6d);var _f6f=lang.mixin(grid.get("queryOptions"),_f4f.options);_f4f.count-=_f6d;var _f70=_f4e,_f71,_f72=grid.queryRowsOverlap,_f73=_f4e.rowIndex>0&&_f4f;if(_f73){var _f74=_f4f.previous;if(_f74){_f58(_f74,_f4b-(_f74.node.offsetTop+_f74.node.offsetHeight),"nextSibling");if(_f6c>0&&_f74.node==_f4e.previousSibling){_f6c=Math.min(_f4f.count,_f6c);_f4f.previous.count+=_f6c;_f63(_f4f.previous,true);_f4e.rowIndex+=_f6c;_f72=0;}else{_f6d+=_f6c;}_f4f.count-=_f6c;}_f6f.start=_f4e.rowIndex-_f72;_f6f.count=Math.min(_f6d+_f72,grid.maxRowsPerPage);_f4e.rowIndex=_f6f.start+_f6f.count;}else{if(_f4f.next){_f58(_f4f.next,_f4f.next.node.offsetTop-_f4c,"previousSibling",true);var _f70=_f4e.nextSibling;if(_f70==_f4f.next.node){_f4f.next.count+=_f4f.count-_f6c;_f4f.next.node.rowIndex=_f6c+_f6d;_f63(_f4f.next);_f4f.count=_f6c;_f72=0;}else{_f71=true;}}_f6f.start=_f4f.count;_f6f.count=Math.min(_f6d+_f72,grid.maxRowsPerPage);}if(_f71&&_f70&&_f70.offsetWidth){_f71=_f70.offsetTop;}_f63(_f4f);var _f75=put(_f70,"-div.dgrid-loading[style=height:"+_f6d*grid.rowHeight+"px]"),_f76=put(_f75,"div.dgrid-"+(_f73?"below":"above"));_f76.innerHTML=grid.loadingMessage;_f75.count=_f6d;_f6f.query=_f4f.query;if(_f6f.start>grid._total||_f6f.count<0){continue;}var _f77=_f4f.query(_f6f),_f78=grid._trackError(function(){return _f77;});if(_f78===undefined){put(_f75,"!");return;}(function(_f79,_f7a,_f7b,_f7c,_f7d){_f55=_f2f.when(grid.renderArray(_f7d,_f79,_f6f),function(rows){_f54=_f7d;_f70=_f79.nextSibling;put(_f79,"!");if(_f7c&&_f70&&_f70.offsetWidth){var pos=grid.getScrollPosition();grid.scrollTo({x:pos.x,y:pos.y+_f70.offsetTop-_f7c,preserveMomentum:true});}_f2f.when(_f7d.total||_f7d.length,function(_f7e){grid._total=_f7e;if(_f7b){_f7b.count=_f7e-_f7b.node.rowIndex;_f63(_f7b);}});grid._processScroll();return rows;},function(e){put(_f79,"!");throw e;});}).call(this,_f75,_f4a,_f73,_f71,_f77);_f4f=_f4f.previous;}}}if(_f55&&(_f53=this._refreshDeferred)){delete this._refreshDeferred;_f2f.when(_f55,function(){_f53.resolve(_f54);});}},removeRow:function(_f7f,_f80){function _f81(_f82,_f83){return _f82!=null?_f82:_f83;};if(_f7f){var _f84=_f7f.previousSibling,_f85=_f7f.nextSibling,_f86=_f84&&_f81(_f84.observerIndex,_f84.previousObserverIndex),_f87=_f85&&_f81(_f85.observerIndex,_f85.nextObserverIndex),_f88=_f7f.observerIndex;_f7f.observerIndex=undefined;if(_f80){_f7f.nextObserverIndex=_f87;_f7f.previousObserverIndex=_f86;}if(_f88>-1&&_f88!==_f86&&_f88!==_f87){var _f89=this.observers;var _f8a=_f89[_f88];if(_f8a){_f8a.cancel();this._numObservers--;_f89[_f88]=0;}}}this.inherited(arguments);}});});},"dgrid/_StoreMixin":function(){define(["dojo/_base/kernel","dojo/_base/declare","dojo/_base/lang","dojo/_base/Deferred","dojo/on","dojo/aspect","put-selector/put"],function(_f8b,_f8c,lang,_f8d,_f8e,_f8f,put){function noop(_f90){return _f90;};function _f91(err){if(typeof err!=="object"){err=new Error(err);}else{if(err.dojoType==="cancel"){return;}}err.grid=this;if(_f8e.emit(this.domNode,"dgrid-error",{grid:this,error:err,cancelable:true,bubbles:true})){console.error(err);}};return _f8c(null,{store:null,query:null,queryOptions:null,getBeforePut:true,noDataMessage:"",loadingMessage:"",constructor:function(){this.query={};this.queryOptions={};this.dirty={};this._updating={};this._columnsWithSet={};_f8f.before(this,"configStructure",lang.hitch(this,function(){this._columnsWithSet={};}));},postCreate:function(){this.inherited(arguments);if(this.store){this._updateNotifyHandle(this.store);}},destroy:function(){this.inherited(arguments);if(this._notifyHandle){this._notifyHandle.remove();}},_configColumn:function(_f92){if(_f92.set){this._columnsWithSet[_f92.field]=_f92;}},_updateNotifyHandle:function(_f93){if(this._notifyHandle){this._notifyHandle.remove();delete this._notifyHandle;}if(_f93&&typeof _f93.notify==="function"){this._notifyHandle=_f8f.after(_f93,"notify",lang.hitch(this,"_onNotify"),true);}},_setStore:function(_f94,_f95,_f96){this._updateNotifyHandle(_f94);this.store=_f94;this.dirty={};this.set("query",_f95,_f96);},_setQuery:function(_f97,_f98){var sort=_f98&&_f98.sort;this.query=_f97!==undefined?_f97:this.query;this.queryOptions=_f98||this.queryOptions;sort?this.set("sort",sort):this.refresh();},setStore:function(_f99,_f9a,_f9b){_f8b.deprecated("setStore(...)","use set(\"store\", ...) instead","dgrid 0.4");this.set("store",_f99,_f9a,_f9b);},setQuery:function(_f9c,_f9d){_f8b.deprecated("setQuery(...)","use set(\"query\", ...) instead","dgrid 0.4");this.set("query",_f9c,_f9d);},_getQueryOptions:function(){var _f9e=lang.delegate(this.queryOptions,{});if(this._sort.length){_f9e.sort=this._sort;}return _f9e;},_getQuery:function(){var q=this.query;return typeof q=="object"&&q!=null?lang.delegate(q,{}):q;},_setSort:function(_f9f,_fa0){if(this.store){this._lastCollection=null;}this.inherited(arguments);},_onNotify:function(_fa1,_fa2){this.inherited(arguments);if(_fa1&&this._numObservers<1){this.refresh({keepScrollPosition:true});}},insertRow:function(_fa3,_fa4,_fa5,i,_fa6){var _fa7=this.store,_fa8=this.dirty,id=_fa7&&_fa7.getIdentity(_fa3),_fa9;if(id in _fa8&&!(id in this._updating)){_fa9=_fa8[id];}if(_fa9){_fa3=lang.delegate(_fa3,_fa9);}return this.inherited(arguments);},updateDirty:function(id,_faa,_fab){var _fac=this.dirty,_fad=_fac[id];if(!_fad){_fad=_fac[id]={};}_fad[_faa]=_fab;},setDirty:function(id,_fae,_faf){_f8b.deprecated("setDirty(...)","use updateDirty() instead","dgrid 0.4");this.updateDirty(id,_fae,_faf);},save:function(){var self=this,_fb0=this.store,_fb1=this.dirty,dfd=new _f8d(),_fb2=dfd.promise,_fb3=function(id){var data;return (self.getBeforePut||!(data=self.row(id).data))?function(){return _fb0.get(id);}:function(){return data;};};function _fb4(id,_fb5){return function(_fb6){var _fb7=self._columnsWithSet,_fb8=self._updating,key,data;if(typeof _fb6.set==="function"){_fb6.set(_fb5);}else{for(key in _fb5){_fb6[key]=_fb5[key];}}for(key in _fb7){data=_fb7[key].set(_fb6);if(data!==undefined){_fb6[key]=data;}}_fb8[id]=true;return _f8d.when(_fb0.put(_fb6),function(){delete _fb1[id];delete _fb8[id];});};};for(var id in _fb1){var put=_fb4(id,_fb1[id]);_fb2=_fb2.then(_fb3(id)).then(put);}dfd.resolve();return _fb2;},revert:function(){this.dirty={};this.refresh();},_trackError:function(func){var _fb9;if(typeof func=="string"){func=lang.hitch(this,func);}try{_fb9=func();}catch(err){_f91.call(this,err);}return _f8d.when(_fb9,noop,lang.hitch(this,_f91));},newRow:function(){var row=this.inherited(arguments);if(this.noDataNode){put(this.noDataNode,"!");delete this.noDataNode;}return row;},removeRow:function(_fba,_fbb){var row={element:_fba};if(!_fbb&&this.noDataMessage&&(this.up(row).element===_fba)&&(this.down(row).element===_fba)){this.noDataNode=put(this.contentNode,"div.dgrid-no-data");this.noDataNode.innerHTML=this.noDataMessage;}return this.inherited(arguments);}});});},"dgrid/Selection":function(){define(["dojo/_base/kernel","dojo/_base/declare","dojo/_base/Deferred","dojo/on","dojo/has","dojo/aspect","./List","dojo/has!touch?./util/touch","put-selector/put","dojo/query","dojo/_base/sniff"],function(_fbc,_fbd,_fbe,on,has,_fbf,List,_fc0,put){has.add("mspointer",function(_fc1,doc,_fc2){return "onmspointerdown" in _fc2;});has.add("css-user-select",function(_fc3,doc,_fc4){var _fc5=_fc4.style,_fc6=["Khtml","O","ms","Moz","Webkit"],i=_fc6.length,name="userSelect";do{if(typeof _fc5[name]!=="undefined"){return name;}}while(i--&&(name=_fc6[i]+"UserSelect"));return false;});has.add("dom-selectstart",typeof document.onselectstart!=="undefined");var _fc7=has("mac")?"metaKey":"ctrlKey",_fc8=has("css-user-select"),_fc9=has("mspointer")?"MSPointerDown":"mousedown",_fca=has("mspointer")?"MSPointerUp":"mouseup";function _fcb(node,_fcc){var _fcd=node.unselectable=_fcc?"on":"",_fce=node.getElementsByTagName("*"),i=_fce.length;while(--i){if(_fce[i].tagName==="INPUT"||_fce[i].tagName==="TEXTAREA"){continue;}_fce[i].unselectable=_fcd;}};function _fcf(grid,_fd0){var node=grid.bodyNode,_fd1=_fd0?"text":has("ff")<21?"-moz-none":"none";if(_fc8){node.style[_fc8]=_fd1;}else{if(has("dom-selectstart")){if(!_fd0&&!grid._selectstartHandle){grid._selectstartHandle=on(node,"selectstart",function(evt){var tag=evt.target&&evt.target.tagName;if(tag!=="INPUT"&&tag!=="TEXTAREA"){evt.preventDefault();}});}else{if(_fd0&&grid._selectstartHandle){grid._selectstartHandle.remove();delete grid._selectstartHandle;}}}else{_fcb(node,!_fd0);if(!_fd0&&!grid._unselectableHandle){grid._unselectableHandle=_fbf.after(grid,"renderRow",function(row){_fcb(row,true);return row;});}else{if(_fd0&&grid._unselectableHandle){grid._unselectableHandle.remove();delete grid._unselectableHandle;}}}}};return _fbd(null,{selectionDelegate:".dgrid-row",selectionEvents:_fc9+","+_fca+",dgrid-cellfocusin",deselectOnRefresh:true,allowSelectAll:false,selection:{},selectionMode:"extended",allowTextSelection:undefined,create:function(){this.selection={};return this.inherited(arguments);},postCreate:function(){this.inherited(arguments);var _fd2=this.selectionMode;this.selectionMode="";this._setSelectionMode(_fd2);this._initSelectionEvents();},destroy:function(){this.inherited(arguments);if(this._selectstartHandle){this._selectstartHandle.remove();}if(this._unselectableHandle){this._unselectableHandle.remove();}if(this._deselectionHandle){this._deselectionHandle.remove();}},_setSelectionMode:function(mode){if(mode==this.selectionMode){return;}this.clearSelection();this.selectionMode=mode;this._selectionHandlerName="_"+mode+"SelectionHandler";this._setAllowTextSelection(this.allowTextSelection);},setSelectionMode:function(mode){_fbc.deprecated("setSelectionMode(...)","use set(\"selectionMode\", ...) instead","dgrid 0.4");this.set("selectionMode",mode);},_setAllowTextSelection:function(_fd3){if(typeof _fd3!=="undefined"){_fcf(this,_fd3);}else{_fcf(this,this.selectionMode==="none");}this.allowTextSelection=_fd3;},_handleSelect:function(_fd4,_fd5){if(!this[this._selectionHandlerName]||(_fd4.type==="dgrid-cellfocusin"&&_fd4.parentType==="mousedown")||(_fd4.type===_fca&&_fd5!=this._waitForMouseUp)){return;}this._waitForMouseUp=null;this._selectionTriggerEvent=_fd4;if(!_fd4.keyCode||!_fd4.ctrlKey||_fd4.keyCode==32){if(!_fd4.shiftKey&&_fd4.type===_fc9&&this.isSelected(_fd5)){this._waitForMouseUp=_fd5;}else{this[this._selectionHandlerName](_fd4,_fd5);}}this._selectionTriggerEvent=null;},_singleSelectionHandler:function(_fd6,_fd7){var _fd8=_fd6.keyCode?_fd6.ctrlKey:_fd6[_fc7];if(this._lastSelected===_fd7){this.select(_fd7,null,!_fd8||!this.isSelected(_fd7));}else{this.clearSelection();this.select(_fd7);this._lastSelected=_fd7;}},_multipleSelectionHandler:function(_fd9,_fda){var _fdb=this._lastSelected,_fdc=_fd9.keyCode?_fd9.ctrlKey:_fd9[_fc7],_fdd;if(!_fd9.shiftKey){_fdd=_fdc?null:true;_fdb=null;}this.select(_fda,_fdb,_fdd);if(!_fdb){this._lastSelected=_fda;}},_extendedSelectionHandler:function(_fde,_fdf){if(_fde.button===2?!this.isSelected(_fdf):!(_fde.keyCode?_fde.ctrlKey:_fde[_fc7])){this.clearSelection(null,true);}this._multipleSelectionHandler(_fde,_fdf);},_toggleSelectionHandler:function(_fe0,_fe1){this.select(_fe1,null,null);},_initSelectionEvents:function(){var grid=this,_fe2=this.selectionDelegate;if(has("touch")){on(this.contentNode,_fc0.selector(_fe2,_fc0.tap),function(evt){grid._handleSelect(evt,this);});}else{on(this.contentNode,on.selector(_fe2,this.selectionEvents),function(_fe3){grid._handleSelect(_fe3,this);});}if(this.addKeyHandler){this.addKeyHandler(32,function(_fe4){grid._handleSelect(_fe4,_fe4.target);});}if(this.allowSelectAll){this.on("keydown",function(_fe5){if(_fe5[_fc7]&&_fe5.keyCode==65){_fe5.preventDefault();grid[grid.allSelected?"clearSelection":"selectAll"]();}});}if(this._setStore){_fbf.after(this,"_setStore",function(){grid._updateDeselectionAspect();});}this._updateDeselectionAspect();},_updateDeselectionAspect:function(){var self=this,_fe6=this.store;if(this._deselectionSignal){this._deselectionSignal.remove();}if(_fe6&&_fe6.notify){this._deselectionSignal=_fbf.after(_fe6,"notify",function(_fe7,_fe8){var id=_fe8||(_fe7&&_fe7[this.idProperty||"id"]);if(id){var row=self.row(id),_fe9=row&&self.selection[row.id];if(_fe9){self[(_fe7?"":"de")+"select"](row,null,_fe9);}}},true);}else{this._deselectionSignal=_fbf.before(this,"removeRow",function(_fea,_feb){var row;if(!_feb){row=this.row(_fea);if(row&&(row.id in this.selection)){this.deselect(row);}}});}},allowSelect:function(row){return true;},_selectionEventQueue:function(_fec,type){var grid=this,_fed="dgrid-"+(_fec?"select":"deselect"),rows=this[_fed],_fee=this._selectionTriggerEvent;if(_fee){_fee=_fee.type;}if(rows){return rows;}setTimeout(this._fireSelectionEvent=function(){if(!rows){return;}var _fef={bubbles:true,grid:grid};if(_fee){_fef.parentType=_fee;}_fef[type]=rows;on.emit(grid.contentNode,_fed,_fef);rows=null;delete grid[_fed];},0);return (rows=this[_fed]=[]);},select:function(row,_ff0,_ff1){if(_ff1===undefined){_ff1=true;}if(!row.element){row=this.row(row);}if(_ff1===false||this.allowSelect(row)){var _ff2=this.selection;var _ff3=_ff2[row.id];if(_ff1===null){_ff1=!_ff3;}var _ff4=row.element;if(!_ff1&&!this.allSelected){delete this.selection[row.id];}else{_ff2[row.id]=_ff1;}if(_ff4){if(_ff1){put(_ff4,".dgrid-selected.ui-state-active");}else{put(_ff4,"!dgrid-selected!ui-state-active");}}if(_ff1!=_ff3&&_ff4){this._selectionEventQueue(_ff1,"rows").push(row);}if(_ff0){if(!_ff0.element){_ff0=this.row(_ff0);}var _ff5=_ff0.element;var _ff6=row.element;var _ff7=(_ff5&&(_ff5.compareDocumentPosition?_ff5.compareDocumentPosition(_ff6)==2:_ff5.sourceIndex>_ff6.sourceIndex))?"down":"up";while(row.element!=_ff5&&(row=this[_ff7](row))){this.select(row,null,_ff1);}}}},deselect:function(row,_ff8){this.select(row,_ff8,false);},clearSelection:function(_ff9,_ffa){this.allSelected=false;for(var id in this.selection){if(_ff9!==id){this.deselect(id);}}if(!_ffa){this._lastSelected=null;}},selectAll:function(){this.allSelected=true;this.selection={};for(var i in this._rowIdToObject){var row=this.row(this._rowIdToObject[i]);this.select(row.id);}},isSelected:function(_ffb){if(typeof _ffb==="undefined"||_ffb===null){return false;}if(!_ffb.element){_ffb=this.row(_ffb);}return (_ffb.id in this.selection)?!!this.selection[_ffb.id]:this.allSelected&&(!_ffb.data||this.allowSelect(_ffb));},refresh:function(){if(this.deselectOnRefresh){this.clearSelection();this._fireSelectionEvent&&this._fireSelectionEvent();}this._lastSelected=null;return this.inherited(arguments);},renderArray:function(){var grid=this,rows=this.inherited(arguments);_fbe.when(rows,function(rows){var _ffc=grid.selection,i,row,_ffd;for(i=0;i<rows.length;i++){row=grid.row(rows[i]);_ffd=row.id in _ffc?_ffc[row.id]:grid.allSelected;if(_ffd){grid.select(row,null,_ffd);}}});return rows;}});});},"dgrid/Keyboard":function(){define(["dojo/_base/declare","dojo/aspect","dojo/on","dojo/_base/lang","dojo/has","put-selector/put","dojo/_base/Deferred","dojo/_base/sniff"],function(_ffe,_fff,on,lang,has,put,_1000){var _1001={checkbox:1,radio:1,button:1},_1002=/\bdgrid-cell\b/,_1003=/\bdgrid-row\b/;has.add("dom-contains",function(_1004,doc,_1005){return !!_1005.contains;});function _1006(_1007,node){if(has("dom-contains")){return _1007.contains(node);}else{return _1007.compareDocumentPosition(node)&8;}};var _1008=_ffe(null,{pageSkip:10,tabIndex:0,keyMap:null,headerKeyMap:null,postMixInProperties:function(){this.inherited(arguments);if(!this.keyMap){this.keyMap=lang.mixin({},_1008.defaultKeyMap);}if(!this.headerKeyMap){this.headerKeyMap=lang.mixin({},_1008.defaultHeaderKeyMap);}},postCreate:function(){this.inherited(arguments);var grid=this;function _1009(event){var _100a=event.target;return _100a.type&&(!_1001[_100a.type]||event.keyCode==32);};function _100b(_100c){var _100d=grid.cellNavigation,_100e=_100d?_1002:_1003,_100f=_100c===grid.headerNode,_1010=_100c;function _1011(){grid._focusedHeaderNode=_1010=_100d?grid.headerNode.getElementsByTagName("th")[0]:grid.headerNode;if(_1010){_1010.tabIndex=grid.tabIndex;}};if(_100f){_1011();_fff.after(grid,"renderHeader",_1011,true);}else{_fff.after(grid,"renderArray",function(ret){return _1000.when(ret,function(ret){var _1012=grid._focusedNode||_1010;if(_100e.test(_1012.className)&&_1006(_100c,_1012)){return ret;}for(var i=0,_1013=_100c.getElementsByTagName("*"),_1014;(_1014=_1013[i]);++i){if(_100e.test(_1014.className)){_1012=grid._focusedNode=_1014;break;}}_1012.tabIndex=grid.tabIndex;return ret;});});}grid._listeners.push(on(_100c,"mousedown",function(event){if(!_1009(event)){grid._focusOnNode(event.target,_100f,event);}}));grid._listeners.push(on(_100c,"keydown",function(event){if(event.metaKey||event.altKey){return;}var _1015=grid[_100f?"headerKeyMap":"keyMap"][event.keyCode];if(_1015&&!_1009(event)){_1015.call(grid,event);}}));};if(this.tabableHeader){_100b(this.headerNode);on(this.headerNode,"dgrid-cellfocusin",function(){grid.scrollTo({x:this.scrollLeft});});}_100b(this.contentNode);},removeRow:function(_1016){if(!this._focusedNode){return this.inherited(arguments);}var self=this,_1017=document.activeElement===this._focusedNode,_1018=this[this.cellNavigation?"cell":"row"](this._focusedNode),_1019=_1018.row||_1018,_101a;_1016=_1016.element||_1016;if(_1016===_1019.element){_101a=this.down(_1019,true);if(!_101a||_101a.element===_1016){_101a=this.up(_1019,true);}this._removedFocus={active:_1017,rowId:_1019.id,columnId:_1018.column&&_1018.column.id,siblingId:!_101a||_101a.element===_1016?undefined:_101a.id};setTimeout(function(){if(self._removedFocus){self._restoreFocus(_1019.id);}},0);this._focusedNode=null;}this.inherited(arguments);},insertRow:function(_101b){var _101c=this.inherited(arguments);if(this._removedFocus&&!this._removedFocus.wait){this._restoreFocus(_101c);}return _101c;},_restoreFocus:function(row){var _101d=this._removedFocus,_101e;row=row&&this.row(row);_101e=row&&row.element&&row.id===_101d.rowId?row:typeof _101d.siblingId!=="undefined"&&this.row(_101d.siblingId);if(_101e&&_101e.element){if(!_101e.element.parentNode.parentNode){_101d.wait=true;return;}_101e=typeof _101d.columnId!=="undefined"?this.cell(_101e,_101d.columnId):_101e;if(_101d.active){this.focus(_101e);}else{put(_101e.element,".dgrid-focus");_101e.element.tabIndex=this.tabIndex;}}delete this._removedFocus;},addKeyHandler:function(key,_101f,_1020){return _fff.after(this[_1020?"headerKeyMap":"keyMap"],key,_101f,true);},_focusOnNode:function(_1021,_1022,event){var _1023="_focused"+(_1022?"Header":"")+"Node",_1024=this[_1023],_1025=this.cellNavigation?"cell":"row",cell=this[_1025](_1021),_1026,input,_1027,_1028,i;_1021=cell&&cell.element;if(!_1021){return;}if(this.cellNavigation){_1026=_1021.getElementsByTagName("input");for(i=0,_1027=_1026.length;i<_1027;i++){input=_1026[i];if((input.tabIndex!=-1||"lastValue" in input)&&!input.disabled){if(has("ie")<8){input.style.position="relative";}input.focus();if(has("ie")<8){input.style.position="";}_1028=true;break;}}}event=lang.mixin({grid:this},event);if(event.type){event.parentType=event.type;}if(!event.bubbles){event.bubbles=true;}if(_1024){put(_1024,"!dgrid-focus[!tabIndex]");if(has("ie")<8){_1024.style.position="";}event[_1025]=this[_1025](_1024);on.emit(_1021,"dgrid-cellfocusout",event);}_1024=this[_1023]=_1021;event[_1025]=cell;if(!_1028){if(has("ie")<8){_1021.style.position="relative";}_1021.tabIndex=this.tabIndex;_1021.focus();}put(_1021,".dgrid-focus");on.emit(_1024,"dgrid-cellfocusin",event);},focusHeader:function(_1029){this._focusOnNode(_1029||this._focusedHeaderNode,true);},focus:function(_102a){this._focusOnNode(_102a||this._focusedNode,false);}});var _102b=_1008.moveFocusVertical=function(event,steps){var _102c=this.cellNavigation,_102d=this[_102c?"cell":"row"](event),_102e=_102c&&_102d.column.id,next=this.down(this._focusedNode,steps,true);if(_102c){next=this.cell(next,_102e);}this._focusOnNode(next,false,event);event.preventDefault();};var _102f=_1008.moveFocusUp=function(event){_102b.call(this,event,-1);};var _1030=_1008.moveFocusDown=function(event){_102b.call(this,event,1);};var _1031=_1008.moveFocusPageUp=function(event){_102b.call(this,event,-this.pageSkip);};var _1032=_1008.moveFocusPageDown=function(event){_102b.call(this,event,this.pageSkip);};var _1033=_1008.moveFocusHorizontal=function(event,steps){if(!this.cellNavigation){return;}var _1034=!this.row(event),_1035=this["_focused"+(_1034?"Header":"")+"Node"];this._focusOnNode(this.right(_1035,steps),_1034,event);event.preventDefault();};var _1036=_1008.moveFocusLeft=function(event){_1033.call(this,event,-1);};var _1037=_1008.moveFocusRight=function(event){_1033.call(this,event,1);};var _1038=_1008.moveHeaderFocusEnd=function(event,_1039){var nodes;if(this.cellNavigation){nodes=this.headerNode.getElementsByTagName("th");this._focusOnNode(nodes[_1039?0:nodes.length-1],true,event);}event.preventDefault();};var _103a=_1008.moveHeaderFocusHome=function(event){_1038.call(this,event,true);};var _103b=_1008.moveFocusEnd=function(event,_103c){var self=this,_103d=this.cellNavigation,_103e=this.contentNode,_103f=_103c?0:_103e.scrollHeight,_1040=_103e.scrollTop+_103f,_1041=_103e[_103c?"firstChild":"lastChild"],_1042=_1041.className.indexOf("dgrid-preload")>-1,_1043=_1042?_1041[(_103c?"next":"previous")+"Sibling"]:_1041,_1044=_1043.offsetTop+(_103c?0:_1043.offsetHeight),_1045;if(_1042){while(_1043&&_1043.className.indexOf("dgrid-row")<0){_1043=_1043[(_103c?"next":"previous")+"Sibling"];}if(!_1043){return;}}if(!_1042||_1041.offsetHeight<1){if(_103d){_1043=this.cell(_1043,this.cell(event).column.id);}this._focusOnNode(_1043,false,event);}else{if(!has("dom-addeventlistener")){event=lang.mixin({},event);}_1045=_fff.after(this,"renderArray",function(rows){_1045.remove();return _1000.when(rows,function(rows){var _1046=rows[_103c?0:rows.length-1];if(_103d){_1046=self.cell(_1046,self.cell(event).column.id);}self._focusOnNode(_1046,false,event);});});}if(_1040===_1044){event.preventDefault();}};var _1047=_1008.moveFocusHome=function(event){_103b.call(this,event,true);};function _1048(event){event.preventDefault();};_1008.defaultKeyMap={32:_1048,33:_1031,34:_1032,35:_103b,36:_1047,37:_1036,38:_102f,39:_1037,40:_1030};_1008.defaultHeaderKeyMap={32:_1048,35:_1038,36:_103a,37:_1036,39:_1037};return _1008;});},"dgrid/extensions/DijitRegistry":function(){define(["dojo/_base/declare","dojo/dom-geometry","dijit/registry"],function(_1049,_104a,_104b){return _1049(null,{minSize:0,maxSize:Infinity,layoutPriority:0,showTitle:true,buildRendering:function(){_104b.add(this);this.inherited(arguments);this.domNode.setAttribute("widgetId",this.id);},startup:function(){if(this._started){return;}this.inherited(arguments);var _104c=_104b.getEnclosingWidget(this.domNode.parentNode);if(_104c&&_104c.isLayoutContainer){this._resizeHandle.remove();}},destroyRecursive:function(){this.destroy();},destroy:function(){this.inherited(arguments);_104b.remove(this.id);},getChildren:function(){return [];},isLeftToRight:function(){return !this.isRTL;},resize:function(_104d){if(_104d){_104a.setMarginBox(this.domNode,_104d);}this.inherited(arguments);},_set:function(prop,value){this[prop]=value;},watch:function(){},getParent:function(){return _104b.getEnclosingWidget(this.domNode.parentNode);}});});},"dijit/layout/BorderContainer":function(){define("dijit/layout/BorderContainer",["dojo/_base/array","dojo/cookie","dojo/_base/declare","dojo/dom-class","dojo/dom-construct","dojo/dom-geometry","dojo/dom-style","dojo/_base/event","dojo/keys","dojo/_base/lang","dojo/on","dojo/touch","../_WidgetBase","../_Widget","../_TemplatedMixin","./_LayoutWidget","./utils"],function(array,_104e,_104f,_1050,_1051,_1052,_1053,event,keys,lang,on,touch,_1054,_1055,_1056,_1057,_1058){var _1059=_104f("dijit.layout._Splitter",[_1055,_1056],{live:true,templateString:"<div class=\"dijitSplitter\" data-dojo-attach-event=\"onkeypress:_onKeyPress,press:_startDrag,onmouseenter:_onMouse,onmouseleave:_onMouse\" tabIndex=\"0\" role=\"separator\"><div class=\"dijitSplitterThumb\"></div></div>",constructor:function(){this._handlers=[];},postMixInProperties:function(){this.inherited(arguments);this.horizontal=/top|bottom/.test(this.region);this._factor=/top|left/.test(this.region)?1:-1;this._cookieName=this.container.id+"_"+this.region;},buildRendering:function(){this.inherited(arguments);_1050.add(this.domNode,"dijitSplitter"+(this.horizontal?"H":"V"));if(this.container.persist){var _105a=_104e(this._cookieName);if(_105a){this.child.domNode.style[this.horizontal?"height":"width"]=_105a;}}},_computeMaxSize:function(){var dim=this.horizontal?"h":"w",_105b=_1052.getMarginBox(this.child.domNode)[dim],_105c=array.filter(this.container.getChildren(),function(child){return child.region=="center";})[0],_105d=_1052.getMarginBox(_105c.domNode)[dim];return Math.min(this.child.maxSize,_105b+_105d);},_startDrag:function(e){if(!this.cover){this.cover=_1051.place("<div class=dijitSplitterCover></div>",this.child.domNode,"after");}_1050.add(this.cover,"dijitSplitterCoverActive");if(this.fake){_1051.destroy(this.fake);}if(!(this._resize=this.live)){(this.fake=this.domNode.cloneNode(true)).removeAttribute("id");_1050.add(this.domNode,"dijitSplitterShadow");_1051.place(this.fake,this.domNode,"after");}_1050.add(this.domNode,"dijitSplitterActive dijitSplitter"+(this.horizontal?"H":"V")+"Active");if(this.fake){_1050.remove(this.fake,"dijitSplitterHover dijitSplitter"+(this.horizontal?"H":"V")+"Hover");}var _105e=this._factor,_105f=this.horizontal,axis=_105f?"pageY":"pageX",_1060=e[axis],_1061=this.domNode.style,dim=_105f?"h":"w",_1062=_1052.getMarginBox(this.child.domNode)[dim],max=this._computeMaxSize(),min=this.child.minSize||20,_1063=this.region,_1064=_1063=="top"||_1063=="bottom"?"top":"left",_1065=parseInt(_1061[_1064],10),_1066=this._resize,_1067=lang.hitch(this.container,"_layoutChildren",this.child.id),de=this.ownerDocument;this._handlers=this._handlers.concat([on(de,touch.move,this._drag=function(e,_1068){var delta=e[axis]-_1060,_1069=_105e*delta+_1062,_106a=Math.max(Math.min(_1069,max),min);if(_1066||_1068){_1067(_106a);}_1061[_1064]=delta+_1065+_105e*(_106a-_1069)+"px";}),on(de,"dragstart",event.stop),on(this.ownerDocumentBody,"selectstart",event.stop),on(de,touch.release,lang.hitch(this,"_stopDrag"))]);event.stop(e);},_onMouse:function(e){var o=(e.type=="mouseover"||e.type=="mouseenter");_1050.toggle(this.domNode,"dijitSplitterHover",o);_1050.toggle(this.domNode,"dijitSplitter"+(this.horizontal?"H":"V")+"Hover",o);},_stopDrag:function(e){try{if(this.cover){_1050.remove(this.cover,"dijitSplitterCoverActive");}if(this.fake){_1051.destroy(this.fake);}_1050.remove(this.domNode,"dijitSplitterActive dijitSplitter"+(this.horizontal?"H":"V")+"Active dijitSplitterShadow");this._drag(e);this._drag(e,true);}finally{this._cleanupHandlers();delete this._drag;}if(this.container.persist){_104e(this._cookieName,this.child.domNode.style[this.horizontal?"height":"width"],{expires:365});}},_cleanupHandlers:function(){var h;while(h=this._handlers.pop()){h.remove();}},_onKeyPress:function(e){this._resize=true;var _106b=this.horizontal;var tick=1;switch(e.charOrCode){case _106b?keys.UP_ARROW:keys.LEFT_ARROW:tick*=-1;case _106b?keys.DOWN_ARROW:keys.RIGHT_ARROW:break;default:return;}var _106c=_1052.getMarginSize(this.child.domNode)[_106b?"h":"w"]+this._factor*tick;this.container._layoutChildren(this.child.id,Math.max(Math.min(_106c,this._computeMaxSize()),this.child.minSize));event.stop(e);},destroy:function(){this._cleanupHandlers();delete this.child;delete this.container;delete this.cover;delete this.fake;this.inherited(arguments);}});var _106d=_104f("dijit.layout._Gutter",[_1055,_1056],{templateString:"<div class=\"dijitGutter\" role=\"presentation\"></div>",postMixInProperties:function(){this.inherited(arguments);this.horizontal=/top|bottom/.test(this.region);},buildRendering:function(){this.inherited(arguments);_1050.add(this.domNode,"dijitGutter"+(this.horizontal?"H":"V"));}});var _106e=_104f("dijit.layout.BorderContainer",_1057,{design:"headline",gutters:true,liveSplitters:true,persist:false,baseClass:"dijitBorderContainer",_splitterClass:_1059,postMixInProperties:function(){if(!this.gutters){this.baseClass+="NoGutter";}this.inherited(arguments);},startup:function(){if(this._started){return;}array.forEach(this.getChildren(),this._setupChild,this);this.inherited(arguments);},_setupChild:function(child){var _106f=child.region;if(_106f){this.inherited(arguments);_1050.add(child.domNode,this.baseClass+"Pane");var ltr=this.isLeftToRight();if(_106f=="leading"){_106f=ltr?"left":"right";}if(_106f=="trailing"){_106f=ltr?"right":"left";}if(_106f!="center"&&(child.splitter||this.gutters)&&!child._splitterWidget){var _1070=child.splitter?this._splitterClass:_106d;if(lang.isString(_1070)){_1070=lang.getObject(_1070);}var _1071=new _1070({id:child.id+"_splitter",container:this,child:child,region:_106f,live:this.liveSplitters});_1071.isSplitter=true;child._splitterWidget=_1071;_1051.place(_1071.domNode,child.domNode,"after");_1071.startup();}child.region=_106f;}},layout:function(){this._layoutChildren();},addChild:function(child,_1072){this.inherited(arguments);if(this._started){this.layout();}},removeChild:function(child){var _1073=child.region;var _1074=child._splitterWidget;if(_1074){_1074.destroy();delete child._splitterWidget;}this.inherited(arguments);if(this._started){this._layoutChildren();}_1050.remove(child.domNode,this.baseClass+"Pane");_1053.set(child.domNode,{top:"auto",bottom:"auto",left:"auto",right:"auto",position:"static"});_1053.set(child.domNode,_1073=="top"||_1073=="bottom"?"width":"height","auto");},getChildren:function(){return array.filter(this.inherited(arguments),function(_1075){return !_1075.isSplitter;});},getSplitter:function(_1076){return array.filter(this.getChildren(),function(child){return child.region==_1076;})[0]._splitterWidget;},resize:function(_1077,_1078){if(!this.cs||!this.pe){var node=this.domNode;this.cs=_1053.getComputedStyle(node);this.pe=_1052.getPadExtents(node,this.cs);this.pe.r=_1053.toPixelValue(node,this.cs.paddingRight);this.pe.b=_1053.toPixelValue(node,this.cs.paddingBottom);_1053.set(node,"padding","0px");}this.inherited(arguments);},_layoutChildren:function(_1079,_107a){if(!this._borderBox||!this._borderBox.h){return;}var _107b=array.map(this.getChildren(),function(child,idx){return {pane:child,weight:[child.region=="center"?Infinity:0,child.layoutPriority,(this.design=="sidebar"?1:-1)*(/top|bottom/.test(child.region)?1:-1),idx]};},this);_107b.sort(function(a,b){var aw=a.weight,bw=b.weight;for(var i=0;i<aw.length;i++){if(aw[i]!=bw[i]){return aw[i]-bw[i];}}return 0;});var _107c=[];array.forEach(_107b,function(_107d){var pane=_107d.pane;_107c.push(pane);if(pane._splitterWidget){_107c.push(pane._splitterWidget);}});var dim={l:this.pe.l,t:this.pe.t,w:this._borderBox.w-this.pe.w,h:this._borderBox.h-this.pe.h};_1058.layoutChildren(this.domNode,dim,_107c,_1079,_107a);},destroyRecursive:function(){array.forEach(this.getChildren(),function(child){var _107e=child._splitterWidget;if(_107e){_107e.destroy();}delete child._splitterWidget;});this.inherited(arguments);}});_106e.ChildWidgetProperties={region:"",layoutPriority:0,splitter:false,minSize:0,maxSize:Infinity};lang.extend(_1054,_106e.ChildWidgetProperties);_106e._Splitter=_1059;_106e._Gutter=_106d;return _106e;});},"epi/shell/widget/layout/_ComponentWrapper":function(){define(["dojo/_base/declare","dojo/_base/array","dojo/string","dojo/_base/lang","dojo/dom-style","dojo/dom-attr","dojo/dom-class","dojo/dom-geometry","dojo/Evented","dijit/_base/wai","dijit/_CssStateMixin","dijit/_TemplatedMixin","dijit/_WidgetsInTemplateMixin","dijit/_Widget","dijit/layout/BorderContainer","epi/shell/command/_CommandProviderMixin","epi/shell/widget/command/GadgetAction","epi/shell/widget/command/RemoveGadget","epi/shell/widget/ComponentChrome","epi/shell/widget/dialog/Confirmation","epi/shell/widget/layout/_ComponentResizeMixin","epi/shell/widget/layout/_ComponentSplitter","dojo/text!./templates/_ComponentWrapperHeader.htm","epi/i18n!epi/shell/ui/nls/episerver.shell.ui.resources.gadgetchrome","dijit/form/Button","dijit/form/ToggleButton"],function(_107f,array,_1080,lang,_1081,_1082,_1083,_1084,_1085,wai,_1086,_1087,_1088,_1089,_108a,_108b,_108c,_108d,_108e,_108f,_1090,_1091,_1092,res){var _1093=_107f([_1089,_1087,_1088,_1086,_1085],{templateString:_1092,title:"",res:res,open:true,toggleable:true,closable:false,"class":"epi-gadgetHeader",toggle:function(){},onClose:function(){},postCreate:function(){this.inherited(arguments);if(this.toggleable){this._trackMouseState(this.titleBarNode,"epi-gadgetTitle");}},startup:function(){this.inherited(arguments);this.toggleButton.set("checked",!this.open);},_setClosableAttr:function(_1094){_1081.set(this.closeButton.domNode,"display",_1094?"":"none");_1083.toggle(this.titleBarNode,"epi-gadget-unlocked",_1094);},_setTitleAttr:function(title){this._set("title",title||"");this.toggleButton.set("label",this.title);},_setToggleableAttr:function(_1095){this.toggleable=_1095;wai.setWaiRole(this.focusNode,_1095?"button":"heading");if(_1095){wai.setWaiState(this.focusNode,"controls",this.id+"_pane");_1082.set(this.focusNode,"tabIndex",this.tabIndex);}else{_1082.remove(this.focusNode,"tabIndex");}this.toggleButton.set("disabled",!this.toggleable);this.toggleButton.set("iconClass",this.toggleable?"epi-gadget-toggle":"");}});return _107f([_108a,_1090,_1086,_108b,_1085],{dndType:"epi.shell.layout._ComponentWrapper",heading:"",toggleable:true,tabIndex:"0",baseClass:"epi-gadget","class":"epi-gadgetContainer",closable:false,dragRestriction:false,confirmationBeforeRemoval:true,res:res,gutters:false,postCreate:function(){this.inherited(arguments);this._header=new _1093({region:"top",splitter:false,title:this.heading||"",closable:this.closable,toggle:lang.hitch(this,this.toggle),onClose:lang.hitch(this,this.onClose)});this.addChild(this._header);},_setIsRemovableAttr:function(_1096){_1096=_1096!==false;this._set("isRemovable",_1096);this.set("closable",!!(_1096&&this.closable));},_setClosableAttr:function(_1097){this._set("closable",_1097);this._header&&this._header.set("closable",_1097);},_showRemovalConfirmationDialog:function(_1098){var _1099=this.heading?_1080.substitute(this.res.removecomponentquestion,{name:this.heading}):this.res.removecomponentquestionwithoutname;var _109a=new _108f({description:_1099,title:epi.resources.header.episerver,onAction:_1098});_109a.show();},onClose:function(evt){if(!this.confirmationBeforeRemoval){_1081.set(this.domNode,"display","none");this.onClosed();}else{this._showRemovalConfirmationDialog(lang.hitch(this,function(close){if(close){_1081.set(this.domNode,"display","none");this.onClosed();}}));return true;}},startup:function(){this._header.set("open",this.open);this.set("open",this.open);this.inherited(arguments);},resize:function(_109b){_109b=lang.mixin({},_109b);if(!_109b.h){if(!this.open){var _109c=_1084.getMarginExtents(this.domNode).h;_109b.h=_109c+this._getClosedHeight();}else{if(this.lastOpenHeight){_109b.h=this.lastOpenHeight;}}}this.inherited(arguments,[_109b]);},getSize:function(){var size=_1084.getMarginBox(this.domNode);if(!this.open){size.h=this._getClosedHeight();}return size;},_getClosedHeight:function(){var _109d=this._header?_1084.getMarginBox(this._header.domNode).h:0,_109e=this._splitter?_1084.getMarginBox(this._splitter.domNode).h:0;return _109d+_109e;},onClosed:function(){},_setHeadingAttr:function(text){this._set("heading",text);this._header&&this._header.set("title",text);},_setToggleableAttr:function(_109f){this._header&&this._header.set("toggleable",_109f);},toggle:function(){if(this._started){if(!open){this.lastOpenHeight=_1084.getMarginBox(this.domNode).h;}}this._started&&this.set("open",!this.get("open"));},_setOpenAttr:function(open){this.inherited(arguments);if(this._started){this.emit("toggle",this.open);}},addChild:function(child){if(child.isInstanceOf(_1091)||child.isInstanceOf(_1093)){return this.inherited(arguments);}this._addGadgetCommands(child);this.add("commands",new _108d({model:this}));var _10a0=new _108e({region:"center",splitter:false});_10a0.addProvider(this);_10a0.addChild(child);this._child=_10a0;this.inherited("addChild",[_10a0]);if(this._started&&!child.started&&!child._started){child.startup();}},_addGadgetCommands:function(_10a1){if(_10a1&&lang.isArray(_10a1.gadgetActions)){array.forEach(_10a1.gadgetActions,function(_10a2){this.add("commands",new _108c({actionName:_10a2.actionName,label:_10a2.text,model:_10a1}));},this);}}});});},"dijit/_base/wai":function(){define("dijit/_base/wai",["dojo/dom-attr","dojo/_base/lang","../main","../hccss"],function(_10a3,lang,dijit){var _10a4={hasWaiRole:function(elem,role){var _10a5=this.getWaiRole(elem);return role?(_10a5.indexOf(role)>-1):(_10a5.length>0);},getWaiRole:function(elem){return lang.trim((_10a3.get(elem,"role")||"").replace("wairole:",""));},setWaiRole:function(elem,role){_10a3.set(elem,"role",role);},removeWaiRole:function(elem,role){var _10a6=_10a3.get(elem,"role");if(!_10a6){return;}if(role){var t=lang.trim((" "+_10a6+" ").replace(" "+role+" "," "));_10a3.set(elem,"role",t);}else{elem.removeAttribute("role");}},hasWaiState:function(elem,state){return elem.hasAttribute?elem.hasAttribute("aria-"+state):!!elem.getAttribute("aria-"+state);},getWaiState:function(elem,state){return elem.getAttribute("aria-"+state)||"";},setWaiState:function(elem,state,value){elem.setAttribute("aria-"+state,value);},removeWaiState:function(elem,state){elem.removeAttribute("aria-"+state);}};lang.mixin(dijit,_10a4);return dijit;});},"epi/shell/command/_CommandProviderMixin":function(){define(["dojo/_base/array","dojo/_base/declare","epi/shell/StatefulArray"],function(array,_10a7,_10a8){return _10a7([_10a8],{commands:null,constructor:function(){this.commands=this.commands||[];},updateCommandModel:function(model){array.forEach(this.commands,function(_10a9){_10a9.set("model",model);});}});});},"epi/shell/widget/command/GadgetAction":function(){define(["dojo/_base/declare","epi/shell/command/_Command"],function(_10aa,_10ab){return _10aa([_10ab],{actionName:null,category:"setting",canExecute:true,_execute:function(){this.model.loadView({action:this.actionName});}});});},"epi/shell/command/_Command":function(){define(["dojo/_base/declare","dojo/Stateful"],function(_10ac,_10ad){return _10ac([_10ad],{label:null,tooltip:null,iconClass:null,category:null,order:null,model:null,canExecute:false,isAvailable:true,_modelChangeWatcher:[],postscript:function(){this.inherited(arguments);this.watchModelChange();if(this.model){this._onModelChange();}},destroy:function(){this.unwatchModelChange();},execute:function(){if(this.isAvailable&&this.canExecute){return this._execute();}},watchModelChange:function(){this._modelChangeWatcher=this.watch("model",this._onModelChange);},unwatchModelChange:function(){this._modelChangeWatcher&&this._modelChangeWatcher.unwatch();},_execute:function(){},_onModelChange:function(){}});});},"epi/shell/widget/command/RemoveGadget":function(){define(["dojo/_base/declare","dojo/_base/lang","epi/i18n!epi/shell/ui/nls/episerver.shell.ui.resources.gadgetchrome","epi/shell/command/_Command"],function(_10ae,lang,_10af,_10b0){return _10ae([_10b0],{label:_10af.deletemenuitemlabel,category:"setting",order:1000,canExecute:true,_onModelChange:function(){this.model.watch("closable",lang.hitch(this,function(_10b1,_10b2,_10b3){this.set("canExecute",_10b3);}));this.set("canExecute",this.model.closable);},_execute:function(){this.model.onClose();}});});},"epi/shell/widget/ComponentChrome":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/dom-attr","dijit/layout/BorderContainer","epi/shell/widget/command/CommandToolbar","epi/i18n!epi/shell/ui/nls/EPiServer.Shell.UI.Resources.GadgetChrome","epi/shell/command/_CommandConsumerMixin","epi/shell/command/builder/ButtonBuilder","epi/shell/command/builder/DropDownButtonBuilder","epi/shell/command/builder/MenuAssembler"],function(_10b4,lang,_10b5,_10b6,_10b7,_10b8,_10b9,_10ba,_10bb,_10bc){return _10b4([_10b6,_10b9],{gutters:false,iconClass:"dijitNoIcon",postCreate:function(){this.inherited(arguments);this.toolbar=new _10b7({"class":"epi-componentToolbar",region:"bottom",groups:["default","context","setting"]});this.inherited("addChild",[this.toolbar]);var _10bd={showLabel:false};var _10be=lang.mixin({"class":"epi-componentToolbarButton epi-mediumButton"},_10bd);var _10bf=new _10ba({settings:_10be});var _10c0=new _10bb({itemSettings:_10bd,settings:lang.delegate(_10be,{iconClass:"epi-iconContextMenu",title:_10b8.contextmenutooltip})});var _10c1=new _10bb({itemSettings:_10bd,settings:lang.delegate(_10be,{"class":"epi-componentSettingsButton epi-componentToolbarButton epi-mediumButton",iconClass:"epi-iconSettingsMenu",title:_10b8.settingsmenutooltip})});var _10c2=[{builder:_10bf,target:this.toolbar},{category:"setting",builder:_10c1,target:this.toolbar},{category:"context",builder:_10c0,target:this.toolbar},{category:"popup",builder:_10c0,target:this.toolbar}];var _10c3=new _10bc({configuration:_10c2,commandSource:this});_10c3.build();},addChild:function(child){if(child){this.set("heading",child.get("heading"));}child.region="center";this.inherited(arguments);}});});},"epi/shell/widget/command/CommandToolbar":function(){define(["dojo/_base/declare","dijit/Toolbar"],function(_10c4,_10c5){return _10c4("epi.shell.widget.command.CommandToolbar",[_10c5],{_positions:null,groups:null,constructor:function(){this._positions=[];this.groups=[];},postMixInProperties:function(){this.inherited(arguments);for(var i=0;i<this.groups.length;i++){var _10c6={category:this.groups[i],position:0};this._positions.push(_10c6);}},addChild:function(_10c7,_10c8){if(!_10c8){var _10c9=_10c7._commandCategory||"default";_10c8=this._getCurrentPosition(_10c9);this.inherited("addChild",[_10c7,_10c8]);this._updatePositions(_10c9);}else{this.inherited(arguments);}},_getCurrentPosition:function(_10ca){for(var i=0;i<this._positions.length;i++){if(this._positions[i].category==_10ca){return this._positions[i].position;}}return 0;},_updatePositions:function(_10cb){var _10cc=0;for(var i=0;i<this._positions.length;i++){if(this._positions[i].category==_10cb){_10cc=1;}this._positions[i].position=this._positions[i].position+_10cc;}}});});},"epi/shell/command/_CommandConsumerMixin":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/_base/lang"],function(array,_10cd,lang){return _10cd(null,{providers:null,constructor:function(){this.providers=this.providers||[];},destroy:function(){this.inherited(arguments);array.forEach(this.providers,function(item){item.watch.unwatch();});},getConsumer:function(){return this;},addProvider:function(_10ce){var watch=_10ce.watch("commands",lang.hitch(this,this._commandsChanged));this.providers.push({provider:_10ce,watch:watch});this.onCommandsChanged("commands",null,_10ce.commands);return {removeProvider:lang.hitch(this,this.removeProvider,_10ce)};},removeProvider:function(_10cf){var _10d0=this.providers;for(var i=_10d0.length-1;i>=0;i--){if(_10d0[i].provider==_10cf){break;}}if(i>=0){var item=_10d0.splice(i,1)[0];item.watch.unwatch();item=null;this.onCommandsChanged("commands",_10cf.commands,null);}},getCommands:function(){var _10d1=[];array.forEach(this.providers,function(item){_10d1=_10d1.concat(item.provider.commands);});return _10d1;},onCommandsChanged:function(name,_10d2,added){},_commandsChanged:function(){this.onCommandsChanged.apply(this,arguments);}});});},"epi/shell/command/builder/ButtonBuilder":function(){define(["dojo/_base/declare","dojo/_base/lang","dijit/form/Button","epi/shell/command/builder/_Builder","../_CommandModelBindingMixin"],function(_10d3,lang,_10d4,_10d5,_10d6){return _10d3([_10d5],{_buttonClass:_10d3([_10d4,_10d6]),_create:function(_10d7){var _10d8=lang.mixin({model:_10d7},this.settings);return new this._buttonClass(_10d8);}});});},"epi/shell/command/builder/_Builder":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/_base/lang"],function(array,_10d9,lang){return _10d9(null,{settings:null,postscript:function(mixin){if(mixin){lang.mixin(this,mixin);}},create:function(_10da,_10db){var _10dc=this._create(_10da);_10dc._command=_10da;_10dc._commandCategory=_10da.category;this._addToContainer(_10dc,_10db);},remove:function(_10dd,_10de){var _10df=_10de.getChildren(),len=_10df.length,i=0;for(;i<len;i++){var child=_10df[i];if(child._command===_10dd){_10de.removeChild(child);child.destroy();return true;}}return false;},_create:function(){},_addToContainer:function(_10e0,_10e1){var _10e2=null;if(_10e1.getChildren&&_10e0._command&&_10e0._command.order){var order=_10e0._command.order;array.some(_10e1.getChildren(),function(child,index){var _10e3=child._command&&child._command.order;if(!_10e3||_10e3>order){_10e2=index;return true;}});}if(_10e2!==null){_10e1.addChild?_10e1.addChild(_10e0,_10e2):_10e0.placeAt(_10e1);}else{_10e1.addChild?_10e1.addChild(_10e0):_10e0.placeAt(_10e1);}}});});},"epi/shell/command/_CommandModelBindingMixin":function(){define(["dojo/_base/declare","dojo/dom-style","../widget/_ModelBindingMixin"],function(_10e4,_10e5,_10e6){return _10e4(_10e6,{modelBindingMap:{"label":["label"],"tooltip":["tooltip"],"iconClass":["iconClass"],"canExecute":["canExecute"],"isAvailable":["isAvailable"],"active":["checked","isExpand"]},_setCanExecuteAttr:function(_10e7){this.set("disabled",!_10e7);},_setIsAvailableAttr:function(_10e8){if(this.domNode){_10e5.set(this.domNode,"display",_10e8?"":"none");}},onClick:function(){this.inherited(arguments);this.model&&this.model.execute.apply(this.model,arguments);}});});},"epi/shell/widget/_ModelBindingMixin":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/_base/lang","epi/shell/DestroyableByKey"],function(array,_10e9,lang,_10ea){return _10e9([_10ea],{model:null,modelBindingMap:null,constructor:function(_10eb){},postMixInProperties:function(){this.inherited(arguments);if(!this.modelBindingMap){this.modelBindingMap={};}},_setModelAttr:function(value){this.destroyByKey(this.model);this._set("model",value);this._setupModelBindings();},_setupModelBindings:function(){if(!this.model){return;}var _10ec=lang.hitch(this,"_modelWatch");for(var _10ed in this.modelBindingMap){var _10ee=this.modelBindingMap[_10ed];this.ownByKey(this.model,this.model.watch(_10ed,_10ec));array.forEach(_10ee,function(_10ef){this.set(_10ef,this.model.get(_10ed));},this);}},_modelWatch:function(_10f0,_10f1,value){var _10f2=this.modelBindingMap[_10f0];array.forEach(_10f2,function(_10f3){this.set(_10f3,value);},this);}});});},"epi/shell/command/builder/DropDownButtonBuilder":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/_base/lang","dijit/Menu","dijit/form/DropDownButton","epi/shell/command/builder/MenuBuilder"],function(array,_10f4,lang,Menu,_10f5,_10f6){return _10f4([_10f6],{_addToContainer:function(_10f7,_10f8){if(!this._added){this._button=new _10f5(lang.mixin({dropDown:new Menu()},this.settings));this._button._commandCategory=_10f7._commandCategory;if(_10f8.addChild){_10f8.addChild(this._button);}else{this._button.placeAt(_10f8);this._button.startup();}this._added=true;}return this.inherited(arguments,[_10f7,this._button.dropDown]);},remove:function(_10f9,_10fa){var _10fb=this._button,_10fc=_10fb.dropDown?_10fb.dropDown.getChildren():[];array.forEach(_10fc,function(child){if(child._command===_10f9){_10fb.removeChild(child);child.destroy();return true;}});return false;}});});},"epi/shell/command/builder/MenuBuilder":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/_base/lang","dojo/on","dijit/Menu","dijit/MenuItem","dijit/CheckedMenuItem","dijit/PopupMenuItem","epi/shell/command/builder/_Builder","epi/shell/command/_CommandModelBindingMixin"],function(array,_10fd,lang,on,Menu,_10fe,_10ff,_1100,_1101,_1102){return _10fd([_1101],{_menuItemClass:_10fd([_10fe,_1102]),_checkedMenuItemClass:_10fd([_10ff,_1102]),_popupMenuItemClass:_10fd([_1100,_1102]),_create:function(_1103){var _1104=typeof _1103.active=="boolean",_1105=lang.isArray(_1103.options),_1106="popup" in _1103,cls=_1104?this._checkedMenuItemClass:(_1105||_1106)?this._popupMenuItemClass:this._menuItemClass,_1107=lang.mixin({model:_1103},this.itemSettings);var _1108=new cls(_1107);if(_1106){if(_1103.popupClass){_1103.set("popup",new _1103.popupClass({category:_1103.popupCategory}));}_1108.popup=_1103.popup;}if(_1105){this._createOptionMenu(_1103,_1108);}return _1108;},_createOptionMenu:function(_1109,_110a){_110a.popup=new Menu();array.forEach(_1109.options,function(_110b){var child=new _10ff({label:_110b.label,checked:_1109.selected===_110b.value});child.own(on(child,"click",function(e){_1109.set("selected",_110b.value);}));child.own(_1109.watch("selected",function(name,_110c,_110d){if(_110d!==_110b.value){child.set("checked",false);}}));_110a.popup.addChild(child);});}});});},"epi/shell/command/builder/MenuAssembler":function(){define(["dojo/_base/array","dojo/_base/connect","dojo/_base/declare","dojo/_base/lang","dojo/Stateful","epi/shell/_StatefulGetterSetterMixin"],function(array,_110e,_110f,lang,_1110,_1111){return _110f([_1110,_1111],{commandSource:null,configuration:null,_commandSourceConnect:null,destroy:function(){_110e.disconnect(this._commandSourceConnect);},build:function(){this.set("commandSource",this.commandSource);},_setCommandSourceAttr:function(value){if(this._commandSourceConnect&&this.commandSource){_110e.disconnect(this._commandSourceConnect);this._removeCommands(this.commandSource.getCommands());}this.commandSource=value;if(this.commandSource){this._addCommands(this.commandSource.getCommands());this._commandSourceConnect=_110e.connect(this.commandSource,"onCommandsChanged",this,this._commandsChanged);}},_commandsChanged:function(name,_1112,added){if(_1112){this._removeCommands(_1112);}if(added){this._addCommands(added);}},_getBuildInfo:function(_1113){var _1114,_1115=_1113.category;array.some(this.configuration,function(item){if(item.category==_1115){_1114=item;return true;}return false;});return _1114;},_addCommands:function(_1116){array.forEach(_1116,this._addCommand,this);},_addCommand:function(_1117){var _1118=this._getBuildInfo(_1117);if(_1118){_1118.builder.create(_1117,_1118.target);}},_removeCommands:function(_1119){array.forEach(_1119,function(_111a){var _111b=this._getBuildInfo(_111a);if(_111b){_111b.builder.remove(_111a,_111b.target);}},this);}});});},"epi/shell/_StatefulGetterSetterMixin":function(){define(["dojo/_base/declare","dojo/_base/lang"],function(_111c,lang){return _111c(null,{get:function(name){var names=this._getAttrNames(name);return this[names.g]?this[names.g]():this[name];},set:function(name,value){if(typeof name==="object"){for(var x in name){this.set(x,name[x]);}return this;}var names=this._getAttrNames(name);var _111d=this[names.s];if(lang.isFunction(_111d)){_111d.apply(this,Array.prototype.slice.call(arguments,1));}else{this._set(name,value);}return this;},_attrPairNames:{},_getAttrNames:function(name){var apn=this._attrPairNames;if(apn[name]){return apn[name];}var uc=name.replace(/^[a-z]|-[a-zA-Z]/g,function(c){return c.charAt(c.length-1).toUpperCase();});return (apn[name]={s:"_set"+uc+"Attr",g:"_get"+uc+"Attr",l:uc.toLowerCase()});},_set:function(name,value){var _111e=this[name];this[name]=value;if(this._watchCallbacks){this._watchCallbacks(name,_111e,value);}return this;}});});},"epi/shell/widget/layout/_ComponentResizeMixin":function(){define(["dojo/_base/declare","dojo/dom-style","epi/shell/widget/layout/_ComponentSplitter"],function(_111f,_1120,_1121){return _111f(null,{showSplitter:true,open:true,resizable:true,startup:function(){this.inherited(arguments);if(!this._splitter){var _1122={child:this,container:this.getParent(),id:this.id+"_splitter",region:"bottom"};if(this._splitterNode){this._splitter=new _1121(_1122,this._splitterNode);}else{this._splitter=new _1121(_1122);this.addChild(this._splitter);}}this._toggleSplitter(this.showSplitter);this._splitter.startup();this._splitter.set("disabled",!this.resizable);},destroy:function(){if(this._splitter){this._splitter.destroyRecursive();}this.inherited(arguments);},_setOpenAttr:function(value){this._set("open",value);_1120.set(this.domNode,"minHeight",this.get("minHeight")+"px");this.set("resizable",value);},_setResizableAttr:function(value){this._set("resizable",value);if(this._splitter){this._splitter.set("disabled",!value);}},_getMinHeightAttr:function(){if(this.open){return this.minHeight;}return this.getSize().h;},_setShowSplitterAttr:function(_1123){this._set("showSplitter",_1123);this._toggleSplitter(_1123);},_toggleSplitter:function(show){if(this._splitter){_1120.set(this._splitter.domNode,"display",show?"":"none");}},getSize:function(){},_setLastOpenHeightAttr:function(value){this._set("lastOpenHeight",value);if(value&&this.open){_1120.set(this.domNode,"height",value+"px");}},_getSettingsAttr:function(){return {open:this.open,lastOpenHeight:this.open?this.getSize().h:this.lastOpenHeight};}});});},"epi/shell/widget/layout/_ComponentSplitter":function(){define(["dojo/_base/declare","dojo/_base/event","dojo/_base/lang","dojo/_base/window","dojo/dom-geometry","dojo/dom-style","dojo/keys","dojo/on","dojo/touch","dijit/_WidgetBase","dijit/_TemplatedMixin","dijit/_CssStateMixin"],function(_1124,event,lang,win,_1125,_1126,keys,on,touch,_1127,_1128,_1129){return _1124([_1127,_1128,_1129],{baseClass:"epi-gadgetGutter",templateString:"<div data-dojo-attach-event=\"onkeypress:_onKeyPress,press:_startDrag\" role=\"separator\" tabindex=\"0\"></div>",disabled:false,constructor:function(){this._handlers=[];},_startDrag:function(e){if(this.disabled){return;}var _112a=this.domNode.style,_112b=e.pageY,node=this.child.domNode,_112c=_1126.getComputedStyle(node),_112d=_1125.getMarginExtents(node,_112c).h,_112e=_1125.getMarginBox(node,_112c).h,_112f=this.container._getMaxSizeChild?lang.hitch(this.container,"_getMaxSizeChild"):lang.hitch(this,function(){return this.child.maxHeight||Infinity;}),min=this.child.minHeight||0,_1130=parseInt(_112a.top,10),_1131=lang.hitch(this.container,"_layoutChildren",this.child),doc=win.doc;this._handlers=this._handlers.concat([on(doc,touch.move,this._drag=function(e,_1132){var delta=e.pageY-_112b,_1133=delta+_112e,_1134=Math.max(Math.min(_1133,_112f()),min+_112d);_1131(_1134,_1132);_112a.top=delta+_1130+_1134-_1133+"px";}),on(doc,"dragstart",event.stop),on(win.body(),"selectstart",event.stop),on(doc,touch.release,lang.hitch(this,"_stopDrag"))]);event.stop(e);},_stopDrag:function(e){try{this._drag(e);this._drag(e,true);}finally{this._cleanupHandlers();delete this._drag;}},_onKeyPress:function(e){var tick=1;switch(e.keyCode){case keys.UP_ARROW:tick=-1;break;case keys.DOWN_ARROW:break;default:return;}var _1135=_1125.getMarginSize(this.child.domNode).h+tick;this.container._layoutChildren(this.child,Math.max(Math.min(_1135,this.child.maxSize),this.child.minSize));event.stop(e);},_cleanupHandlers:function(){var h;while(h=this._handlers.pop()){h.remove();}},destroy:function(){this._cleanupHandlers();delete this.child;delete this.container;this.inherited(arguments);}});});},"url:epi/shell/widget/layout/templates/_ComponentWrapperHeader.htm":"<div>\r\n    <div class=\"epi-gadgetTitle dojoxDragHandle\" data-dojo-attach-point=\"titleBarNode\">\r\n        <div data-dojo-attach-point=\"focusNode\" class=\"epi-gadgetTitleFocus\">\r\n            <button data-dojo-type=\"dijit/form/ToggleButton\" data-dojo-attach-point=\"toggleButton\"\r\n                data-dojo-attach-event=\"onClick:toggle\" data-dojo-props=\"title:'${res.togglebuttontooltip}', showLabel:true, iconClass:'epi-gadget-toggle', 'class':'epi-chromelessButton'\">\r\n                ${title}</button>\r\n        </div>\r\n        <div class=\"epi-gadgetButtonBar\">\r\n            <button data-dojo-type=\"dijit/form/Button\" data-dojo-attach-point=\"closeButton\" data-dojo-attach-event=\"onClick:onClose\"\r\n                data-dojo-props=\"showLabel:false, title:'${res.closebuttontooltip}', iconClass:'epi-gadget-delete', 'class':'epi-chromelessButton'\">\r\n                ${res.closebuttontooltip}</button>\r\n        </div>\r\n    </div>\r\n</div>\r\n","epi/shell/widget/layout/ComponentTabContainer":function(){define(["dojo/_base/array","dojo/_base/lang","dojo/_base/declare","dojo/dom-style","dojo/dom-construct","dojo/dom-attr","dojo/dom-class","dojo/dom-geometry","dojo/topic","dojo/Evented","dojo/text!./templates/ComponentTabContainer.htm","dijit/layout/TabContainer","dijit/layout/utils","epi/shell/widget/layout/_ComponentTabController","epi/shell/widget/layout/_ComponentResizeMixin","dijit/_WidgetsInTemplateMixin","dijit/form/ToggleButton","epi/shell/widget/ComponentChrome","epi/shell/widget/_FocusableMixin","epi/shell/command/_CommandProviderMixin","epi/shell/widget/command/RemoveGadget"],function(array,lang,_1136,_1137,_1138,_1139,_113a,_113b,topic,_113c,_113d,_113e,_113f,_1140,_1141,_1142,_1143,_1144,_1145,_1146,_1147){return _1136([_113e,_1142,_1141,_1145,_113c,_1146],{useMenu:true,doLayout:true,useSlider:false,toggleable:true,templateString:_113d,controllerWidget:_1140,_removeCommand:null,postMixInProperties:function(){this.inherited(arguments);this._removeCommand=new _1147({model:this});},startup:function(){if(this._started){return;}this.inherited(arguments);if(this.maxHeight){_1137.set(this.containerNode,"maxHeight",this.maxHeight);}},postCreate:function(){this.inherited(arguments);this.add("commands",this._removeCommand);this.tablist.on("toggle",lang.hitch(this,function(_1148){this._started&&this.set("open",_1148);}));},addChild:function(child,_1149){var _114a=new _1144({title:child.get("heading")||""});_114a.addChild(child);this.inherited(arguments,[_114a,_1149]);if(this._started&&!_114a._started){_114a.startup();}},layout:function(){if(!this._contentBox||typeof (this._contentBox.l)=="undefined"){return;}var sc=this.selectedChildWidget;if(this.doLayout){var _114b=this.tabPosition.replace(/-h/,"");this.tablist.layoutAlign=_114b;var _114c=[this.tablist,{domNode:this.tablistSpacer,layoutAlign:_114b},{domNode:this.containerNode,layoutAlign:"client"}];if(this._splitter){_114c.push({domNode:this._splitter.domNode,layoutAlign:"bottom"});}_113f.layoutChildren(this.domNode,this._contentBox,_114c);this._containerContentBox=_113f.marginBox2contentBox(this.containerNode,_114c[2]);if(sc&&sc.resize){sc.resize(this._containerContentBox);}}else{if(this.tablist.resize){var s=this.tablist.domNode.style;s.width="0";var width=_113b.getContentBox(this.domNode).w;s.width="";this.tablist.resize({w:width});}}},resize:function(_114d){_114d=lang.mixin({},_114d);if(!_114d.h){if(!this.open){_114d.h=this._getClosedHeight();}else{if(this.lastOpenHeight){_114d.h=this.lastOpenHeight;}}}this.inherited(arguments,[_114d]);},getSize:function(){var size=_113b.getMarginBox(this.domNode);if(!this.open){size.h=this._getClosedHeight();}return size;},_getClosedHeight:function(){var _114e=_113b.getMarginExtents(this.domNode).h,_114f=this.tablist?_113b.getMarginBox(this.tablist.domNode).h:0,_1150=this._splitter?_113b.getMarginBox(this._splitter.domNode).h:0;return _114f+_1150+_114e;},selectChild:function(){this.inherited(arguments);this._removeCommand.set("model",this.selectedChildWidget);},_makeController:function(_1151){var _1152=this.inherited(arguments);_1152.set("title",this.get("heading")||"");return _1152;},_setToggleableAttr:function(_1153){this._set("toggleable",_1153);this.tablist&&this.tablist.set("toggleable",this.toggleable);},_setOpenAttr:function(open){this.inherited(arguments);this.tablist.setOpen(open);_1137.set(this.containerNode,"display",open?"":"none");if(this._started){if(!open){this.lastOpenHeight=_113b.getMarginBox(this.domNode).h;}this.emit("toggle",this.open);}}});});},"url:epi/shell/widget/layout/templates/ComponentTabContainer.htm":"<div class=\"dijitTabContainer dojoxDragHandle epi-componentGroup epi-compactTabs\">\r\n    <div class=\"dijitTabListWrapper\" data-dojo-attach-point=\"tablistNode\"></div>\r\n    <div data-dojo-attach-point=\"tablistSpacer\" class=\"dijitTabSpacer ${baseClass}-spacer\"></div>\r\n    <div class=\"dijitTabPaneWrapper ${baseClass}-container\" data-dojo-attach-point=\"containerNode\"></div>\r\n    <div data-dojo-attach-point=\"_splitterNode\"></div>\r\n</div>\r\n","dijit/layout/TabContainer":function(){define("dijit/layout/TabContainer",["dojo/_base/lang","dojo/_base/declare","./_TabContainerBase","./TabController","./ScrollingTabController"],function(lang,_1154,_1155,_1156,_1157){return _1154("dijit.layout.TabContainer",_1155,{useMenu:true,useSlider:true,controllerWidget:"",_makeController:function(_1158){var cls=this.baseClass+"-tabs"+(this.doLayout?"":" dijitTabNoLayout"),_1156=typeof this.controllerWidget=="string"?lang.getObject(this.controllerWidget):this.controllerWidget;return new _1156({id:this.id+"_tablist",ownerDocument:this.ownerDocument,dir:this.dir,lang:this.lang,textDir:this.textDir,tabPosition:this.tabPosition,doLayout:this.doLayout,containerId:this.id,"class":cls,nested:this.nested,useMenu:this.useMenu,useSlider:this.useSlider,tabStripClass:this.tabStrip?this.baseClass+(this.tabStrip?"":"No")+"Strip":null},_1158);},postMixInProperties:function(){this.inherited(arguments);if(!this.controllerWidget){this.controllerWidget=(this.tabPosition=="top"||this.tabPosition=="bottom")&&!this.nested?_1157:_1156;}}});});},"dijit/layout/_TabContainerBase":function(){require({cache:{"url:dijit/layout/templates/TabContainer.html":"<div class=\"dijitTabContainer\">\n\t<div class=\"dijitTabListWrapper\" data-dojo-attach-point=\"tablistNode\"></div>\n\t<div data-dojo-attach-point=\"tablistSpacer\" class=\"dijitTabSpacer ${baseClass}-spacer\"></div>\n\t<div class=\"dijitTabPaneWrapper ${baseClass}-container\" data-dojo-attach-point=\"containerNode\"></div>\n</div>\n"}});define("dijit/layout/_TabContainerBase",["dojo/text!./templates/TabContainer.html","./StackContainer","./utils","../_TemplatedMixin","dojo/_base/declare","dojo/dom-class","dojo/dom-geometry","dojo/dom-style"],function(_1159,_115a,_115b,_115c,_115d,_115e,_115f,_1160){return _115d("dijit.layout._TabContainerBase",[_115a,_115c],{tabPosition:"top",baseClass:"dijitTabContainer",tabStrip:false,nested:false,templateString:_1159,postMixInProperties:function(){this.baseClass+=this.tabPosition.charAt(0).toUpperCase()+this.tabPosition.substr(1).replace(/-.*/,"");this.srcNodeRef&&_1160.set(this.srcNodeRef,"visibility","hidden");this.inherited(arguments);},buildRendering:function(){this.inherited(arguments);this.tablist=this._makeController(this.tablistNode);if(!this.doLayout){_115e.add(this.domNode,"dijitTabContainerNoLayout");}if(this.nested){_115e.add(this.domNode,"dijitTabContainerNested");_115e.add(this.tablist.containerNode,"dijitTabContainerTabListNested");_115e.add(this.tablistSpacer,"dijitTabContainerSpacerNested");_115e.add(this.containerNode,"dijitTabPaneWrapperNested");}else{_115e.add(this.domNode,"tabStrip-"+(this.tabStrip?"enabled":"disabled"));}},_setupChild:function(tab){_115e.add(tab.domNode,"dijitTabPane");this.inherited(arguments);},startup:function(){if(this._started){return;}this.tablist.startup();this.inherited(arguments);},layout:function(){if(!this._contentBox||typeof (this._contentBox.l)=="undefined"){return;}var sc=this.selectedChildWidget;if(this.doLayout){var _1161=this.tabPosition.replace(/-h/,"");this.tablist.layoutAlign=_1161;var _1162=[this.tablist,{domNode:this.tablistSpacer,layoutAlign:_1161},{domNode:this.containerNode,layoutAlign:"client"}];_115b.layoutChildren(this.domNode,this._contentBox,_1162);this._containerContentBox=_115b.marginBox2contentBox(this.containerNode,_1162[2]);if(sc&&sc.resize){sc.resize(this._containerContentBox);}}else{if(this.tablist.resize){var s=this.tablist.domNode.style;s.width="0";var width=_115f.getContentBox(this.domNode).w;s.width="";this.tablist.resize({w:width});}if(sc&&sc.resize){sc.resize();}}},destroy:function(){if(this.tablist){this.tablist.destroy();}this.inherited(arguments);}});});},"url:dijit/layout/templates/TabContainer.html":"<div class=\"dijitTabContainer\">\n\t<div class=\"dijitTabListWrapper\" data-dojo-attach-point=\"tablistNode\"></div>\n\t<div data-dojo-attach-point=\"tablistSpacer\" class=\"dijitTabSpacer ${baseClass}-spacer\"></div>\n\t<div class=\"dijitTabPaneWrapper ${baseClass}-container\" data-dojo-attach-point=\"containerNode\"></div>\n</div>\n","dijit/layout/StackContainer":function(){define("dijit/layout/StackContainer",["dojo/_base/array","dojo/cookie","dojo/_base/declare","dojo/dom-class","dojo/has","dojo/_base/lang","dojo/ready","dojo/topic","../registry","../_WidgetBase","./_LayoutWidget","dojo/i18n!../nls/common"],function(array,_1163,_1164,_1165,has,lang,ready,topic,_1166,_1167,_1168){if(has("dijit-legacy-requires")){ready(0,function(){var _1169=["dijit/layout/StackController"];require(_1169);});}var _116a=_1164("dijit.layout.StackContainer",_1168,{doLayout:true,persist:false,baseClass:"dijitStackContainer",buildRendering:function(){this.inherited(arguments);_1165.add(this.domNode,"dijitLayoutContainer");this.containerNode.setAttribute("role","tabpanel");},postCreate:function(){this.inherited(arguments);this.connect(this.domNode,"onkeypress",this._onKeyPress);},startup:function(){if(this._started){return;}var _116b=this.getChildren();array.forEach(_116b,this._setupChild,this);if(this.persist){this.selectedChildWidget=_1166.byId(_1163(this.id+"_selectedChild"));}else{array.some(_116b,function(child){if(child.selected){this.selectedChildWidget=child;}return child.selected;},this);}var _116c=this.selectedChildWidget;if(!_116c&&_116b[0]){_116c=this.selectedChildWidget=_116b[0];_116c.selected=true;}topic.publish(this.id+"-startup",{children:_116b,selected:_116c});this.inherited(arguments);},resize:function(){if(!this._hasBeenShown){this._hasBeenShown=true;var _116d=this.selectedChildWidget;if(_116d){this._showChild(_116d);}}this.inherited(arguments);},_setupChild:function(child){this.inherited(arguments);_1165.replace(child.domNode,"dijitHidden","dijitVisible");child.domNode.title="";},addChild:function(child,_116e){this.inherited(arguments);if(this._started){topic.publish(this.id+"-addChild",child,_116e);this.layout();if(!this.selectedChildWidget){this.selectChild(child);}}},removeChild:function(page){this.inherited(arguments);if(this._started){topic.publish(this.id+"-removeChild",page);}if(this._descendantsBeingDestroyed){return;}if(this.selectedChildWidget===page){this.selectedChildWidget=undefined;if(this._started){var _116f=this.getChildren();if(_116f.length){this.selectChild(_116f[0]);}}}if(this._started){this.layout();}},selectChild:function(page,_1170){page=_1166.byId(page);if(this.selectedChildWidget!=page){var d=this._transition(page,this.selectedChildWidget,_1170);this._set("selectedChildWidget",page);topic.publish(this.id+"-selectChild",page);if(this.persist){_1163(this.id+"_selectedChild",this.selectedChildWidget.id);}}return d;},_transition:function(_1171,_1172){if(_1172){this._hideChild(_1172);}var d=this._showChild(_1171);if(_1171.resize){if(this.doLayout){_1171.resize(this._containerContentBox||this._contentBox);}else{_1171.resize();}}return d;},_adjacent:function(_1173){var _1174=this.getChildren();var index=array.indexOf(_1174,this.selectedChildWidget);index+=_1173?1:_1174.length-1;return _1174[index%_1174.length];},forward:function(){return this.selectChild(this._adjacent(true),true);},back:function(){return this.selectChild(this._adjacent(false),true);},_onKeyPress:function(e){topic.publish(this.id+"-containerKeyPress",{e:e,page:this});},layout:function(){var child=this.selectedChildWidget;if(child&&child.resize){if(this.doLayout){child.resize(this._containerContentBox||this._contentBox);}else{child.resize();}}},_showChild:function(page){var _1175=this.getChildren();page.isFirstChild=(page==_1175[0]);page.isLastChild=(page==_1175[_1175.length-1]);page._set("selected",true);_1165.replace(page.domNode,"dijitVisible","dijitHidden");return (page._onShow&&page._onShow())||true;},_hideChild:function(page){page._set("selected",false);_1165.replace(page.domNode,"dijitHidden","dijitVisible");page.onHide&&page.onHide();},closeChild:function(page){var _1176=page.onClose(this,page);if(_1176){this.removeChild(page);page.destroyRecursive();}},destroyDescendants:function(_1177){this._descendantsBeingDestroyed=true;this.selectedChildWidget=undefined;array.forEach(this.getChildren(),function(child){if(!_1177){this.removeChild(child);}child.destroyRecursive(_1177);},this);this._descendantsBeingDestroyed=false;}});_116a.ChildWidgetProperties={selected:false,disabled:false,closable:false,iconClass:"dijitNoIcon",showTitle:true};lang.extend(_1167,_116a.ChildWidgetProperties);return _116a;});},"dijit/layout/ScrollingTabController":function(){require({cache:{"url:dijit/layout/templates/ScrollingTabController.html":"<div class=\"dijitTabListContainer-${tabPosition}\" style=\"visibility:hidden\">\n\t<div data-dojo-type=\"dijit.layout._ScrollingTabControllerMenuButton\"\n\t\t\tclass=\"tabStripButton-${tabPosition}\"\n\t\t\tid=\"${id}_menuBtn\"\n\t\t\tdata-dojo-props=\"containerId: '${containerId}', iconClass: 'dijitTabStripMenuIcon',\n\t\t\t\t\tdropDownPosition: ['below-alt', 'above-alt']\"\n\t\t\tdata-dojo-attach-point=\"_menuBtn\" showLabel=\"false\" title=\"\">&#9660;</div>\n\t<div data-dojo-type=\"dijit.layout._ScrollingTabControllerButton\"\n\t\t\tclass=\"tabStripButton-${tabPosition}\"\n\t\t\tid=\"${id}_leftBtn\"\n\t\t\tdata-dojo-props=\"iconClass:'dijitTabStripSlideLeftIcon', showLabel:false, title:''\"\n\t\t\tdata-dojo-attach-point=\"_leftBtn\" data-dojo-attach-event=\"onClick: doSlideLeft\">&#9664;</div>\n\t<div data-dojo-type=\"dijit.layout._ScrollingTabControllerButton\"\n\t\t\tclass=\"tabStripButton-${tabPosition}\"\n\t\t\tid=\"${id}_rightBtn\"\n\t\t\tdata-dojo-props=\"iconClass:'dijitTabStripSlideRightIcon', showLabel:false, title:''\"\n\t\t\tdata-dojo-attach-point=\"_rightBtn\" data-dojo-attach-event=\"onClick: doSlideRight\">&#9654;</div>\n\t<div class='dijitTabListWrapper' data-dojo-attach-point='tablistWrapper'>\n\t\t<div role='tablist' data-dojo-attach-event='onkeypress:onkeypress'\n\t\t\t\tdata-dojo-attach-point='containerNode' class='nowrapTabStrip'></div>\n\t</div>\n</div>","url:dijit/layout/templates/_ScrollingTabControllerButton.html":"<div data-dojo-attach-event=\"onclick:_onClick\" class=\"dijitTabInnerDiv dijitTabContent dijitButtonContents\"  data-dojo-attach-point=\"focusNode\">\n\t<img role=\"presentation\" alt=\"\" src=\"${_blankGif}\" class=\"dijitTabStripIcon\" data-dojo-attach-point=\"iconNode\"/>\n\t<span data-dojo-attach-point=\"containerNode,titleNode\" class=\"dijitButtonText\"></span>\n</div>"}});define("dijit/layout/ScrollingTabController",["dojo/_base/array","dojo/_base/declare","dojo/dom-class","dojo/dom-geometry","dojo/dom-style","dojo/_base/fx","dojo/_base/lang","dojo/on","dojo/query","dojo/sniff","../registry","dojo/text!./templates/ScrollingTabController.html","dojo/text!./templates/_ScrollingTabControllerButton.html","./TabController","./utils","../_WidgetsInTemplateMixin","../Menu","../MenuItem","../form/Button","../_HasDropDown","dojo/NodeList-dom"],function(array,_1178,_1179,_117a,_117b,fx,lang,on,query,has,_117c,_117d,_117e,_117f,_1180,_1181,Menu,_1182,_1183,_1184){var _1185=_1178("dijit.layout.ScrollingTabController",[_117f,_1181],{baseClass:"dijitTabController dijitScrollingTabController",templateString:_117d,useMenu:true,useSlider:true,tabStripClass:"",widgetsInTemplate:true,_minScroll:5,_setClassAttr:{node:"containerNode",type:"class"},buildRendering:function(){this.inherited(arguments);var n=this.domNode;this.scrollNode=this.tablistWrapper;this._initButtons();if(!this.tabStripClass){this.tabStripClass="dijitTabContainer"+this.tabPosition.charAt(0).toUpperCase()+this.tabPosition.substr(1).replace(/-.*/,"")+"None";_1179.add(n,"tabStrip-disabled");}_1179.add(this.tablistWrapper,this.tabStripClass);},onStartup:function(){this.inherited(arguments);_117b.set(this.domNode,"visibility","");this._postStartup=true;this.own(on(this.containerNode,"attrmodified-label, attrmodified-iconclass",lang.hitch(this,function(evt){if(this._dim){this.resize(this._dim);}})));},onAddChild:function(page,_1186){this.inherited(arguments);_117b.set(this.containerNode,"width",(_117b.get(this.containerNode,"width")+200)+"px");},onRemoveChild:function(page,_1187){var _1188=this.pane2button[page.id];if(this._selectedTab===_1188.domNode){this._selectedTab=null;}this.inherited(arguments);},_initButtons:function(){this._btnWidth=0;this._buttons=query("> .tabStripButton",this.domNode).filter(function(btn){if((this.useMenu&&btn==this._menuBtn.domNode)||(this.useSlider&&(btn==this._rightBtn.domNode||btn==this._leftBtn.domNode))){this._btnWidth+=_117a.getMarginSize(btn).w;return true;}else{_117b.set(btn,"display","none");return false;}},this);},_getTabsWidth:function(){var _1189=this.getChildren();if(_1189.length){var _118a=_1189[this.isLeftToRight()?0:_1189.length-1].domNode,_118b=_1189[this.isLeftToRight()?_1189.length-1:0].domNode;return _118b.offsetLeft+_118b.offsetWidth-_118a.offsetLeft;}else{return 0;}},_enableBtn:function(width){var _118c=this._getTabsWidth();width=width||_117b.get(this.scrollNode,"width");return _118c>0&&width<_118c;},resize:function(dim){this._dim=dim;this.scrollNode.style.height="auto";var cb=this._contentBox=_1180.marginBox2contentBox(this.domNode,{h:0,w:dim.w});cb.h=this.scrollNode.offsetHeight;_117a.setContentSize(this.domNode,cb);var _118d=this._enableBtn(this._contentBox.w);this._buttons.style("display",_118d?"":"none");this._leftBtn.layoutAlign="left";this._rightBtn.layoutAlign="right";this._menuBtn.layoutAlign=this.isLeftToRight()?"right":"left";_1180.layoutChildren(this.domNode,this._contentBox,[this._menuBtn,this._leftBtn,this._rightBtn,{domNode:this.scrollNode,layoutAlign:"client"}]);if(this._selectedTab){if(this._anim&&this._anim.status()=="playing"){this._anim.stop();}this.scrollNode.scrollLeft=this._convertToScrollLeft(this._getScrollForSelectedTab());}this._setButtonClass(this._getScroll());this._postResize=true;return {h:this._contentBox.h,w:dim.w};},_getScroll:function(){return (this.isLeftToRight()||has("ie")<8||(has("ie")&&has("quirks"))||has("webkit"))?this.scrollNode.scrollLeft:_117b.get(this.containerNode,"width")-_117b.get(this.scrollNode,"width")+(has("ie")>=8?-1:1)*this.scrollNode.scrollLeft;},_convertToScrollLeft:function(val){if(this.isLeftToRight()||has("ie")<8||(has("ie")&&has("quirks"))||has("webkit")){return val;}else{var _118e=_117b.get(this.containerNode,"width")-_117b.get(this.scrollNode,"width");return (has("ie")>=8?-1:1)*(val-_118e);}},onSelectChild:function(page){var tab=this.pane2button[page.id];if(!tab||!page){return;}var node=tab.domNode;if(node!=this._selectedTab){this._selectedTab=node;if(this._postResize){var sl=this._getScroll();if(sl>node.offsetLeft||sl+_117b.get(this.scrollNode,"width")<node.offsetLeft+_117b.get(node,"width")){this.createSmoothScroll().play();}}}this.inherited(arguments);},_getScrollBounds:function(){var _118f=this.getChildren(),_1190=_117b.get(this.scrollNode,"width"),_1191=_117b.get(this.containerNode,"width"),_1192=_1191-_1190,_1193=this._getTabsWidth();if(_118f.length&&_1193>_1190){return {min:this.isLeftToRight()?0:_118f[_118f.length-1].domNode.offsetLeft,max:this.isLeftToRight()?(_118f[_118f.length-1].domNode.offsetLeft+_118f[_118f.length-1].domNode.offsetWidth)-_1190:_1192};}else{var _1194=this.isLeftToRight()?0:_1192;return {min:_1194,max:_1194};}},_getScrollForSelectedTab:function(){var w=this.scrollNode,n=this._selectedTab,_1195=_117b.get(this.scrollNode,"width"),_1196=this._getScrollBounds();var pos=(n.offsetLeft+_117b.get(n,"width")/2)-_1195/2;pos=Math.min(Math.max(pos,_1196.min),_1196.max);return pos;},createSmoothScroll:function(x){if(arguments.length>0){var _1197=this._getScrollBounds();x=Math.min(Math.max(x,_1197.min),_1197.max);}else{x=this._getScrollForSelectedTab();}if(this._anim&&this._anim.status()=="playing"){this._anim.stop();}var self=this,w=this.scrollNode,anim=new fx.Animation({beforeBegin:function(){if(this.curve){delete this.curve;}var oldS=w.scrollLeft,newS=self._convertToScrollLeft(x);anim.curve=new fx._Line(oldS,newS);},onAnimate:function(val){w.scrollLeft=val;}});this._anim=anim;this._setButtonClass(x);return anim;},_getBtnNode:function(e){var n=e.target;while(n&&!_1179.contains(n,"tabStripButton")){n=n.parentNode;}return n;},doSlideRight:function(e){this.doSlide(1,this._getBtnNode(e));},doSlideLeft:function(e){this.doSlide(-1,this._getBtnNode(e));},doSlide:function(_1198,node){if(node&&_1179.contains(node,"dijitTabDisabled")){return;}var _1199=_117b.get(this.scrollNode,"width");var d=(_1199*0.75)*_1198;var to=this._getScroll()+d;this._setButtonClass(to);this.createSmoothScroll(to).play();},_setButtonClass:function(_119a){var _119b=this._getScrollBounds();this._leftBtn.set("disabled",_119a<=_119b.min);this._rightBtn.set("disabled",_119a>=_119b.max);}});var _119c=_1178("dijit.layout._ScrollingTabControllerButtonMixin",null,{baseClass:"dijitTab tabStripButton",templateString:_117e,tabIndex:"",isFocusable:function(){return false;}});_1178("dijit.layout._ScrollingTabControllerButton",[_1183,_119c]);_1178("dijit.layout._ScrollingTabControllerMenuButton",[_1183,_1184,_119c],{containerId:"",tabIndex:"-1",isLoaded:function(){return false;},loadDropDown:function(_119d){this.dropDown=new Menu({id:this.containerId+"_menu",ownerDocument:this.ownerDocument,dir:this.dir,lang:this.lang,textDir:this.textDir});var _119e=_117c.byId(this.containerId);array.forEach(_119e.getChildren(),function(page){var _119f=new _1182({id:page.id+"_stcMi",label:page.title,iconClass:page.iconClass,disabled:page.disabled,ownerDocument:this.ownerDocument,dir:page.dir,lang:page.lang,textDir:page.textDir,onClick:function(){_119e.selectChild(page);}});this.dropDown.addChild(_119f);},this);_119d();},closeDropDown:function(focus){this.inherited(arguments);if(this.dropDown){this.dropDown.destroyRecursive();delete this.dropDown;}}});return _1185;});},"url:dijit/layout/templates/ScrollingTabController.html":"<div class=\"dijitTabListContainer-${tabPosition}\" style=\"visibility:hidden\">\n\t<div data-dojo-type=\"dijit.layout._ScrollingTabControllerMenuButton\"\n\t\t\tclass=\"tabStripButton-${tabPosition}\"\n\t\t\tid=\"${id}_menuBtn\"\n\t\t\tdata-dojo-props=\"containerId: '${containerId}', iconClass: 'dijitTabStripMenuIcon',\n\t\t\t\t\tdropDownPosition: ['below-alt', 'above-alt']\"\n\t\t\tdata-dojo-attach-point=\"_menuBtn\" showLabel=\"false\" title=\"\">&#9660;</div>\n\t<div data-dojo-type=\"dijit.layout._ScrollingTabControllerButton\"\n\t\t\tclass=\"tabStripButton-${tabPosition}\"\n\t\t\tid=\"${id}_leftBtn\"\n\t\t\tdata-dojo-props=\"iconClass:'dijitTabStripSlideLeftIcon', showLabel:false, title:''\"\n\t\t\tdata-dojo-attach-point=\"_leftBtn\" data-dojo-attach-event=\"onClick: doSlideLeft\">&#9664;</div>\n\t<div data-dojo-type=\"dijit.layout._ScrollingTabControllerButton\"\n\t\t\tclass=\"tabStripButton-${tabPosition}\"\n\t\t\tid=\"${id}_rightBtn\"\n\t\t\tdata-dojo-props=\"iconClass:'dijitTabStripSlideRightIcon', showLabel:false, title:''\"\n\t\t\tdata-dojo-attach-point=\"_rightBtn\" data-dojo-attach-event=\"onClick: doSlideRight\">&#9654;</div>\n\t<div class='dijitTabListWrapper' data-dojo-attach-point='tablistWrapper'>\n\t\t<div role='tablist' data-dojo-attach-event='onkeypress:onkeypress'\n\t\t\t\tdata-dojo-attach-point='containerNode' class='nowrapTabStrip'></div>\n\t</div>\n</div>","url:dijit/layout/templates/_ScrollingTabControllerButton.html":"<div data-dojo-attach-event=\"onclick:_onClick\" class=\"dijitTabInnerDiv dijitTabContent dijitButtonContents\"  data-dojo-attach-point=\"focusNode\">\n\t<img role=\"presentation\" alt=\"\" src=\"${_blankGif}\" class=\"dijitTabStripIcon\" data-dojo-attach-point=\"iconNode\"/>\n\t<span data-dojo-attach-point=\"containerNode,titleNode\" class=\"dijitButtonText\"></span>\n</div>","epi/shell/widget/layout/_ComponentTabController":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/_base/lang","dojo/dom-style","dojo/dom-attr","dojo/dom-class","dojo/Evented","dojo/text!./templates/_ComponentTabController.htm","dijit/layout/ScrollingTabController","dijit/_WidgetsInTemplateMixin","dijit/form/ToggleButton"],function(array,_11a0,lang,_11a1,_11a2,_11a3,_11a4,_11a5,_11a6,_11a7,_11a8){return _11a0([_11a6,_11a7,_11a4],{templateString:_11a5,title:"",toggleable:true,open:true,addChild:function(child,index){if(index&&typeof index=="number"){index++;}else{index=this.getChildren().length+1;}this.inherited("addChild",[child,index]);_11a1.set(child.domNode,"display",this.open?"":"none");},_toggle:function(e){if(e){this._started&&!this._initializing&&this.set("open",!this.get("open"));}},_setTitleAttr:function(title){this._set("title",title||"");this.toggleButton.set("label",title);},setOpen:function(open){this._initializing=true;this.set("open",open);this.toggleButton.set("checked",!this.open);this._initializing=false;},_setOpenAttr:function(open){this._set("open",open);if(!this.open){_11a3.add(this.tablistWrapper,"closed");}else{_11a3.remove(this.tablistWrapper,"closed");}this.toggleButton.set("showLabel",!this.open);array.forEach(this.getChildren(),lang.hitch(this,function(child){if(child!==this.toggleButton){_11a1.set(child.domNode,"display",this.open?"":"none");}}));!this._initializing&&this.emit("toggle",this.open);},_setToggleableAttr:function(_11a9){this._set("toggleable",_11a9);_11a1.set(this.toggleButton.domNode,"display",this.toggleable?"":"none");}});});},"url:epi/shell/widget/layout/templates/_ComponentTabController.htm":"<div class=\"dijitTabListContainer-${tabPosition}\" style=\"visibility:hidden\">\r\n    \r\n    <div data-dojo-type=\"dijit.layout._ScrollingTabControllerMenuButton\"\r\n         class=\"tabStripButton-${tabPosition}\"\r\n         id=\"${id}_menuBtn\"\r\n         data-dojo-props=\"containerId: '${containerId}', iconClass: 'dijitTabStripMenuIcon',\r\n\t\t\t\t\tdropDownPosition: ['below-alt', 'above-alt']\"\r\n         data-dojo-attach-point=\"_menuBtn\" showLabel=\"false\" title=\"\">&#9660;</div>\r\n    <div data-dojo-type=\"dijit.layout._ScrollingTabControllerButton\"\r\n         class=\"tabStripButton-${tabPosition}\"\r\n         id=\"${id}_leftBtn\"\r\n         data-dojo-props=\"iconClass:'dijitTabStripSlideLeftIcon', showLabel:false, title:''\"\r\n         data-dojo-attach-point=\"_leftBtn\" data-dojo-attach-event=\"onClick: doSlideLeft\">&#9664;</div>\r\n    <div data-dojo-type=\"dijit.layout._ScrollingTabControllerButton\"\r\n         class=\"tabStripButton-${tabPosition}\"\r\n         id=\"${id}_rightBtn\"\r\n         data-dojo-props=\"iconClass:'dijitTabStripSlideRightIcon', showLabel:false, title:''\"\r\n         data-dojo-attach-point=\"_rightBtn\" data-dojo-attach-event=\"onClick: doSlideRight\">&#9654;</div>\r\n    <div class='dijitTabListWrapper' data-dojo-attach-point='tablistWrapper'>\r\n        <div role='tablist' data-dojo-attach-event='onkeypress:onkeypress' data-dojo-attach-point='containerNode' class=\"nowrapTabStrip\" >\r\n            <div data-dojo-type=\"dijit.form.ToggleButton\" data-dojo-attach-point=\"toggleButton\" data-dojo-attach-event=\"onClick:_toggle\" data-dojo-props=\"showLabel:true, iconClass:'epi-gadget-toggle', 'class':'epi-chromelessButton'\"></div>\r\n        </div>\r\n    </div>\r\n</div>","epi/shell/widget/layout/ComponentPaneContainer":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/_base/lang","dojo/dom-geometry","dojo/dom-style","epi/shell/widget/layout/ComponentContainer"],function(array,_11aa,lang,_11ab,_11ac,_11ad){return _11aa([_11ad],{_previousChildrenCount:null,layoutComponents:function(){var _11ae=this.getChildren();array.forEach(_11ae,function(_11af){if(_11af.lastOpenHeight&&(_11af.lastOpenHeight<_11af.minHeight)){_11af.set("lastOpenHeight",_11af.minHeight);}});if(_11ae.length===1){var child=_11ae[0];if(!child.open){child.set("open",true);}var _11b0=_11ab.getContentBox(this.containerNode);child.resize(_11b0);}else{if(_11ae.length===2){var _11b1=array.every(_11ae,function(child){return child.open;});array.forEach(_11ae,function(child){child.set("resizable",_11b1);});this._layout2Children(_11ae[0],_11ae[1]);}else{var _11b2=lang.hitch(this,function(width){array.forEach(this.getChildren(),function(_11b3){_11b3.set("resizable",_11b3.open);if(_11b3.resize&&lang.isFunction(_11b3.resize)){if(width){_11b3.resize({w:width});}else{_11b3.resize();}}});});if(this._previousChildrenCount<3){_11b2(null);}var _11b4=_11ab.getContentBox(this.gridContainerDiv);_11b2(_11b4.w);}}this._previousChildrenCount=_11ae.length;},_layout2Children:function(child,_11b5){var _11b6=_11ab.getMarginBox(this.containerNode);var _11b7={w:_11b6.w};var _11b8={w:_11b6.w};var _11b9=child.getSize().h;var _11ba=_11b5.getSize().h;var _11bb=Math.floor(_11b6.h/2);if(child.open&&_11b5.open&&(!child.lastOpenHeight||!_11b5.lastOpenHeight)){_11b7.h=_11bb;_11b8.h=_11b6.h-_11bb;}else{if(!child.open&&!_11b5.open){_11b7.h=_11b9;_11b8.h=_11ba;child.set("lastOpenHeight",_11bb);_11b5.set("lastOpenHeight",_11b6.h-_11bb);}else{if(_11b9<_11ba){_11b7.h=_11b9;_11b8.h=_11b6.h-_11b9;}else{_11b7.h=_11b6.h-_11ba;_11b8.h=_11ba;}}}child.resize(_11b7);_11b5.resize(_11b8);},_layoutChildren:function(child,_11bc,_11bd){var _11be=this.getChildren(),_11bf=_11ab.getContentBox(this.containerNode).h;child.resize({h:_11bc});if(_11be.length==2){array.forEach(_11be,function(_11c0){if(_11c0!==child){_11c0.resize({h:_11bf-_11bc});}});}if(_11bd){array.forEach(_11be,function(_11c1){if(_11c1.getSize().h){_11c1.set("lastOpenHeight",_11c1.getSize().h);}});this.layoutComponents();this._persistComponentSettings();}},_onCompontentsChanged:function(){var _11c2=this.getChildren(),_11c3=_11c2.length>1,_11c4=_11c2.length>2,_11c5=_11c2.length===1;array.forEach(_11c2,function(child,index){child.set("showSplitter",_11c4||index<_11c2.length-1);child.set("toggleable",_11c3);if(_11c5&&child.setDefaultStates){child.setDefaultStates();}},this);},_componentToggle:function(){var _11c6=this.getChildren();if(_11c6.length==2){var _11c7=array.every(_11c6,function(child){return child.open;});array.forEach(_11c6,function(child){child.set("resizable",_11c7);});}this.inherited(arguments);},_getMaxSizeChild:function(){var _11c8=this.getChildren(),child=_11c8[0],_11c9=_11c8[1],_11ca=_11ab.getMarginBox(child.domNode).h;if(_11c8.length==2){_11ca+=_11ab.getMarginBox(_11c9.domNode).h-_11c9.minHeight;return _11ca;}return child.maxHeight||Infinity;}});});},"epi/shell/widget/DateRange":function(){define(["dojo","dojo/i18n","dijit/_Widget","dijit/_TemplatedMixin","dijit/_WidgetsInTemplateMixin","dijit/form/DateTextBox"],function(dojo,i18n,_11cb,_11cc,_11cd){return dojo.declare([_11cb,_11cc,_11cd],{templateString:"<div class=\"ui-daterange-popup\" style=\"width:390px;\">            <div>                <div style=\"margin: 5px;\" data-dojo-type=\"dijit/form/DateTextBox\" dojoAttachPoint=\"startDateInput\" dojoAttachEvent=\"onMouseEnter: forbidCloseParent\"></div>                <div style=\"margin: 5px;\" data-dojo-type=\"dijit/form/DateTextBox\" dojoAttachPoint=\"endDateInput\" dojoAttachEvent=\"onMouseEnter: forbidCloseParent\"></div>            </div>            <div style=\"text-align: right;margin: 20px 7px 0 0;\">                <button data-dojo-type=\"dijit/form/Button\" type=\"button\" dojoAttachPoint=\"chooseButton\">${commonRes.action.choose}</button>                <button data-dojo-type=\"dijit/form/Button\" type=\"button\" dojoAttachPoint=\"cancelButton\">${commonRes.action.cancel}</button>            </div>        </div>",closeParent:true,commonRes:epi.resources,forbidCloseParent:function(){this.closeParent=false;},allowCloseParent:function(){this.closeParent=true;}});});},"dijit/form/DateTextBox":function(){define("dijit/form/DateTextBox",["dojo/_base/declare","../Calendar","./_DateTimeTextBox"],function(_11ce,_11cf,_11d0){return _11ce("dijit.form.DateTextBox",_11d0,{baseClass:"dijitTextBox dijitComboBox dijitDateTextBox",popupClass:_11cf,_selector:"date",value:new Date("")});});},"dijit/Calendar":function(){define("dijit/Calendar",["dojo/_base/array","dojo/date","dojo/date/locale","dojo/_base/declare","dojo/dom-attr","dojo/dom-class","dojo/_base/event","dojo/_base/kernel","dojo/keys","dojo/_base/lang","dojo/sniff","./CalendarLite","./_Widget","./_CssStateMixin","./_TemplatedMixin","./form/DropDownButton"],function(array,date,local,_11d1,_11d2,_11d3,event,_11d4,keys,lang,has,_11d5,_11d6,_11d7,_11d8,_11d9){var _11da=_11d1("dijit.Calendar",[_11d5,_11d6,_11d7],{cssStateNodes:{"decrementMonth":"dijitCalendarArrow","incrementMonth":"dijitCalendarArrow","previousYearLabelNode":"dijitCalendarPreviousYear","nextYearLabelNode":"dijitCalendarNextYear"},setValue:function(value){_11d4.deprecated("dijit.Calendar:setValue() is deprecated.  Use set('value', ...) instead.","","2.0");this.set("value",value);},_createMonthWidget:function(){return new _11da._MonthDropDownButton({id:this.id+"_mddb",tabIndex:-1,onMonthSelect:lang.hitch(this,"_onMonthSelect"),lang:this.lang,dateLocaleModule:this.dateLocaleModule},this.monthNode);},postCreate:function(){this.inherited(arguments);this.connect(this.domNode,"onkeydown","_onKeyDown");this.connect(this.dateRowsNode,"onmouseover","_onDayMouseOver");this.connect(this.dateRowsNode,"onmouseout","_onDayMouseOut");this.connect(this.dateRowsNode,"onmousedown","_onDayMouseDown");this.connect(this.dateRowsNode,"onmouseup","_onDayMouseUp");},_onMonthSelect:function(_11db){var date=new this.dateClassObj(this.currentFocus);date.setDate(1);date.setMonth(_11db);var _11dc=this.dateModule.getDaysInMonth(date);var _11dd=this.currentFocus.getDate();date.setDate(Math.min(_11dd,_11dc));this._setCurrentFocusAttr(date);},_onDayMouseOver:function(evt){var node=_11d3.contains(evt.target,"dijitCalendarDateLabel")?evt.target.parentNode:evt.target;if(node&&((node.dijitDateValue&&!_11d3.contains(node,"dijitCalendarDisabledDate"))||node==this.previousYearLabelNode||node==this.nextYearLabelNode)){_11d3.add(node,"dijitCalendarHoveredDate");this._currentNode=node;}},_onDayMouseOut:function(evt){if(!this._currentNode){return;}if(evt.relatedTarget&&evt.relatedTarget.parentNode==this._currentNode){return;}var cls="dijitCalendarHoveredDate";if(_11d3.contains(this._currentNode,"dijitCalendarActiveDate")){cls+=" dijitCalendarActiveDate";}_11d3.remove(this._currentNode,cls);this._currentNode=null;},_onDayMouseDown:function(evt){var node=evt.target.parentNode;if(node&&node.dijitDateValue&&!_11d3.contains(node,"dijitCalendarDisabledDate")){_11d3.add(node,"dijitCalendarActiveDate");this._currentNode=node;}},_onDayMouseUp:function(evt){var node=evt.target.parentNode;if(node&&node.dijitDateValue){_11d3.remove(node,"dijitCalendarActiveDate");}},handleKey:function(evt){var _11de=-1,_11df,_11e0=this.currentFocus;switch(evt.keyCode){case keys.RIGHT_ARROW:_11de=1;case keys.LEFT_ARROW:_11df="day";if(!this.isLeftToRight()){_11de*=-1;}break;case keys.DOWN_ARROW:_11de=1;case keys.UP_ARROW:_11df="week";break;case keys.PAGE_DOWN:_11de=1;case keys.PAGE_UP:_11df=evt.ctrlKey||evt.altKey?"year":"month";break;case keys.END:_11e0=this.dateModule.add(_11e0,"month",1);_11df="day";case keys.HOME:_11e0=new this.dateClassObj(_11e0);_11e0.setDate(1);break;case keys.ENTER:case keys.SPACE:this.set("value",this.currentFocus);break;default:return true;}if(_11df){_11e0=this.dateModule.add(_11e0,_11df,_11de);}this._setCurrentFocusAttr(_11e0);return false;},_onKeyDown:function(evt){if(!this.handleKey(evt)){event.stop(evt);}},onValueSelected:function(){},onChange:function(value){this.onValueSelected(value);},getClassForDate:function(){}});_11da._MonthDropDownButton=_11d1("dijit.Calendar._MonthDropDownButton",_11d9,{onMonthSelect:function(){},postCreate:function(){this.inherited(arguments);this.dropDown=new _11da._MonthDropDown({id:this.id+"_mdd",onChange:this.onMonthSelect});},_setMonthAttr:function(month){var _11e1=this.dateLocaleModule.getNames("months","wide","standAlone",this.lang,month);this.dropDown.set("months",_11e1);this.containerNode.innerHTML=(has("ie")==6?"":"<div class='dijitSpacer'>"+this.dropDown.domNode.innerHTML+"</div>")+"<div class='dijitCalendarMonthLabel dijitCalendarCurrentMonthLabel'>"+_11e1[month.getMonth()]+"</div>";}});_11da._MonthDropDown=_11d1("dijit.Calendar._MonthDropDown",[_11d6,_11d8],{months:[],templateString:"<div class='dijitCalendarMonthMenu dijitMenu' "+"data-dojo-attach-event='onclick:_onClick,onmouseover:_onMenuHover,onmouseout:_onMenuHover'></div>",_setMonthsAttr:function(_11e2){this.domNode.innerHTML=array.map(_11e2,function(month,idx){return month?"<div class='dijitCalendarMonthLabel' month='"+idx+"'>"+month+"</div>":"";}).join("");},_onClick:function(evt){this.onChange(_11d2.get(evt.target,"month"));},onChange:function(){},_onMenuHover:function(evt){_11d3.toggle(evt.target,"dijitCalendarMonthLabelHover",evt.type=="mouseover");}});return _11da;});},"dijit/CalendarLite":function(){require({cache:{"url:dijit/templates/Calendar.html":"<table cellspacing=\"0\" cellpadding=\"0\" class=\"dijitCalendarContainer\" role=\"grid\" aria-labelledby=\"${id}_mddb ${id}_year\">\n\t<thead>\n\t\t<tr class=\"dijitReset dijitCalendarMonthContainer\" valign=\"top\">\n\t\t\t<th class='dijitReset dijitCalendarArrow' data-dojo-attach-point=\"decrementMonth\">\n\t\t\t\t<img src=\"${_blankGif}\" alt=\"\" class=\"dijitCalendarIncrementControl dijitCalendarDecrease\" role=\"presentation\"/>\n\t\t\t\t<span data-dojo-attach-point=\"decreaseArrowNode\" class=\"dijitA11ySideArrow\">-</span>\n\t\t\t</th>\n\t\t\t<th class='dijitReset' colspan=\"5\">\n\t\t\t\t<div data-dojo-attach-point=\"monthNode\">\n\t\t\t\t</div>\n\t\t\t</th>\n\t\t\t<th class='dijitReset dijitCalendarArrow' data-dojo-attach-point=\"incrementMonth\">\n\t\t\t\t<img src=\"${_blankGif}\" alt=\"\" class=\"dijitCalendarIncrementControl dijitCalendarIncrease\" role=\"presentation\"/>\n\t\t\t\t<span data-dojo-attach-point=\"increaseArrowNode\" class=\"dijitA11ySideArrow\">+</span>\n\t\t\t</th>\n\t\t</tr>\n\t\t<tr role=\"row\">\n\t\t\t${!dayCellsHtml}\n\t\t</tr>\n\t</thead>\n\t<tbody data-dojo-attach-point=\"dateRowsNode\" data-dojo-attach-event=\"onclick: _onDayClick\" class=\"dijitReset dijitCalendarBodyContainer\">\n\t\t\t${!dateRowsHtml}\n\t</tbody>\n\t<tfoot class=\"dijitReset dijitCalendarYearContainer\">\n\t\t<tr>\n\t\t\t<td class='dijitReset' valign=\"top\" colspan=\"7\" role=\"presentation\">\n\t\t\t\t<div class=\"dijitCalendarYearLabel\">\n\t\t\t\t\t<span data-dojo-attach-point=\"previousYearLabelNode\" class=\"dijitInline dijitCalendarPreviousYear\" role=\"button\"></span>\n\t\t\t\t\t<span data-dojo-attach-point=\"currentYearLabelNode\" class=\"dijitInline dijitCalendarSelectedYear\" role=\"button\" id=\"${id}_year\"></span>\n\t\t\t\t\t<span data-dojo-attach-point=\"nextYearLabelNode\" class=\"dijitInline dijitCalendarNextYear\" role=\"button\"></span>\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t</tr>\n\t</tfoot>\n</table>\n"}});define("dijit/CalendarLite",["dojo/_base/array","dojo/_base/declare","dojo/cldr/supplemental","dojo/date","dojo/date/locale","dojo/date/stamp","dojo/dom","dojo/dom-class","dojo/_base/event","dojo/_base/lang","dojo/sniff","dojo/string","./_WidgetBase","./_TemplatedMixin","dojo/text!./templates/Calendar.html","./hccss"],function(array,_11e3,_11e4,date,_11e5,stamp,dom,_11e6,event,lang,has,_11e7,_11e8,_11e9,_11ea){var _11eb=_11e3("dijit.CalendarLite",[_11e8,_11e9],{templateString:_11ea,dowTemplateString:"<th class=\"dijitReset dijitCalendarDayLabelTemplate\" role=\"columnheader\"><span class=\"dijitCalendarDayLabel\">${d}</span></th>",dateTemplateString:"<td class=\"dijitReset\" role=\"gridcell\" data-dojo-attach-point=\"dateCells\"><span class=\"dijitCalendarDateLabel\" data-dojo-attach-point=\"dateLabels\"></span></td>",weekTemplateString:"<tr class=\"dijitReset dijitCalendarWeekTemplate\" role=\"row\">${d}${d}${d}${d}${d}${d}${d}</tr>",value:new Date(""),datePackage:"",dayWidth:"narrow",tabIndex:"0",currentFocus:new Date(),baseClass:"dijitCalendar",_isValidDate:function(value){return value&&!isNaN(value)&&typeof value=="object"&&value.toString()!=this.constructor.prototype.value.toString();},_getValueAttr:function(){if(this.value&&!isNaN(this.value)){var value=new this.dateClassObj(this.value);value.setHours(0,0,0,0);if(value.getDate()<this.value.getDate()){value=this.dateModule.add(value,"hour",1);}return value;}else{return null;}},_setValueAttr:function(value,_11ec){if(typeof value=="string"){value=stamp.fromISOString(value);}value=this._patchDate(value);if(this._isValidDate(value)&&!this.isDisabledDate(value,this.lang)){this._set("value",value);this.set("currentFocus",value);this._markSelectedDates([value]);if(this._created&&(_11ec||typeof _11ec=="undefined")){this.onChange(this.get("value"));}}else{this._set("value",null);this._markSelectedDates([]);}},_patchDate:function(value){if(value){value=new this.dateClassObj(value);value.setHours(1,0,0,0);}return value;},_setText:function(node,text){while(node.firstChild){node.removeChild(node.firstChild);}node.appendChild(node.ownerDocument.createTextNode(text));},_populateGrid:function(){var month=new this.dateClassObj(this.currentFocus);month.setDate(1);var _11ed=month.getDay(),_11ee=this.dateModule.getDaysInMonth(month),_11ef=this.dateModule.getDaysInMonth(this.dateModule.add(month,"month",-1)),today=new this.dateClassObj(),_11f0=_11e4.getFirstDayOfWeek(this.lang);if(_11f0>_11ed){_11f0-=7;}this._date2cell={};array.forEach(this.dateCells,function(_11f1,idx){var i=idx+_11f0;var date=new this.dateClassObj(month),_11f2,clazz="dijitCalendar",adj=0;if(i<_11ed){_11f2=_11ef-_11ed+i+1;adj=-1;clazz+="Previous";}else{if(i>=(_11ed+_11ee)){_11f2=i-_11ed-_11ee+1;adj=1;clazz+="Next";}else{_11f2=i-_11ed+1;clazz+="Current";}}if(adj){date=this.dateModule.add(date,"month",adj);}date.setDate(_11f2);if(!this.dateModule.compare(date,today,"date")){clazz="dijitCalendarCurrentDate "+clazz;}if(this.isDisabledDate(date,this.lang)){clazz="dijitCalendarDisabledDate "+clazz;_11f1.setAttribute("aria-disabled","true");}else{clazz="dijitCalendarEnabledDate "+clazz;_11f1.removeAttribute("aria-disabled");_11f1.setAttribute("aria-selected","false");}var _11f3=this.getClassForDate(date,this.lang);if(_11f3){clazz=_11f3+" "+clazz;}_11f1.className=clazz+"Month dijitCalendarDateTemplate";var _11f4=date.valueOf();this._date2cell[_11f4]=_11f1;_11f1.dijitDateValue=_11f4;this._setText(this.dateLabels[idx],date.getDateLocalized?date.getDateLocalized(this.lang):date.getDate());},this);},_populateControls:function(){var month=new this.dateClassObj(this.currentFocus);month.setDate(1);this.monthWidget.set("month",month);var y=month.getFullYear()-1;var d=new this.dateClassObj();array.forEach(["previous","current","next"],function(name){d.setFullYear(y++);this._setText(this[name+"YearLabelNode"],this.dateLocaleModule.format(d,{selector:"year",locale:this.lang}));},this);},goToToday:function(){this.set("value",new this.dateClassObj());},constructor:function(_11f5){this.dateModule=_11f5.datePackage?lang.getObject(_11f5.datePackage,false):date;this.dateClassObj=this.dateModule.Date||Date;this.dateLocaleModule=_11f5.datePackage?lang.getObject(_11f5.datePackage+".locale",false):_11e5;},_createMonthWidget:function(){return _11eb._MonthWidget({id:this.id+"_mw",lang:this.lang,dateLocaleModule:this.dateLocaleModule},this.monthNode);},buildRendering:function(){var d=this.dowTemplateString,_11f6=this.dateLocaleModule.getNames("days",this.dayWidth,"standAlone",this.lang),_11f7=_11e4.getFirstDayOfWeek(this.lang);this.dayCellsHtml=_11e7.substitute([d,d,d,d,d,d,d].join(""),{d:""},function(){return _11f6[_11f7++%7];});var r=_11e7.substitute(this.weekTemplateString,{d:this.dateTemplateString});this.dateRowsHtml=[r,r,r,r,r,r].join("");this.dateCells=[];this.dateLabels=[];this.inherited(arguments);dom.setSelectable(this.domNode,false);var _11f8=new this.dateClassObj(this.currentFocus);this.monthWidget=this._createMonthWidget();this.set("currentFocus",_11f8,false);},postCreate:function(){this.inherited(arguments);this._connectControls();},_connectControls:function(){var _11f9=lang.hitch(this,function(_11fa,part,_11fb){this.connect(this[_11fa],"onclick",function(){this._setCurrentFocusAttr(this.dateModule.add(this.currentFocus,part,_11fb));});});_11f9("incrementMonth","month",1);_11f9("decrementMonth","month",-1);_11f9("nextYearLabelNode","year",1);_11f9("previousYearLabelNode","year",-1);},_setCurrentFocusAttr:function(date,_11fc){var _11fd=this.currentFocus,_11fe=this._getNodeByDate(_11fd);date=this._patchDate(date);this._set("currentFocus",date);if(!this._date2cell||this.dateModule.difference(_11fd,date,"month")!=0){this._populateGrid();this._populateControls();this._markSelectedDates([this.value]);}var _11ff=this._getNodeByDate(date);_11ff.setAttribute("tabIndex",this.tabIndex);if(this.focused||_11fc){_11ff.focus();}if(_11fe&&_11fe!=_11ff){if(has("webkit")){_11fe.setAttribute("tabIndex","-1");}else{_11fe.removeAttribute("tabIndex");}}},focus:function(){this._setCurrentFocusAttr(this.currentFocus,true);},_onDayClick:function(evt){event.stop(evt);for(var node=evt.target;node&&!node.dijitDateValue;node=node.parentNode){}if(node&&!_11e6.contains(node,"dijitCalendarDisabledDate")){this.set("value",node.dijitDateValue);}},_getNodeByDate:function(value){value=this._patchDate(value);return value&&this._date2cell?this._date2cell[value.valueOf()]:null;},_markSelectedDates:function(dates){function mark(_1200,cell){_11e6.toggle(cell,"dijitCalendarSelectedDate",_1200);cell.setAttribute("aria-selected",_1200?"true":"false");};array.forEach(this._selectedCells||[],lang.partial(mark,false));this._selectedCells=array.filter(array.map(dates,this._getNodeByDate,this),function(n){return n;});array.forEach(this._selectedCells,lang.partial(mark,true));},onChange:function(){},isDisabledDate:function(){},getClassForDate:function(){}});_11eb._MonthWidget=_11e3("dijit.CalendarLite._MonthWidget",_11e8,{_setMonthAttr:function(month){var _1201=this.dateLocaleModule.getNames("months","wide","standAlone",this.lang,month),_1202=(has("ie")==6?"":"<div class='dijitSpacer'>"+array.map(_1201,function(s){return "<div>"+s+"</div>";}).join("")+"</div>");this.domNode.innerHTML=_1202+"<div class='dijitCalendarMonthLabel dijitCalendarCurrentMonthLabel'>"+_1201[month.getMonth()]+"</div>";}});return _11eb;});},"url:dijit/templates/Calendar.html":"<table cellspacing=\"0\" cellpadding=\"0\" class=\"dijitCalendarContainer\" role=\"grid\" aria-labelledby=\"${id}_mddb ${id}_year\">\n\t<thead>\n\t\t<tr class=\"dijitReset dijitCalendarMonthContainer\" valign=\"top\">\n\t\t\t<th class='dijitReset dijitCalendarArrow' data-dojo-attach-point=\"decrementMonth\">\n\t\t\t\t<img src=\"${_blankGif}\" alt=\"\" class=\"dijitCalendarIncrementControl dijitCalendarDecrease\" role=\"presentation\"/>\n\t\t\t\t<span data-dojo-attach-point=\"decreaseArrowNode\" class=\"dijitA11ySideArrow\">-</span>\n\t\t\t</th>\n\t\t\t<th class='dijitReset' colspan=\"5\">\n\t\t\t\t<div data-dojo-attach-point=\"monthNode\">\n\t\t\t\t</div>\n\t\t\t</th>\n\t\t\t<th class='dijitReset dijitCalendarArrow' data-dojo-attach-point=\"incrementMonth\">\n\t\t\t\t<img src=\"${_blankGif}\" alt=\"\" class=\"dijitCalendarIncrementControl dijitCalendarIncrease\" role=\"presentation\"/>\n\t\t\t\t<span data-dojo-attach-point=\"increaseArrowNode\" class=\"dijitA11ySideArrow\">+</span>\n\t\t\t</th>\n\t\t</tr>\n\t\t<tr role=\"row\">\n\t\t\t${!dayCellsHtml}\n\t\t</tr>\n\t</thead>\n\t<tbody data-dojo-attach-point=\"dateRowsNode\" data-dojo-attach-event=\"onclick: _onDayClick\" class=\"dijitReset dijitCalendarBodyContainer\">\n\t\t\t${!dateRowsHtml}\n\t</tbody>\n\t<tfoot class=\"dijitReset dijitCalendarYearContainer\">\n\t\t<tr>\n\t\t\t<td class='dijitReset' valign=\"top\" colspan=\"7\" role=\"presentation\">\n\t\t\t\t<div class=\"dijitCalendarYearLabel\">\n\t\t\t\t\t<span data-dojo-attach-point=\"previousYearLabelNode\" class=\"dijitInline dijitCalendarPreviousYear\" role=\"button\"></span>\n\t\t\t\t\t<span data-dojo-attach-point=\"currentYearLabelNode\" class=\"dijitInline dijitCalendarSelectedYear\" role=\"button\" id=\"${id}_year\"></span>\n\t\t\t\t\t<span data-dojo-attach-point=\"nextYearLabelNode\" class=\"dijitInline dijitCalendarNextYear\" role=\"button\"></span>\n\t\t\t\t</div>\n\t\t\t</td>\n\t\t</tr>\n\t</tfoot>\n</table>\n","dijit/form/_DateTimeTextBox":function(){require({cache:{"url:dijit/form/templates/DropDownBox.html":"<div class=\"dijit dijitReset dijitInline dijitLeft\"\n\tid=\"widget_${id}\"\n\trole=\"combobox\"\n\t><div class='dijitReset dijitRight dijitButtonNode dijitArrowButton dijitDownArrowButton dijitArrowButtonContainer'\n\t\tdata-dojo-attach-point=\"_buttonNode, _popupStateNode\" role=\"presentation\"\n\t\t><input class=\"dijitReset dijitInputField dijitArrowButtonInner\" value=\"&#9660; \" type=\"text\" tabIndex=\"-1\" readonly=\"readonly\" role=\"button presentation\" aria-hidden=\"true\"\n\t\t\t${_buttonInputDisabled}\n\t/></div\n\t><div class='dijitReset dijitValidationContainer'\n\t\t><input class=\"dijitReset dijitInputField dijitValidationIcon dijitValidationInner\" value=\"&#935; \" type=\"text\" tabIndex=\"-1\" readonly=\"readonly\" role=\"presentation\"\n\t/></div\n\t><div class=\"dijitReset dijitInputField dijitInputContainer\"\n\t\t><input class='dijitReset dijitInputInner' ${!nameAttrSetting} type=\"text\" autocomplete=\"off\"\n\t\t\tdata-dojo-attach-point=\"textbox,focusNode\" role=\"textbox\" aria-haspopup=\"true\"\n\t/></div\n></div>\n"}});define("dijit/form/_DateTimeTextBox",["dojo/date","dojo/date/locale","dojo/date/stamp","dojo/_base/declare","dojo/_base/lang","./RangeBoundTextBox","../_HasDropDown","dojo/text!./templates/DropDownBox.html"],function(date,_1203,stamp,_1204,lang,_1205,_1206,_1207){new Date("X");var _1208=_1204("dijit.form._DateTimeTextBox",[_1205,_1206],{templateString:_1207,hasDownArrow:true,cssStateNodes:{"_buttonNode":"dijitDownArrowButton"},pattern:_1203.regexp,datePackage:"",postMixInProperties:function(){this.inherited(arguments);this._set("type","text");},compare:function(val1,val2){var _1209=this._isInvalidDate(val1);var _120a=this._isInvalidDate(val2);return _1209?(_120a?0:-1):(_120a?1:date.compare(val1,val2,this._selector));},forceWidth:true,format:function(value,_120b){if(!value){return "";}return this.dateLocaleModule.format(value,_120b);},"parse":function(value,_120c){return this.dateLocaleModule.parse(value,_120c)||(this._isEmpty(value)?null:undefined);},serialize:function(val,_120d){if(val.toGregorian){val=val.toGregorian();}return stamp.toISOString(val,_120d);},dropDownDefaultValue:new Date(),value:new Date(""),_blankValue:null,popupClass:"",_selector:"",constructor:function(_120e){this.dateModule=_120e.datePackage?lang.getObject(_120e.datePackage,false):date;this.dateClassObj=this.dateModule.Date||Date;this.dateLocaleModule=_120e.datePackage?lang.getObject(_120e.datePackage+".locale",false):_1203;this._set("pattern",this.dateLocaleModule.regexp);this._invalidDate=this.constructor.prototype.value.toString();},buildRendering:function(){this.inherited(arguments);if(!this.hasDownArrow){this._buttonNode.style.display="none";}if(!this.hasDownArrow){this._buttonNode=this.domNode;this.baseClass+=" dijitComboBoxOpenOnClick";}},_setConstraintsAttr:function(_120f){_120f.selector=this._selector;_120f.fullYear=true;var _1210=stamp.fromISOString;if(typeof _120f.min=="string"){_120f.min=_1210(_120f.min);}if(typeof _120f.max=="string"){_120f.max=_1210(_120f.max);}this.inherited(arguments);},_isInvalidDate:function(value){return !value||isNaN(value)||typeof value!="object"||value.toString()==this._invalidDate;},_setValueAttr:function(value,_1211,_1212){if(value!==undefined){if(typeof value=="string"){value=stamp.fromISOString(value);}if(this._isInvalidDate(value)){value=null;}if(value instanceof Date&&!(this.dateClassObj instanceof Date)){value=new this.dateClassObj(value);}}this.inherited(arguments);if(this.value instanceof Date){this.filterString="";}if(this.dropDown){this.dropDown.set("value",value,false);}},_set:function(attr,value){if(attr=="value"&&this.value instanceof Date&&this.compare(value,this.value)==0){return;}this.inherited(arguments);},_setDropDownDefaultValueAttr:function(val){if(this._isInvalidDate(val)){val=new this.dateClassObj();}this.dropDownDefaultValue=val;},openDropDown:function(_1213){if(this.dropDown){this.dropDown.destroy();}var _1214=lang.isString(this.popupClass)?lang.getObject(this.popupClass,false):this.popupClass,_1215=this,value=this.get("value");this.dropDown=new _1214({onChange:function(value){_1215.set("value",value,true);},id:this.id+"_popup",dir:_1215.dir,lang:_1215.lang,value:value,currentFocus:!this._isInvalidDate(value)?value:this.dropDownDefaultValue,constraints:_1215.constraints,filterString:_1215.filterString,datePackage:_1215.params.datePackage,isDisabledDate:function(date){return !_1215.rangeCheck(date,_1215.constraints);}});this.inherited(arguments);},_getDisplayedValueAttr:function(){return this.textbox.value;},_setDisplayedValueAttr:function(value,_1216){this._setValueAttr(this.parse(value,this.constraints),_1216,value);}});return _1208;});},"url:dijit/form/templates/DropDownBox.html":"<div class=\"dijit dijitReset dijitInline dijitLeft\"\n\tid=\"widget_${id}\"\n\trole=\"combobox\"\n\t><div class='dijitReset dijitRight dijitButtonNode dijitArrowButton dijitDownArrowButton dijitArrowButtonContainer'\n\t\tdata-dojo-attach-point=\"_buttonNode, _popupStateNode\" role=\"presentation\"\n\t\t><input class=\"dijitReset dijitInputField dijitArrowButtonInner\" value=\"&#9660; \" type=\"text\" tabIndex=\"-1\" readonly=\"readonly\" role=\"button presentation\" aria-hidden=\"true\"\n\t\t\t${_buttonInputDisabled}\n\t/></div\n\t><div class='dijitReset dijitValidationContainer'\n\t\t><input class=\"dijitReset dijitInputField dijitValidationIcon dijitValidationInner\" value=\"&#935; \" type=\"text\" tabIndex=\"-1\" readonly=\"readonly\" role=\"presentation\"\n\t/></div\n\t><div class=\"dijitReset dijitInputField dijitInputContainer\"\n\t\t><input class='dijitReset dijitInputInner' ${!nameAttrSetting} type=\"text\" autocomplete=\"off\"\n\t\t\tdata-dojo-attach-point=\"textbox,focusNode\" role=\"textbox\" aria-haspopup=\"true\"\n\t/></div\n></div>\n","epi/shell/widget/DateRangePicker":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/dom-style","dojo/_base/window","dojo/has","dojo/topic","dijit/popup","dijit/_Widget","dijit/_TemplatedMixin","dijit/_HasDropDown","epi/shell/widget/DateRange","epi/i18n!epi/shell/ui/nls/EPiServer.Shell.UI.Resources.ComponentSelection"],function(_1217,lang,_1218,win,has,topic,popup,_1219,_121a,_121b,_121c,res){return _1217([_1219,_121a,_121b],{templateString:"<div>                             <a class=\"epi-iconToolbar-item-link epi-iconToolbar-calendar\" href=\"#\" title=\"${res.selectdateinterval}\" data-dojo-attach-point=\"_buttonNode, focusNode\"></a>                         </div>",res:res,startDate:new Date(),endDate:new Date(),openDropDown:function(){if(this.dropDown){this.dropDown.destroy();}this.dropDown=new _121c();this.dropDown.startDateInput._setValueAttr(this.startDate);this.dropDown.endDateInput._setValueAttr(this.endDate);this.connect(this.dropDown.chooseButton,"onClick",lang.hitch(this,"_onChooseClick"));this.connect(this.dropDown.cancelButton,"onClick",lang.hitch(this,"_closeDropDown"));this.connect(this.dropDown,"onMouseLeave",lang.hitch(this.dropDown,"allowCloseParent"));this.connect(win.body(),(!has("mozilla")?"onmousewheel":"DOMMouseScroll"),lang.hitch(this,"_closeDropDown"));this.inherited(arguments);_1218.set(this.dropDown.domNode,"width","390px");},_onBlur:function(){if(this.dropDown&&this.dropDown.closeParent){popup.close(this.dropDown);this._opened=false;}},_closeDropDown:function(){this.closeDropDown();},_onChooseClick:function(){this.startDate=this.dropDown.startDateInput.get("value");this.endDate=this.dropDown.endDateInput.get("value");this.closeDropDown();topic.publish("intervalHasBeenSet",this.id);}});});},"epi/shell/widget/DateTimeSelector":function(){define(["dojo/_base/declare","dojo/keys","dojo/aspect","dijit/_Widget","dijit/_TemplatedMixin","dijit/_WidgetsInTemplateMixin","dijit/Calendar","epi/shell/widget/TimeSpinner","epi/datetime","dojo/text!./templates/DateTimeSelector.html"],function(_121d,keys,_121e,_121f,_1220,_1221,_1222,_1223,_1224,_1225){return _121d([_121f,_1220,_1221],{templateString:_1225,value:null,postCreate:function(){this.inherited(arguments);_121e.after(this.calendar,"handleKey",function(evt){switch(evt.keyCode){case keys.RIGHT_ARROW:case keys.LEFT_ARROW:case keys.DOWN_ARROW:case keys.UP_ARROW:this.set("value",this.currentFocus);return true;default:return true;}},true);},_setValueAttr:function(value){this.calendar.set("value",value,false);this.timePicker.set("value",value,false);},_onCalendarKeyPress:function(e){if(e.keyCode===keys.TAB){this.timePicker.focus();}},_onTimePickerKeyPress:function(e){if(e.keyCode===keys.TAB){this.calendar.focus();}},_getValueAttr:function(){var _1226=this.calendar.get("value");var _1227=this.timePicker.get("value");if(!_1226&&!_1227){return null;}if(!_1226){this.calendar.goToToday();_1226=this.calendar.get("value");}if(!_1227){_1227=new Date(0,0,0,0,0,0,0);this.timePicker.set("value",_1227,false);}return new Date(_1226.getFullYear(),_1226.getMonth(),_1226.getDate(),_1227.getHours(),_1227.getMinutes(),_1227.getSeconds(),_1227.getMilliseconds());},_onChange:function(value){var _1228=this.get("value");this.onChange(_1228);},onChange:function(value){},focus:function(){this.calendar.focus();}});});},"epi/shell/widget/TimeSpinner":function(){define(["dojo","epi/datetime","dojox/form/TimeSpinner"],function(dojo,_1229,_122a){return dojo.declare("epi.shell.widget.TimeSpinner",[_122a],{smallDelta:60,largeDelta:360,_arrowPressed:function(_122b,_122c,_122d){this.inherited(arguments);this.onChange(this.get("value"));}});});},"dojox/form/TimeSpinner":function(){define("dojox/form/TimeSpinner",["dojo/_base/lang","dojo/_base/event","dijit/form/_Spinner","dojo/keys","dojo/date","dojo/date/locale","dojo/date/stamp","dojo/_base/declare"],function(lang,event,_122e,keys,_122f,_1230,_1231,_1232){return _1232("dojox.form.TimeSpinner",_122e,{required:false,adjust:function(val,delta){return _122f.add(val,"minute",delta);},isValid:function(){return true;},smallDelta:5,largeDelta:30,timeoutChangeRate:0.5,parse:function(time,_1233){return _1230.parse(time,{selector:"time",formatLength:"short"});},format:function(time,_1234){if(lang.isString(time)){return time;}return _1230.format(time,{selector:"time",formatLength:"short"});},serialize:_1231.toISOString,value:"12:00 AM",_onKeyPress:function(e){if((e.charOrCode==keys.HOME||e.charOrCode==keys.END)&&!(e.ctrlKey||e.altKey||e.metaKey)&&typeof this.get("value")!="undefined"){var value=this.constraints[(e.charOrCode==keys.HOME?"min":"max")];if(value){this._setValueAttr(value,true);}event.stop(e);}}});});},"url:epi/shell/widget/templates/DateTimeSelector.html":"<div style=\"position: relative;\" class=\"epi-dateTimeWrapper\">\r\n    <div data-dojo-attach-point=\"calendar\" data-dojo-type=\"dijit/Calendar\"  data-dojo-attach-event=\"onChange: _onChange, onKeyPress:_onCalendarKeyPress\" ></div>\r\n    <div data-dojo-attach-point=\"calendarOverlay\" style=\"position: absolute; left: 0; top: 0;\"></div>\r\n    <div style=\"text-align: center; padding: 5px\" class=\"epi-timePickerWrapper\">\r\n        <div class=\"dijitInline dijitIcon epi-iconClock\"></div><div data-dojo-attach-point=\"timePicker\" data-dojo-type=\"epi/shell/widget/TimeSpinner\" data-dojo-attach-event=\"onChange: _onChange\"></div>\r\n    </div>\r\n</div>\r\n","epi/shell/widget/DateTimeSelectorDropDown":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/keys","dijit/form/_DateTimeTextBox","epi/shell/widget/DateTimeSelector"],function(_1235,lang,keys,_1236,_1237){return _1235([_1236],{baseClass:"dijitTextBox dijitComboBox dijitDateTextBox",popupClass:_1237,forceWidth:false,_isSelecting:false,_canceled:false,_isDropDownShowing:false,constructor:function(){this.constraints={formatLength:"short",fullYear:"true"};},toggleDropDown:function(){this._isSelecting=!this._isSelecting;this.inherited(arguments);},openDropDown:function(){this.inherited(arguments);this.dropDown.onChange=function(){};this.connect(this.dropDown.domNode,"onkeypress",lang.hitch(this,function(e){this._canceled=e.keyCode===keys.ESCAPE;if(e.keyCode===keys.ESCAPE||e.keyCode===keys.ENTER){this._isSelecting=false;this.closeDropDown(true);}}));this._isSelecting=true;this._canceled=false;this._dropDownShowing=true;},closeDropDown:function(focus){if(!this._isSelecting){if(!this._canceled&&this.dropDown){this.set("value",this.dropDown.get("value"));}this.inherited(arguments);}this._dropDownShowing=false;},_onBlur:function(){this._isSelecting=false;if(this._dropDownShowing){this.closeDropDown();}else{if(this.dropDown&&!this.get("value")&&this.get("value")!==null){this.set("value",this.dropDown.get("value"));}}this.inherited(arguments);}});});},"epi/shell/widget/ExpandoButton":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/_base/lang","dojo/dom-class","dojo/dom-geometry","dojo/dom-style","dojo/keys","dojo/text!./templates/ExpandoButton.html","dijit/_KeyNavContainer","dijit/_Widget","dijit/_WidgetsInTemplateMixin","dijit/_TemplatedMixin","dijit/form/ToggleButton","epi/shell/widget/ListContainer"],function(array,_1238,lang,_1239,_123a,_123b,keys,_123c,_123d,_123e,_123f,_1240){return _1238([_123e,_1240,_123f,_123d],{templateString:_123c,buttons:null,isExpand:false,label:"",iconClass:"",hasToggleableChildren:true,_separatorBorderWidth:0,postMixInProperties:function(){if(!this.showInGroup){this.templateString="<ul class=\"dijitReset dijitInline epi-mediumButton epi-expandoButton\"><li data-dojo-attach-point=\"itemsContainer\">"+this.templateString+"</li></ul>";}this.inherited(arguments);},postCreate:function(){this.inherited(arguments);this.connectKeyNavHandlers([keys.LEFT_ARROW],[keys.RIGHT_ARROW]);if(this.buttons){array.forEach(this.buttons,function(_1241){this.containerNode.addChild(_1241);this._startupChild(_1241.getParent());this._startupChild(_1241);if(!_1241.get("iconClass")){_1239.add(_1241.getParent().domNode,"epi-expandoButtonTextNode");}},this);}this.subscribe("/epi/shell/widget/ExpandoButton/action/toggle",lang.hitch(this,function(_1242){this.toggleButtonState.set("checked",_1242);}));if(this.iconClass){this.toggleButtonState.set("iconClass",this.iconClass);}this.connect(this.toggleButtonState,"onClick",this.onClick);},onClick:function(){},startup:function(){this.inherited(arguments);if(this.showInGroup){this._separatorBorderWidth=_123a.getBorderExtents(this.containerNode.domNode).w;}this.toggleButtonState.set("checked",this.isExpand);},_getNextFocusableChild:function(child,dir){if(child){child=this._getSiblingOfChild(child,dir);}var _1243=[this.togglebuttonState];lang.mixin(_1243,this.containerNode.getChildren());for(var i=0;i<_1243.length;i++){if(!child){child=_1243[(dir>0)?0:(_1243.length-1)];}if(child.isFocusable()){return child;}child=this._getSiblingOfChild(child,dir);}return null;},_setIsExpandAttr:function(value){this.toggleButtonState.set("checked",value);},isExpanded:function(){return this.toggleButtonState.get("checked");},focusNext:function(){var _1244=this._getLastFocusableChild();if(this.toggleButtonState.isFocusable()&&this.focusedChild===_1244){return this.focusChild(this.toggleButtonState);}return this.inherited(arguments);},focusPrev:function(){var _1245=this._getFirstFocusableChild();if(this.toggleButtonState.isFocusable()&&this.focusedChild===_1245){return this.focusChild(this.toggleButtonState);}return this.inherited(arguments);},focusChild:function(_1246,last){if(this.isExpanded()){this.inherited(arguments);}},_toggleButtonStateClick:function(val){this.focusedChild=null;val?this._expand():this._collapse();this.onChange(val);},onChange:function(val){},_expand:function(){var _1247=this.containerNode.getChildren(),_1248=this.showInGroup?this.getParent().domNode:this.itemsContainer,_1249=10+_123a.getMarginBox(_1248).w;if(!this.hasToggleableChildren){_1239.add(this.showInGroup?this.getParent().domNode:this.domNode,"dijitChecked");}if(_1247.length===0){return;}array.forEach(_1247,function(item){_1249+=_123a.getMarginBox(item.domNode).w;},this);_123b.set(_1248,"maxWidth",_1249+"px");_1239.add(_1248,"epi-expandoButtonParentNodeOpen");},_collapse:function(){var _124a=this.showInGroup?this.getParent().domNode:this.itemsContainer;if(!this.hasToggleableChildren){_1239.remove(this.showInGroup?this.getParent().domNode:this.domNode,"dijitChecked");}_123b.set(_124a,"maxWidth","");_1239.remove(_124a,"epi-expandoButtonParentNodeOpen");}});});},"url:epi/shell/widget/templates/ExpandoButton.html":"<span class=\"dijit dijitReset dijitInline epi-chromelessButton\">\r\n    <button data-dojo-attach-point=\"toggleButtonState\" data-dojo-type=\"dijit/form/ToggleButton\"\r\n        data-dojo-attach-event=\"onChange: _toggleButtonStateClick\" showlabel=\"false\">${label}</button>\r\n    <ul data-dojo-type=\"epi/shell/widget/ListContainer\" data-dojo-attach-point=\"containerNode\"></ul>\r\n</span>","epi/shell/widget/ListContainer":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/_base/lang","dojo/dom-attr","dojo/dom-style","dojo/text!./templates/ListContainer.html","dijit/_Container","dijit/_KeyNavContainer","dijit/_TemplatedMixin","dijit/_Widget","dijit/_WidgetsInTemplateMixin","epi/shell/widget/ListItem"],function(array,_124b,lang,_124c,_124d,_124e,_124f,_1250,_1251,_1252,_1253,_1254){return _124b([_1252,_1253,_1251,_124f,_1250],{templateString:_124e,updateVisibility:function(){var _1255=array.some(this.getChildren(),function(_1256){return _1256.childWidget&&_124d.get(_1256.childWidget.domNode,"display")!=="none";},this);_124d.set(this.domNode,"display",_1255?"":"none");},addChild:function(_1257,_1258){_1257=new _1254({childWidget:_1257});this.inherited(arguments);}});});},"url:epi/shell/widget/templates/ListContainer.html":"<ul class=\"dijitReset dijitInline\" data-dojo-attach-point=\"containerNode\" tabindex=\"-1\"></ul>","epi/shell/widget/ListItem":function(){define(["dojo/_base/declare","dojo/text!./templates/ListItem.html","dijit/_Contained","dijit/_TemplatedMixin","dijit/_Widget"],function(_1259,_125a,_125b,_125c,_125d){return _1259([_125d,_125c,_125b],{templateString:_125a,childWidget:null,postCreate:function(){this.inherited(arguments);if(this.childWidget){this.childWidget.placeAt(this.containerNode);}},isFocusable:function(){return this.childWidget&&this.childWidget.isFocusable&&this.childWidget.isFocusable();},focus:function(){if(this.childWidget&&this.childWidget.focus){this.childWidget.focus();}}});});},"url:epi/shell/widget/templates/ListItem.html":"<li data-dojo-attach-point=\"containerNode\" tabindex=\"-1\"></li>","epi/shell/widget/FormContainer":function(){define(["dojo/_base/declare","dojo/_base/array","dojo/_base/lang","dojo/Deferred","dojo/_base/connect","dojo/dom-geometry","dojo/dom-style","dojo/aspect","dojo/when","dijit/layout/_LayoutWidget","dijit/_TemplatedMixin","dijit/_WidgetsInTemplateMixin","dijit/form/Form","epi/epi","epi/dependency","epi/string","epi/shell/widget/WidgetFactory","epi/shell/MetadataTransformer"],function(_125e,array,lang,_125f,_1260,_1261,_1262,_1263,when,_1264,_1265,_1266,Form,epi,_1267,_1268,_1269,_126a){return _125e([_1264,_1265,_1266],{templateString:"<div class=\"epi-formContainer\">                            <div data-dojo-type=\"dijit/form/Form\" class=\"epi-formArea\" data-dojo-attach-point=\"form\">                            </div>                         </div>",value:null,metadata:null,propertyFilter:null,defaultContainerWidget:"epi.shell.layout.SimpleContainer",readOnly:false,doLayout:true,_widgetMap:null,_uiSetUp:false,_aspectHandles:null,postMixInProperties:function(){this.inherited(arguments);this._widgetMap={};this._aspectHandles=[];},startup:function(){this.inherited(arguments);this._setupUI();},destroy:function(_126b){array.forEach(this._aspectHandles,function(item){item.remove();});this._aspectHandles=null;if(this.containerLayout){this.containerLayout.destroyRecursive(_126b);}this.inherited(arguments);},_getValueAttr:function(){return this.form.get("value");},_setValueAttr:function(value){if(this._formCreated){if(value){this.form.set("value",value);}else{this.form.reset();}}this._set("value",value);},onGroupCreated:function(_126c,_126d){},onChange:function(value){},onFieldCreated:function(_126e,_126f){},_onFormCreated:function(_1270){if(epi.isEmpty(this.get("value"))){this._onChange();}this.onFormCreated(_1270);},onFormCreated:function(_1271){},_setupUI:function(){var _1272=new _1269();var _1273=new _126a({propertyFilter:this.propertyFilter});when(this.metadata,lang.hitch(this,function(item){var _1274=item.layoutType||this.defaultContainerWidget;require([_1268.slashName(_1274)],lang.hitch(this,function(_1275){this.containerLayout=new _1275();this.containerLayout.placeAt(this.form.domNode);this._uiSetUp=false;var _1276=!this.value;var _1277=_1273.toComponentDefinitions(item,"",_1276,this.readOnly);var _1278=[],_1279=[];_1278.push(this.containerLayout);this.connect(_1272,"onWidgetCreated",function(_127a,_127b){var _127c=_1278[_1278.length-1];var _127d=_1279.length?_1279[_1279.length-1]:null;this._widgetMap[_127a.id]={parent:_127c,group:_127d};this.own(this.watch("readOnly",lang.hitch(this,function(name,_127e,value){_127a.set("readOnly",value);})));if(_127b.settings._type==="field"){_127a.set("editMode","createcontent");this.connect(_127a,"onChange","_onChange");this._aspectHandles.push(_1263.before(_127a,"focus",lang.hitch(this,function(){this._beforeSetFocus(_127a);})));this.onFieldCreated(_127b.settings.name,_127a);}else{if(_127b.settings._type==="group"){_1279.push(_127a);this.onGroupCreated(_127b.settings.name,_127a);}else{if(_127b.settings._type==="parent"){_1278.push(_127a);}}}});this.connect(_1272,"onWidgetHierarchyCreated",function(_127f,_1280){if(_1280.settings._type==="group"){_1279.pop();}else{if(_1280.settings._type==="parent"){_1278.pop();}}});when(_1272.createWidgets(this.containerLayout,_1277),lang.hitch(this,function(){this._formCreated=true;this.form.connectChildren();this.set("value",this.value||{});this.layout();this._uiSetUp=true;this._onFormCreated(this);_1272=null;_1278=null;_1279=null;}));this.own(this.form.watch("state",lang.hitch(this,function(name,_1281,value){this.set("state",value);})));}));}));},_onChange:function(){if(!this._uiSetUp){return;}var _1282=this.form.get("value");if(!epi.areEqual(this.value,_1282)){this.value=_1282;this.onChange(_1282);}},layout:function(){if(!this._started){return;}var child=this.containerLayout;if(child&&child.resize){var size=this._containerContentBox||this._contentBox;child.resize(this.doLayout&&size&&size.w&&size.h?size:null);}},validate:function(){return this._uiSetUp&&this.form.validate();},isValid:function(){return this.validate();},_beforeSetFocus:function(_1283){if(this._widgetMap[_1283.id]){var _1284=this._widgetMap[_1283.id].parent;var group=this._widgetMap[_1283.id].group;this._beforeSetFocus(_1284);if(_1284.selectChild){_1284.selectChild(group);}}}});});},"dijit/form/Form":function(){define("dijit/form/Form",["dojo/_base/declare","dojo/dom-attr","dojo/_base/event","dojo/_base/kernel","dojo/sniff","../_Widget","../_TemplatedMixin","./_FormMixin","../layout/_ContentPaneResizeMixin"],function(_1285,_1286,event,_1287,has,_1288,_1289,_128a,_128b){return _1285("dijit.form.Form",[_1288,_1289,_128a,_128b],{name:"",action:"",method:"",encType:"","accept-charset":"",accept:"",target:"",templateString:"<form data-dojo-attach-point='containerNode' data-dojo-attach-event='onreset:_onReset,onsubmit:_onSubmit' ${!nameAttrSetting}></form>",postMixInProperties:function(){this.nameAttrSetting=this.name?("name='"+this.name+"'"):"";this.inherited(arguments);},execute:function(){},onExecute:function(){},_setEncTypeAttr:function(value){this.encType=value;_1286.set(this.domNode,"encType",value);if(has("ie")){this.domNode.encoding=value;}},reset:function(e){var faux={returnValue:true,preventDefault:function(){this.returnValue=false;},stopPropagation:function(){},currentTarget:e?e.target:this.domNode,target:e?e.target:this.domNode};if(!(this.onReset(faux)===false)&&faux.returnValue){this.inherited(arguments,[]);}},onReset:function(){return true;},_onReset:function(e){this.reset(e);event.stop(e);return false;},_onSubmit:function(e){var fp=this.constructor.prototype;if(this.execute!=fp.execute||this.onExecute!=fp.onExecute){_1287.deprecated("dijit.form.Form:execute()/onExecute() are deprecated. Use onSubmit() instead.","","2.0");this.onExecute();this.execute(this.getValues());}if(this.onSubmit(e)===false){event.stop(e);}},onSubmit:function(){return this.isValid();},submit:function(){if(!(this.onSubmit()===false)){this.containerNode.submit();}}});});},"epi/shell/MetadataTransformer":function(){define("epi/shell/MetadataTransformer",["dojo/_base/array","dojo/_base/declare","dojo/_base/lang","dojo/store/Memory","epi/string","epi/shell/TypeDescriptorManager"],function(array,_128c,lang,_128d,_128e,_128f){return _128c(null,{defaultGroupType:"epi.shell.layout.GroupContainer",defaultSingleGroupType:"epi.shell.layout.SimpleContainer",defaultParentType:"epi.shell.layout.ParentContainer",defaultGroupName:"defaultGroup",defaultGroupTitle:"",propertyFilter:null,_item:null,constructor:function(args){lang.mixin(this,args);},toComponentDefinitions:function(item,_1290,_1291,_1292){this._item=item;var _1293=this._filterProperties(item);var _1294=this._getComponentDefinitions(_1293,item.groups,_1290,_1291,_1292);return _1294;},_filterProperties:function(_1295){var _1296=lang.isFunction(this.propertyFilter)?lang.hitch(this,function(prop){return this.propertyFilter(_1295,prop);}):function(){return true;},_1297=array.filter(_1295.properties,_1296);return _1297;},_getComponentDefinitions:function(_1298,_1299,_129a,_129b,_129c){var _129d=[],_129e=lang.clone(_1299)||[],_129f=lang.clone(_1298)||[],_12a0=function(item1,item2){return (item1.displayOrder||0)-(item2.displayOrder||0);};_129e.sort(_12a0);_129f.sort(_12a0);array.forEach(_129e,lang.hitch(this,function(group){var _12a1=this._createGroupContainer(group,_129c);_129d.push(_12a1);}));array.forEach(_129f,lang.hitch(this,function(_12a2){if(!_12a2.showForEdit){return;}var _12a3=_12a2.properties&&_12a2.properties.length?this._createParentContainer(_12a2,_129a,_129b,_129c):this._createPropertyWidget(_12a2,_129a,_129b,_129c);var _12a4=array.some(_129d,lang.hitch(this,function(_12a5){if(_12a5.settings.name===_128e.pascalToCamel(_12a2.groupName||this.defaultGroupName)){_12a5.components.push(_12a3);return true;}return false;}));if(!_12a4){var _12a6=this._createGroupContainer({name:this.defaultGroupName,title:this.defaultGroupTitle,displayUI:true},_129c);_12a6.components.push(_12a3);_129d=[_12a6].concat(_129d);}}));var _12a7=array.filter(_129d,function(item){return item.settings.displayui&&item.components&&item.components.length;});var _12a8=(_12a7.length>1)?this.defaultGroupType:this.defaultSingleGroupType;array.forEach(_12a7,lang.hitch(this,function(item){item.widgetType=item.widgetType||_12a8;}));return _12a7;},_createGroupContainer:function(group,_12a9){var _12aa={_type:"group",name:_128e.pascalToCamel(group.name),title:group.title,readOnly:_12a9,displayui:group.displayUI};return {settings:lang.mixin(_12aa,group.options),widgetType:group.uiType,components:[]};},_createParentContainer:function(_12ab,_12ac,_12ad,_12ae){var _12af={_type:"parent",name:_12ac+_128e.pascalToCamel(_12ab.name),title:_12ab.displayName};var _12b0=this._filterProperties(_12ab);return {settings:lang.mixin(_12af,_12ab.settings),widgetType:_12ab.layoutType||this.defaultParentType,components:this._getComponentDefinitions(_12b0,_12ab.groups,_12af.name+".",_12ad,_12ae)};},_createPropertyWidget:function(_12b1,_12b2,_12b3,_12b4){var _12b5=lang.mixin(_12b3?{value:_12b1.initialValue}:{},{_type:_12b1.hideSurroundingHtml?"hiddenfield":"field",name:_12b2+_128e.pascalToCamel(_12b1.name),label:_12b1.displayName,selections:_12b1.selections,displayui:_12b1.displayui,readOnly:_12b4},_12b1.settings);lang.mixin(_12b5,this._getTranslatedLabelAndTooltip(_12b1.name));return {settings:_12b5,widgetType:_12b1.uiType,widgetPackage:_12b1.uiPackage};},_getTranslatedLabelAndTooltip:function(_12b6){var _12b7={};if(!this._item.additionalValues||!this._item.additionalValues.modelTypeIdentifier){return _12b7;}var _12b8=_128f.getResourceValue(this._item.additionalValues.modelTypeIdentifier,"properties."+_12b6.toLowerCase());if(!_12b8){return _12b7;}if(_12b8.caption){_12b7.label=_12b8.caption;}if(_12b8.help){_12b7.tooltip=_12b8.help;}return _12b7;}});});},"epi/shell/widget/GadgetWrapper":function(){define(["epi","dojo","dijit","dijit/_Widget","dijit/_TemplatedMixin","dijit/_WidgetsInTemplateMixin","dojox/layout/ContentPane","epi/routes","epi/shell/Error","epi/clientResourcesLoader","dojo/NodeList-traverse","epi/i18n!epi/shell/ui/nls/EPiServer.Shell.UI.Resources.GadgetChrome","epi/i18n!epi/shell/nls/EPiServer.Shell.Resources.Texts"],function(epi,dojo,dijit,_12b9,_12ba,_12bb,_12bc,_12bd,Error,_12be,_12bf,_12c0,_12c1){epi.gadget=(function(){var pub={};pub.gadgetIdHash={};pub.getByElement=function(_12c2){_12c2=(_12c2.jquery?_12c2.context:_12c2);var _12c3=dojo.query(_12c2).closest("div.epi-gadgetInner");if(_12c3.length==1){var _12c4=dijit.byNode(_12c3[0]);return _12c4.getInstance();}else{return null;}};pub.getById=function(_12c5){var _12c6=pub.gadgetIdHash[_12c5];if(!_12c6){console.error("Gadget with ID "+_12c5+" is not found in the epi.gadget.gadgetIdHash");return null;}var _12c7=dijit.byId(_12c6);return _12c7.getInstance();};pub.loadView=function(_12c8,_12c9){pub.getByElement(_12c8).loadView(_12c9);};pub.visibilityChanged=function(_12ca,_12cb){pub.getByElement(_12ca).triggerVisibilityChanged();};pub.unload=function(_12cc){pub.getByElement(_12cc).triggerUnload();};return pub;})();return dojo.declare([_12b9,_12ba,_12bb],{res:dojo.mixin({},_12c1,_12c0),componentId:null,element:null,defaultRouteParams:null,routeData:null,templateString:"<div class=\"epi-gadgetInner\" data-dojo-attach-point=\"gadgetContainer\">                              <div class=\"epi-gadgetFeedback\" data-dojo-attach-point=\"gadgetFeedback\">&nbsp;</div>                              <div class=\"epi-gadgetContent\" ioArgs=\"{ preventCache: true }\" data-dojo-type=\"dojox/layout/ContentPane\" data-dojo-attach-point=\"gadgetContent\"></div>                          </div>",stylePaths:null,scriptPaths:null,constructor:function(){this.stylePaths=[];this.scriptPaths=[];},startup:function(){if(this._started){return;}this.inherited(arguments);if(!this.routeData){this.set("content","Missing route data");return;}this.defaultRouteParams={};for(var param in this.routeData){if(param[0]!="_"){this.defaultRouteParams[param]=this.routeData[param];}}var _12cd=epi.clientResourcesLoader.loadResources(this.stylePaths,this.scriptPaths);dojo.when(_12cd,dojo.hitch(this,function(){epi.gadget.gadgetIdHash[this.componentId]=this.id;var _12ce=this.getInstance();_12ce.routeParams=dojo.mixin(this.defaultRouteParams,{gadgetId:this.componentId});this.gadgetContent.set("id","gadget_"+_12ce.id);$(_12ce.element).bind("_epigadgetloadedinternal",dojo.hitch(this,this._onEpiGadgetLoaded));try{if(typeof this.initMethod=="string"){var _12cf=dojo.getObject(this.initMethod);$(_12ce.element).bind("epigadgetinit",_12cf);}}catch(ex){this.setErrorMessage(ex.message);}$(_12ce.element).trigger("epigadgetinit",_12ce);this.connect(this.gadgetContent,"onDownloadEnd",function(){$(_12ce.element).trigger("_epigadgetloadedinternal");});this.loadView(this.defaultRouteParams);}));},destroy:function(){delete epi.gadget.gadgetIdHash[this.componentId];this.inherited(arguments);},getInstance:function(){if(this.instance){return this.instance;}this.instance=this._gadgetInstance();return this.instance;},getId:function(){return this.componentId;},getActionPath:function(_12d0){return _12bd.getActionPath(this._mergeRouteParameters(_12d0),null);},_onEpiGadgetLoaded:function(){var _12d1=this.getInstance();$("form.epi-gadgetform",_12d1.element).validate({errorElement:"span"});$("form.epi-gadgetform",_12d1.element).bind("submit",_12d1,this._submitHandler);try{$(_12d1.element).trigger("epigadgetloaded",_12d1);}catch(err){this.setErrorMessage(this.res.gadgetinitfailed,{details:err.message,errorThrown:true});}},_mergeRouteParameters:function(_12d2){return dojo.mixin({},this.defaultRouteParams,_12d2);},_submitHandler:function(e){var _12d3=e.data;var _12d4=this;if($(_12d4).valid()){var _12d5=jQuery.Event("epigadgetsubmit");_12d5.target=_12d4;$(_12d4).trigger(_12d5,_12d3);if(!_12d5.isDefaultPrevented()){var _12d6=$(_12d4).serializeArray();_12d6.push({name:"gadgetId",value:_12d3.id});_12d3.ajax({url:_12d4.action,dataType:"html",data:_12d6,success:function(data){_12d3.routeParams={};_12d3.gadgetContent.set("content",data.toString());$(_12d3.element).trigger("_epigadgetloadedinternal");}});}}e.preventDefault();},loadView:function(_12d7){this.isVisible=true;var _12d8=this.getInstance();if(_12d7){_12d8.routeParams=_12d7;}else{_12d8.routeParams=this.defaultRouteParams;}var url=_12d8.getActionPath(_12d8.routeParams);this.gadgetContent.set("href",url);},getIsVisible:function(){return this.isVisible;},setErrorMessage:function(_12d9,_12da){_12da=dojo.mixin({details:"",status:0,errorThrown:false},_12da);var _12db=dojo.query(".epi-gadgetError",this.gadgetContainer);if(_12db.length===0){_12db=dojo.create("div",{"class":"epi-feedbackContent-error epi-feedbackContent epi-gadgetError"},this.gadgetContainer,"before");}Error.createErrorMessage(_12db,_12d9,_12da.details,_12da.status,true);dojo.style(_12db,"display","block");},clearErrorMessage:function(){var _12dc=dojo.query(".epi-gadgetError",this.gadgetContainer);dojo.style(_12dc,"display","none");},setFeedbackMessage:function(_12dd,_12de){_12de=dojo.mixin({ajaxLoader:false,feedbackMessage:_12dd,feedbackTitle:"",feedbackHideDelay:0,feedbackFadeOut:false},_12de);this.gadgetFeedback.innerHTML=_12de.feedbackMessage;dojo.style(this.gadgetFeedback,"display","block");if(_12de.ajaxLoader){dojo.addClass(this.gadgetFeedback,"epi-gadgetLoader");}if(_12de.feedbackHideDelay>0){var self=this;setTimeout(function(){self.clearFeedbackMessage(_12de);},_12de.feedbackHideDelay);}else{if(_12de.feedbackFadeOut){this.clearFeedbackMessage(_12de);}}},clearFeedbackMessage:function(_12df){dojo.removeClass(this.gadgetFeedback,"epi-gadgetLoader");if(_12df&&_12df.feedbackFadeOut&&dojo.style(this.gadgetFeedback,"display")=="block"){var _12e0={node:this.gadgetFeedback,duration:4000,onEnd:dojo.hitch(this,function(){dojo.style(this.gadgetFeedback,"display","none");dojo.style(this.gadgetFeedback,"opacity","1");})};dojo.fadeOut(_12e0).play();}else{dojo.style(this.gadgetFeedback,"display","none");}},triggerUnload:function(){$(this.getInstance().element).trigger("epigadgetunload",this.getInstance());},triggerVisibilityChanged:function(_12e1){this.isVisible=_12e1;$(this.getInstance().element).trigger("epigadgetvisibilitychanged",this.getInstance());},_gadgetInstance:function(){var _12e2=this;var pub={id:_12e2.componentId,element:_12e2.gadgetContainer,gadgetContent:_12e2.gadgetContent,routeParams:{}};pub.getActionPath=function(_12e3){return _12e2.getActionPath(_12e3);};pub.loadView=function(_12e4){_12e2.loadView(_12e4);};pub.isVisible=function(){return _12e2.getIsVisible();};pub.setErrorMessage=function(_12e5,_12e6){_12e2.setErrorMessage(_12e5,_12e6);};pub.clearErrorMessage=function(){_12e2.clearErrorMessage();};pub.setFeedbackMessage=function(_12e7,_12e8){_12e2.setFeedbackMessage(_12e7,_12e8);};pub.clearFeedbackMessage=function(){_12e2.clearFeedbackMessage();};pub.raiseErrorEvent=function(_12e9){this.error=_12e9;$(this.element).trigger("epigadgeterror",this);this.error=null;};pub.ajax=function(_12ea){var self=this;var _12eb={dataType:"json",feedbackMessage:"",cache:false,type:"POST",ajaxLoader:true,error:function(_12ec,_12ed,_12ee){self.clearFeedbackMessage();self.raiseErrorEvent({xmlHttpRequest:_12ec,status:_12ed,errorThrown:_12ee});self.setErrorMessage("<strong>"+_12e2.res.internalservererror+" ["+_12ec.status+"]</strong>.",{details:_12ec.responseText,status:_12ed,errorThrown:_12ee});},success:function(data){self.clearFeedbackMessage();}};var _12ef=$("input[name=__RequestVerificationToken]",this.element);if(_12ef.length>0){var _12f0={__RequestVerificationToken:_12ef.val()};if(_12ea.data){if(!_12ea.data.__RequestVerificationToken){_12ea.data=$.extend(_12ea.data,_12f0);}}else{_12ea.data=_12f0;}}if($.isFunction(_12ea.success)){var _12f1=_12ea.success;_12ea.success=function(data,_12f2){self.clearFeedbackMessage();_12f1.call(this,data,_12f2);};}if($.isFunction(_12ea.error)){var _12f3=_12ea.error;_12ea.error=function(_12f4,_12f5,_12f6){self.clearFeedbackMessage();_12f3.call(this,_12f4,_12f5,_12f6);};}_12eb=$.extend(_12eb,_12ea);self.setFeedbackMessage("",_12eb);$.ajax(_12eb);};return pub;}});});},"dojox/layout/ContentPane":function(){define("dojox/layout/ContentPane",["dojo/_base/lang","dojo/_base/xhr","dijit/layout/ContentPane","dojox/html/_base","dojo/_base/declare"],function(lang,_12f7,_12f8,_12f9,_12fa){return _12fa("dojox.layout.ContentPane",_12f8,{adjustPaths:false,cleanContent:false,renderStyles:false,executeScripts:true,scriptHasHooks:false,ioMethod:_12f7.get,ioArgs:{},onExecError:function(e){},_setContent:function(cont){var _12fb=this._contentSetter;if(!(_12fb&&_12fb instanceof _12f9._ContentSetter)){_12fb=this._contentSetter=new _12f9._ContentSetter({node:this.containerNode,_onError:lang.hitch(this,this._onError),onContentError:lang.hitch(this,function(e){var _12fc=this.onContentError(e);try{this.containerNode.innerHTML=_12fc;}catch(e){console.error("Fatal "+this.id+" could not change content due to "+e.message,e);}})});}this._contentSetterParams={adjustPaths:Boolean(this.adjustPaths&&(this.href||this.referencePath)),referencePath:this.href||this.referencePath,renderStyles:this.renderStyles,executeScripts:this.executeScripts,scriptHasHooks:this.scriptHasHooks,scriptHookReplacement:"dijit.byId('"+this.id+"')"};this.inherited("_setContent",arguments);}});});},"dojox/html/_base":function(){define("dojox/html/_base",["dojo/_base/declare","dojo/Deferred","dojo/dom-construct","dojo/html","dojo/_base/kernel","dojo/_base/lang","dojo/ready","dojo/_base/sniff","dojo/_base/url","dojo/_base/xhr","dojo/when","dojo/_base/window"],function(_12fd,_12fe,_12ff,_1300,_1301,lang,ready,has,_1302,_1303,when,_1304){var html=_1301.getObject("dojox.html",true);if(has("ie")){var _1305=/(AlphaImageLoader\([^)]*?src=(['"]))(?![a-z]+:|\/)([^\r\n;}]+?)(\2[^)]*\)\s*[;}]?)/g;}var _1306=/(?:(?:@import\s*(['"])(?![a-z]+:|\/)([^\r\n;{]+?)\1)|url\(\s*(['"]?)(?![a-z]+:|\/)([^\r\n;]+?)\3\s*\))([a-z, \s]*[;}]?)/g;var _1307=html._adjustCssPaths=function(_1308,_1309){if(!_1309||!_1308){return;}if(_1305){_1309=_1309.replace(_1305,function(_130a,pre,delim,url,post){return pre+(new _1302(_1308,"./"+url).toString())+post;});}return _1309.replace(_1306,function(_130b,_130c,_130d,_130e,_130f,media){if(_130d){return "@import \""+(new _1302(_1308,"./"+_130d).toString())+"\""+media;}else{return "url("+(new _1302(_1308,"./"+_130f).toString())+")"+media;}});};var _1310=/(<[a-z][a-z0-9]*\s[^>]*)(?:(href|src)=(['"]?)([^>]*?)\3|style=(['"]?)([^>]*?)\5)([^>]*>)/gi;var _1311=html._adjustHtmlPaths=function(_1312,cont){var url=_1312||"./";return cont.replace(_1310,function(tag,start,name,delim,_1313,_1314,_1315,end){return start+(name?(name+"="+delim+(new _1302(url,_1313).toString())+delim):("style="+_1314+_1307(url,_1315)+_1314))+end;});};var _1316=html._snarfStyles=function(_1317,cont,_1318){_1318.attributes=[];cont=cont.replace(/<[!][-][-](.|\s)*?[-][-]>/g,function(_1319){return _1319.replace(/<(\/?)style\b/ig,"&lt;$1Style").replace(/<(\/?)link\b/ig,"&lt;$1Link").replace(/@import "/ig,"@ import \"");});return cont.replace(/(?:<style([^>]*)>([\s\S]*?)<\/style>|<link\s+(?=[^>]*rel=['"]?stylesheet)([^>]*?href=(['"])([^>]*?)\4[^>\/]*)\/?>)/gi,function(_131a,_131b,_131c,_131d,delim,href){var i,attr=(_131b||_131d||"").replace(/^\s*([\s\S]*?)\s*$/i,"$1");if(_131c){i=_1318.push(_1317?_1307(_1317,_131c):_131c);}else{i=_1318.push("@import \""+href+"\";");attr=attr.replace(/\s*(?:rel|href)=(['"])?[^\s]*\1\s*/gi,"");}if(attr){attr=attr.split(/\s+/);var atObj={},tmp;for(var j=0,e=attr.length;j<e;j++){tmp=attr[j].split("=");atObj[tmp[0]]=tmp[1].replace(/^\s*['"]?([\s\S]*?)['"]?\s*$/,"$1");}_1318.attributes[i-1]=atObj;}return "";});};var _131e=html._snarfScripts=function(cont,byRef){byRef.code="";cont=cont.replace(/<[!][-][-](.|\s)*?[-][-]>/g,function(_131f){return _131f.replace(/<(\/?)script\b/ig,"&lt;$1Script");});function _1320(src){if(byRef.downloadRemote){src=src.replace(/&([a-z0-9#]+);/g,function(m,name){switch(name){case "amp":return "&";case "gt":return ">";case "lt":return "<";default:return name.charAt(0)=="#"?String.fromCharCode(name.substring(1)):"&"+name+";";}});_1303.get({url:src,sync:true,load:function(code){byRef.code+=code+";";},error:byRef.errBack});}};return cont.replace(/<script\s*(?![^>]*type=['"]?(?:dojo\/|text\/html\b))[^>]*?(?:src=(['"]?)([^>]*?)\1[^>]*)?>([\s\S]*?)<\/script>/gi,function(_1321,delim,src,code){if(src){_1320(src);}else{byRef.code+=code;}return "";});};var _1322=html.evalInGlobal=function(code,_1323){_1323=_1323||_1304.doc.body;var n=_1323.ownerDocument.createElement("script");n.type="text/javascript";_1323.appendChild(n);n.text=code;};html._ContentSetter=_12fd(_1300._ContentSetter,{adjustPaths:false,referencePath:".",renderStyles:false,executeScripts:false,scriptHasHooks:false,scriptHookReplacement:null,_renderStyles:function(_1324){this._styleNodes=[];var st,att,_1325,doc=this.node.ownerDocument;var head=doc.getElementsByTagName("head")[0];for(var i=0,e=_1324.length;i<e;i++){_1325=_1324[i];att=_1324.attributes[i];st=doc.createElement("style");st.setAttribute("type","text/css");for(var x in att){st.setAttribute(x,att[x]);}this._styleNodes.push(st);head.appendChild(st);if(st.styleSheet){st.styleSheet.cssText=_1325;}else{st.appendChild(doc.createTextNode(_1325));}}},empty:function(){this.inherited("empty",arguments);this._styles=[];},onBegin:function(){this.inherited("onBegin",arguments);var cont=this.content,node=this.node;var _1326=this._styles;if(lang.isString(cont)){if(this.adjustPaths&&this.referencePath){cont=_1311(this.referencePath,cont);}if(this.renderStyles||this.cleanContent){cont=_1316(this.referencePath,cont,_1326);}if(this.executeScripts){var _1327=this;var byRef={downloadRemote:true,errBack:function(e){_1327._onError.call(_1327,"Exec","Error downloading remote script in \""+_1327.id+"\"",e);}};cont=_131e(cont,byRef);this._code=byRef.code;}}this.content=cont;},onEnd:function(){var code=this._code,_1328=this._styles;if(this._styleNodes&&this._styleNodes.length){while(this._styleNodes.length){_12ff.destroy(this._styleNodes.pop());}}if(this.renderStyles&&_1328&&_1328.length){this._renderStyles(_1328);}var d=new _12fe();var _1329=this.getInherited(arguments),args=arguments,_132a=lang.hitch(this,function(){_1329.apply(this,args);when(this.parseDeferred,function(){d.resolve();});});if(this.executeScripts&&code){if(this.cleanContent){code=code.replace(/(<!--|(?:\/\/)?-->|<!\[CDATA\[|\]\]>)/g,"");}if(this.scriptHasHooks){code=code.replace(/_container_(?!\s*=[^=])/g,this.scriptHookReplacement);}try{_1322(code,this.node);}catch(e){this._onError("Exec","Error eval script in "+this.id+", "+e.message,e);}ready(_132a);}else{_132a();}return d.promise;},tearDown:function(){this.inherited(arguments);delete this._styles;if(this._styleNodes&&this._styleNodes.length){while(this._styleNodes.length){_12ff.destroy(this._styleNodes.pop());}}delete this._styleNodes;lang.mixin(this,html._ContentSetter.prototype);}});html.set=function(node,cont,_132b){if(!_132b){return _1300._setNodeContent(node,cont,true);}else{var op=new html._ContentSetter(lang.mixin(_132b,{content:cont,node:node}));return op.set();}};return html;});},"epi/shell/Error":function(){define("epi/shell/Error",["dojo","dijit/Dialog","epi/i18n!epi/shell/nls/episerver.shell.resources.texts"],function(dojo,_132c,res){return {openErrorDialog:function(_132d,_132e){var _132f=new _132c({title:res.error,style:"width: 600px",content:_132e});_132f.show();},createErrorMessage:function(_1330,_1331,_1332,_1333,_1334){if(_1331){if(!_1332){_1334=false;}if(_1334){_1331=_1331+" <br/><a href='#' class='epi-openErrorDialogButton'>"+res.errormoreinformationtext+"</a>";}_1330.innerHTML=_1331;dojo.query(".epi-openErrorDialogButton").connect("onclick",dojo.hitch(this,function(){this.openErrorDialog(_1330,_1332);}));}},showDialogWithElementContent:function(_1335){this.openErrorDialog(dojo.body(),_1335.innerHTML);}};});},"dojo/NodeList-traverse":function(){define("dojo/NodeList-traverse",["./query","./_base/lang","./_base/array"],function(_1336,lang,array){var _1337=_1336.NodeList;lang.extend(_1337,{_buildArrayFromCallback:function(_1338){var ary=[];for(var i=0;i<this.length;i++){var items=_1338.call(this[i],this[i],ary);if(items){ary=ary.concat(items);}}return ary;},_getUniqueAsNodeList:function(nodes){var ary=[];for(var i=0,node;node=nodes[i];i++){if(node.nodeType==1&&array.indexOf(ary,node)==-1){ary.push(node);}}return this._wrap(ary,null,this._NodeListCtor);},_getUniqueNodeListWithParent:function(nodes,query){var ary=this._getUniqueAsNodeList(nodes);ary=(query?_1336._filterResult(ary,query):ary);return ary._stash(this);},_getRelatedUniqueNodes:function(query,_1339){return this._getUniqueNodeListWithParent(this._buildArrayFromCallback(_1339),query);},children:function(query){return this._getRelatedUniqueNodes(query,function(node,ary){return lang._toArray(node.childNodes);});},closest:function(query,root){return this._getRelatedUniqueNodes(null,function(node,ary){do{if(_1336._filterResult([node],query,root).length){return node;}}while(node!=root&&(node=node.parentNode)&&node.nodeType==1);return null;});},parent:function(query){return this._getRelatedUniqueNodes(query,function(node,ary){return node.parentNode;});},parents:function(query){return this._getRelatedUniqueNodes(query,function(node,ary){var pary=[];while(node.parentNode){node=node.parentNode;pary.push(node);}return pary;});},siblings:function(query){return this._getRelatedUniqueNodes(query,function(node,ary){var pary=[];var nodes=(node.parentNode&&node.parentNode.childNodes);for(var i=0;i<nodes.length;i++){if(nodes[i]!=node){pary.push(nodes[i]);}}return pary;});},next:function(query){return this._getRelatedUniqueNodes(query,function(node,ary){var next=node.nextSibling;while(next&&next.nodeType!=1){next=next.nextSibling;}return next;});},nextAll:function(query){return this._getRelatedUniqueNodes(query,function(node,ary){var pary=[];var next=node;while((next=next.nextSibling)){if(next.nodeType==1){pary.push(next);}}return pary;});},prev:function(query){return this._getRelatedUniqueNodes(query,function(node,ary){var prev=node.previousSibling;while(prev&&prev.nodeType!=1){prev=prev.previousSibling;}return prev;});},prevAll:function(query){return this._getRelatedUniqueNodes(query,function(node,ary){var pary=[];var prev=node;while((prev=prev.previousSibling)){if(prev.nodeType==1){pary.push(prev);}}return pary;});},andSelf:function(){return this.concat(this._parent);},first:function(){return this._wrap(((this[0]&&[this[0]])||[]),this);},last:function(){return this._wrap((this.length?[this[this.length-1]]:[]),this);},even:function(){return this.filter(function(item,i){return i%2!=0;});},odd:function(){return this.filter(function(item,i){return i%2==0;});}});return _1337;});},"epi/shell/widget/GlobalMenu":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/_base/event","dojo/NodeList-traverse","dojo/dom-attr","dojo/dom-style","dojo/dom-class","dojo/dom-geometry","dojo/query","dojo/topic","dojo/text!./templates/GlobalMenu.html","dijit/focus","dijit/_Container","dijit/_TemplatedMixin","dijit/_Widget","epi/Url","epi/i18n!epi/shell/ui/nls/EPiServer.Shell.UI.Resources.GlobalMenu","dojo/has","dgrid/util/has-css3"],function(_133a,lang,event,_133b,_133c,_133d,_133e,_133f,query,topic,_1340,_1341,_1342,_1343,_1344,Url,_1345,has){return _133a([_1344,_1343,_1342],{res:_1345,templateString:_1340,_focusNode:null,_siteUrl:null,openClass:"epi-globalNavigation--open",hoverClass:"epi-globalNavigation--hover",shadowClass:"epi-globalNavigation--shadow",hiddenClass:"dijitHidden",postCreate:function(){this.inherited(arguments);this._focusNode=query(".epi-navigation-selected > a",this.containerNode)[0];this.connect(this,"onBlur",function(){this._toggleGlobalSearch(false);this._hideMenu();});this.connect(this.domNode,"onmouseenter",this._toggleHintOn);this.connect(this.domNode,"onmouseleave",this._toggleHintOff);this.connect(this.accordionNode,"onclick",this._showMenu);this.connect(this.expandCollapseContainer,"onclick",this._toggleMenu);this._hideMenu();topic.subscribe("/epi/shell/context/changed",lang.hitch(this,"_onContextChanged"));if(has("css-transitions")){this.connect(this.accordionNode,has("transitionend"),lang.hitch(this,function(){if(this._isOpen()){_1341.focus(this._focusNode);return;}if(_133e.contains(this.accordionNode,this.hoverClass)){return;}_133e.add(this.containerNode,this.hiddenClass);}));}},_getContentHeight:function(){return _133f.getContentBox(this.containerNode).h;},_toggleMenu:function(e){if(this._isOpen()){this._hideMenu();}else{this._showMenu();}event.stop(e);},_toggleHintOn:function(){if(this._isOpen()){return;}_133e.add(this.accordionNode,this.hoverClass);},_toggleHintOff:function(){if(this._isOpen()){return;}_133e.remove(this.accordionNode,this.hoverClass);},_showMenu:function(){_133e.remove(this.accordionNode,this.hoverClass);_133e.add(this.accordionNode,this.openClass);_133e.remove(this.containerNode,this.hiddenClass);_133d.set(this.accordionNode,"height",this._getContentHeight()+"px");_133e.add(this.domNode,this.shadowClass);},_hideMenu:function(){_133e.remove(this.accordionNode,this.hoverClass);_133e.remove(this.accordionNode,this.openClass);_133e.remove(this.domNode,this.shadowClass);_133d.set(this.accordionNode,"height","0px");},_isOpen:function(){return _133e.contains(this.accordionNode,this.openClass);},_getToViewModeElement:function(){var _1346=query(".epi-navigation-container-utils",this.element)[0];return query(".epi-navigation-global_sites.epi-navigation-currentSite.epi-navigation-iconic",_1346)[0];},_onContextChanged:function(ctx,_1347){var _1348=this._getToViewModeElement();if(!_1348){return;}var url=this._buildPublicUrl(ctx,_1348);var title=lang.replace(this.res.toviewmode,[url.toString()]);_133c.set(_1348,{href:url.path,title:title});},_buildPublicUrl:function(ctx,_1349){if(this._siteUrl===null){this._siteUrl=_1349.href;}var _134a=new Url(this._siteUrl);var _134b=window.location;var _134c={scheme:_134b.protocol,authority:_134b.host,path:ctx.publicUrl===""?_134a.path:ctx.publicUrl};var url=new Url(null,_134c,true);return url;},_toggleGlobalSearch:function(_134d){var _134e=query("#epi-searchContainer")[0];if(_134e){_133d.set(_134e,"display",_134d?"block":"none");}}});});},"url:epi/shell/widget/templates/GlobalMenu.html":"<div>\r\n    <div data-dojo-attach-point=\"accordionNode\" class=\"epi-navigation-accordioncontainer\">\r\n        <div data-dojo-attach-point=\"containerNode\" class=\"${hiddenClass}\" style=\"position:absolute; bottom:0; left:0; width:100%\"></div>\r\n    </div>\r\n    <div data-dojo-attach-point=\"expandCollapseContainer\" class=\"epi-navigation-expandcollapseContainer\">\r\n        <a data-dojo-attach-point=\"expandCollapseButton\" href=\"javascript:void(0)\" class=\"epi-navigation-expandcollapseBtn\"\r\n            tabindex=\"0\"><span class=\"epi-navigation-expandcollapseIcon\"></span></a>\r\n    </div>\r\n</div>\r\n","dgrid/util/has-css3":function(){define(["dojo/has","xstyle/css!../css/has-transforms3d.css"],function(has){var _134f=["ms","O","Moz","Webkit"];has.add("css-transitions",function(_1350,doc,_1351){var style=_1351.style,i;if(style.transitionProperty!==undefined){return true;}for(i=_134f.length;i--;){if(style[_134f[i]+"TransitionProperty"]!==undefined){return _134f[i];}}return false;});has.add("transitionend",function(){var tpfx=has("css-transitions");if(!tpfx){return false;}if(tpfx===true){return "transitionend";}return {ms:"MSTransitionEnd",O:"oTransitionEnd",Moz:"transitionend",Webkit:"webkitTransitionEnd"}[tpfx];});has.add("css-transforms",function(_1352,doc,_1353){var style=_1353.style,i;if(style.transformProperty!==undefined){return true;}for(i=_134f.length;i--;){if(style[_134f[i]+"Transform"]!==undefined){return _134f[i];}}return false;});has.add("css-transforms3d",function(_1354,doc,_1355){var left,_1356;_1355.className="has-csstransforms3d";document.body.appendChild(_1355);left=_1355.offsetLeft;if(left===9){return true;}else{if(left>9){_1356=_134f[left-10];return _1356||false;}}document.body.removeChild(_1355);_1355.className="";return false;});return has;});},"epi/shell/widget/HelpButton":function(){define(["dojo","dojo/i18n","epi/dependency","dijit/_Widget","dijit/_TemplatedMixin","dojo/text!./templates/HelpButton.htm"],function(dojo,i18n,_1357,_1358,_1359,_135a){return dojo.declare([_1358,_1359],{moduleName:null,webHelpAlias:null,helpUrl:null,templateString:_135a,commonRes:epi.resources,postMixInProperties:function(){if(this.helpUrl==null){var _135b=_1357.resolve("epi.ModuleManager");var _135c=_135b.getModule(this.moduleName);this.helpUrl=_135c.helpPath+"#"+this.webHelpAlias;}this.inherited(arguments);}});});},"url:epi/shell/widget/templates/HelpButton.htm":"<span><a target=\"_blank\" href=\"${helpUrl}\" title=\"${commonRes.action.help}\" onclick=\"window.open('${helpUrl}','_blank', 'scrollbars=yes, height=500, location=no, menubar=no, resizable=yes, toolbar=no, width=840');return false;\" class=\"epi-helpIcon\">&nbsp;</a></span>","epi/shell/widget/IframeWithOverlay":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/_base/array","dojo/has","dojo/number","dojo/aspect","dojo/dom-geometry","dojo/dom-style","dojo/dom-construct","dojo/dom-class","dijit/_TemplatedMixin","dijit/_WidgetsInTemplateMixin","./Iframe","./_AutoResizingIframeMixin","./_ScrollbarMeasurementMixin","./_DynamicStyleSheetIframeMixin","./overlay/OverlayContainer","epi/shell/layout/_LayoutWidget","epi/shell/widget/DelayableStandby","dojo/text!./templates/IframeWithOverlay.html"],function(_135d,lang,array,has,_135e,_135f,_1360,_1361,_1362,_1363,_1364,_1365,_1366,_1367,_1368,_1369,_136a,_136b,_136c,_136d){_135d("epi/local/AutoResizingIframe",[_1366,_1367,_1369]);return _135d([_136b,_1364,_1365,_1368],{templateString:_136d,autoResize:true,previewSize:null,devicePreviewClass:"",previewClass:"",standbySettings:{delayTime:3000,duration:350},postCreate:function(){this.inherited(arguments);this.overlay.set("target",this.iframe);this._setupStandby();this.connect(this.iframe,"onUnload",function(){this._standby.show();});this.connect(this.iframe,"onLoad",function(url){_1363.toggle(this.scroller,"epi-editorViewport-preview-external",!this.iframe.isInspectable());this._standby.hide();});},startup:function(){if(this._started){return;}this.inherited(arguments);this._setCenterViewport(this._availableViewport||this._contentBox||_1360.getContentBox(this.containerNode),true);},destroy:function(){this._standby.destroy();this._standby=null;this.inherited(arguments);},addChild:function(_136e,_136f){function show(){this.layout();array.forEach(_136e.getChildren(),function(_1370){_1370.connect(_1370,"onLayoutChanged",lang.hitch(this,function(){if(_136e.open){this.layout();}}));},this);};function hide(){this._resetScroll();_1361.set(this.scroller,{width:""});this._setCenterViewport(this._contentBox);};_136e.connect(_136e,"onAfterShow",lang.hitch(this,show));_136e.connect(_136e,"onAfterHide",lang.hitch(this,hide));this.connect(this,"onLayoutChanged",lang.hitch(this,function(){if(_136e.open){this.scrollIntoView(_136e.overlayItem);}else{lang.hitch(this,hide)();}}));this.inherited(arguments);},layout:function(force){if(!this._contentBox){this._pendingLayout=true;return;}this._layoutChildren(force);this.inherited(arguments);},_layoutChildren:function(force){if(force){this._resetScroll();}this._positionChildren();this._setCenterViewport(this._availableViewport,force);},_positionChildren:function(){var _1371=this.get("centerSize");this._availableViewport=lang.mixin({},this._contentBox);_1361.set(this.scroller,{width:""});var _1372=this.getScrollbars(this.scroller);array.forEach(this.getChildren(),function(child){if(child===this.iframe||child===this.overlay||child.open===false||child.visible===false){return;}var _1373;switch(child.region){case "leading":if(child.resize){child.resize({t:0,l:0,h:this._contentBox.h-_1372.x});}_1373=_1360.position(child.domNode);this._availableViewport.w-=_1373.w;this._availableViewport.l+=_1373.w;break;case "trailing":var _1374=lang.hitch(this,function(){if(child.resize){if(!child._computedStyle){child._computedStyle=_1361.getComputedStyle(child.domNode);}_1373=_1360.getMarginBox(child.domNode,child._computedStyle);child.resize({t:0,h:this._contentBox.h-_1372.x});_1361.set(child.domNode,{right:_1372.y+"px"});_1361.set(this.scroller,{width:(this._availableViewport.w-_1373.w)+"px"});this._availableViewport.w-=_1373.w+_1372.y;}});_1374();break;case "center":if(child.resize){child.resize(_1371);}break;default:break;}},this);},_setCenterViewport:function(_1375,_1376){var _1377=this.get("centerSize")||_1360.getContentBox(this.previewContainer),_1378,top,left;this.previewContainer._computedStyle=this.previewContainer._computedStyle||_1361.getComputedStyle(this.previewContainer);_1378=_1360.getPadBorderExtents(this.previewContainer,this.previewContainer._computedStyle);top=_1375.h>_1377.h?_135e.round((_1375.h-_1377.h)/2):0;left=_1375.w>_1377.w?_135e.round((_1375.w-_1377.w)/2):0;_1361.set(this.previewContainer,{top:top-_1378.t+"px",left:left-_1378.l+"px",width:_1377.w+"px",height:_1377.h+"px"});this.iframe.resize(_1377,!!_1376);this.emit("viewportresized");},onViewportPullDown:function(){this.emit("viewportpulldown");},scrollIntoView:function(_1379){var _137a,_137b,_137c,_137d=16;if(this.iframe.isLoading||!this._contentBox){return;}this._layoutChildren();if((!this.autoResize&&this.previewSize.w<this._availableViewport.w)){return;}_137a=_1379.get("position");_137b=_137a.x+_137a.w+_137d-this.scroller.scrollLeft-this._availableViewport.w;_137c=this.previewContainer.clientWidth+_137b;_1361.set(this.scrollSizer,{width:_137c+"px"});this.previewContainer.scrollLeft=_137b;this._positionChildren(this.get("centerSize"));},_resetScroll:function(){_1361.set(this.scrollSizer,{width:"1px"});},_setupStandby:function(){var _137e=lang.mixin(this.standbySettings,{target:this.scroller});this._standby=new _136c(_137e).placeAt(this.domNode,"last");this._standby.startup();},_getCenterSizeAttr:function(){return this.previewSize||this._contentBox;},_setPreviewSizeAttr:function(size){this.autoResize=!size;this.previewSize=size;_1363.toggle(this.scroller,"epi-editorViewport-preview",!this.autoResize);this.layout();},_setDevicePreviewClassAttr:function(value){if(value){_1363.replace(this.scroller,value,this.devicePreviewClass);}else{_1363.remove(this.scroller,this.devicePreviewClass);}this._set("devicePreviewClass",value);},_setPreviewClassAttr:function(value){if(value){_1363.replace(this.scroller,value,this.previewClass);}else{_1363.remove(this.scroller,this.previewClass);}this._set("previewClass",value);},showDelay:function(delay){this._standby.show(delay);},hideDelay:function(delay){this._standby.hide();}});});},"epi/shell/widget/_AutoResizingIframeMixin":function(){define(["dojo/_base/declare","dojo/_base/Deferred","dojo/dom-attr","dojo/dom-style","dojo/has","epi/shell/postMessage","epi/shell/widget/_ScrollbarMeasurementMixin"],function(_137f,_1380,_1381,_1382,has,_1383,_1384){return _137f([_1384],{onAfterResize:function(size){},postCreate:function(){var self=this;this.inherited(arguments);this.own(_1383.subscribe("/site/resize",function(_1385){self.contentChange();}));},onUnload:function(){this.inherited(arguments);if(this._contentBox){_1382.set(this.iframe,{width:this._contentBox.w+"px",height:this._contentBox.h+"px"});}},contentChange:function(){if(this._contentBox){this.resize(this._contentBox,true);}},resize:function(size,force){var self=this,def=this._resize(size,force);def.then(function(_1386){self.onAfterResize(_1386);});return def;},_resize:function(size,force){var _1387=this._contentBox||{h:0,w:0},self=this,_1388=new _1380(),_1389=new _1380(),_138a;function _138b(_138c,_138d){if(self.resizeThrottle){clearTimeout(self.resizeThrottle);self.resizeThrottle=null;}self.resizeThrottle=setTimeout(function(){_1382.set(self.iframe,{width:(_138c.w-_138d)+"px",height:_138c.h+"px"});_1388.resolve();},50);return _1388;};if(force||(size&&(size.h!==_1387.h||size.w!==_1387.w))){this._contentBox=size;_138a=!this.isInspectable()||has("chrome")?0:this.getScrollbarSize().x;_138b(size,_138a).then(function(){var _138e={h:0,w:0};if(self.isInspectable()){_138e=self._setToDocumentSize(size,_138a);}_1389.resolve(_138e);});}return _1389;},_setToDocumentSize:function(_138f,_1390){var _1391;this.setOverflow("visible");_1391=this._calculateActualSize();_1391.w+=_1390;if(has("ie")<=10){this._removeScrollbars(_1391,_138f);}if(_1391.w>0&&_1391.h>0){_1382.set(this.iframe,{width:_1391.w+"px",height:_1391.h+"px"});}this.setOverflow("hidden");_1381.set(this.iframe,"data-epi-ipad-ping","pong");return _1391;},setOverflow:function(_1392){var doc=this.getDocument();if(doc&&doc.documentElement&&doc.body){_1382.set(doc.documentElement,{overflow:_1392});_1382.set(doc.body,{overflow:_1392});}},_removeScrollbars:function(_1393,_1394){var _1395=this.getScrollbarSize(),_1396=_1393.h>_1394.h,_1397=_1393.w>_1394.w;if(_1396&&!_1397){_1393.w-=_1395.y;}if(_1397&&!_1396){_1393.h-=_1395.x;}return _1393;}});});},"epi/shell/widget/_ScrollbarMeasurementMixin":function(){define(["dojo/_base/declare","dojo/_base/window","dojo/dom-construct","dojo/dom-style"],function(_1398,win,_1399,_139a){var mixin=_1398([],{getScrollbars:function(node){var _139b=this.getScrollbarSize(),root=node.documentElement||node,_139c;function _139d(size,sb){if(root){return {y:root.scrollHeight>root.clientHeight?size.y:sb.y,x:root.scrollWidth>root.clientWidth?size.x:sb.x};}return {x:0,y:0};};function _139e(size){var _139f={x:0,y:0};if(root){_139a.get(root,"overflow-y")==="scroll"?_139f.y=size.y:_139f.y=0;_139a.get(root,"overflow-x")==="scroll"?_139f.x=size.x:_139f.x=0;_139a.get(root,"overflow")==="scroll"?_139f={x:size.x,y:size.y,permanent:true}:_139f.permanent=false;}return _139f;};if(root){_139c=_139e(_139b);return _139c.permanent?_139c:_139d(_139b,_139c);}return {x:0,y:0};},getScrollbarSize:function(){function _13a0(){var _13a1;try{var _13a2=_1399.create("div",{style:{overflow:"scroll",position:"absolute",top:"-200px",left:"-200px",width:"100px",height:"100px"}},win.body());_13a1={x:_13a2.offsetWidth-_13a2.clientWidth,y:_13a2.offsetHeight-_13a2.clientHeight};_1399.destroy(_13a2);}catch(ex){_13a1={x:16,y:16};}return _13a1;};return mixin._scrollbarSize=mixin._scrollbarSize||_13a0();}});return mixin;});},"epi/shell/widget/_DynamicStyleSheetIframeMixin":function(){define(["dojo/_base/declare","epi/shell/DynamicStyleSheet"],function(_13a3,_13a4){return _13a3(null,{cssRules:null,postMixInProperties:function(){this.inherited(arguments);this.cssRules=[];},postCreate:function(){this.inherited(arguments);this.watch("isLoading",this._isLoadingHandler);this._setup();},destroy:function(){this.inherited(arguments);if(this._css){this._css.destroy();}},addCssRules:function(rules){var _13a5=rules instanceof Array;_13a5?this.cssRules=this.cssRules.concat(rules):this.cssRules.push(rules);if(this._css){_13a5?this._css.addRules(rules):this._css.addRule(rules);}},_isLoadingHandler:function(name,_13a6,_13a7){if(_13a7){if(this._css){this._css.destroy();}}else{this._setup();}},_setup:function(){if(this.isInspectable()){this._css=new _13a4({doc:this.getDocument(),rules:this.cssRules});}}});});},"epi/shell/DynamicStyleSheet":function(){define("epi/shell/DynamicStyleSheet",["dojo/_base/array","dojo/_base/declare","dojo/dom-construct"],function(array,_13a8,_13a9){return _13a8(null,{doc:null,_styleSheet:null,_ruleIndexes:null,_addedRules:null,constructor:function(_13aa){if(!_13aa||!_13aa["doc"]){throw new Error("No doc parameter specified");}this._doc=_13aa["doc"];this._addedRules=[];this._ruleIndexes=[];var rules=_13aa["rules"];if(rules&&rules.length>0){this.addRules(rules);}},destroy:function(){delete this._styleSheet;delete this._doc;},addRules:function(rules){var _13ab=[];array.forEach(rules,function(rule){_13ab.push(this.addRule(rule.selector,rule.css));},this);return _13ab;},addRule:function(_13ac,css){var self,_13ad=this._getStyleSheet();function _13ae(_13af){var _13b0=self._ruleIndexes[_13af],_13b1=self._ruleIndexes.length;if(_13b0===undefined){return;}_13ad.deleteRule?_13ad.deleteRule(_13b0):_13ad.removeRule(_13b0);self._ruleIndexes[_13af]=undefined;for(var i=_13af;i<_13b1;i++){if(self._ruleIndexes[i]>_13b0){self._ruleIndexes[i]--;}}_13ad=null;};var index=this._ruleIndexes.length;if(_13ad){this._ruleIndexes[index]=(_13ad.cssRules||_13ad.rules).length;_13ad.addRule?_13ad.addRule(_13ac,css):_13ad.insertRule(_13ac+"{"+css+"}",this._ruleIndexes[index]);}return {remove:function(){_13ae(index);}};},_getStyleSheet:function(){if(this._styleSheet){return this._styleSheet;}var _13b2=_13a9.create("style",{type:"text/css"},this._doc.getElementsByTagName("head")[0]);return this._styleSheet=_13b2.sheet||_13b2.styleSheet;}});});},"epi/shell/widget/overlay/OverlayContainer":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/_base/Deferred","dojo/_base/lang","dojo/dom-style","dijit/_Container","dijit/_WidgetBase","dijit/_TemplatedMixin","epi/shell/postMessage"],function(array,_13b3,_13b4,lang,_13b5,_13b6,_13b7,_13b8,_13b9){return _13b3([_13b7,_13b6,_13b8],{updateInterval:250,enabled:false,target:null,targetCoverEnabled:false,templateString:"<div data-dojo-attach-point=\"containerNode\" class=\"epi-overlay-container\"><div data-dojo-attach-point=\"targetCover\" class=\"epi-overlay-targetCover\"></div></div>",_childConnects:null,postMixInProperties:function(){this.inherited(arguments);this._childConnects={};},startup:function(){if(this._started){return;}this.inherited(arguments);this._toggleTargetCover(this.enabled);this.subscribe("/dnd/start",function(){this.set("targetCoverEnabled",true);});this.subscribe("/dnd/cancel",function(){this.set("targetCoverEnabled",false);});this.subscribe("/dnd/drop",function(){this.set("targetCoverEnabled",false);});this.connect(this.target,"onUnload",this.disconnectOverlayItems);this.connect(this.target,"onAfterResize",this._onAfterResizeHandler);},addChild:function(_13ba,_13bb){this.inherited(arguments);_13ba.set("parent",this);_13ba.resize();var _13bc=[];if(_13ba.onResize){_13bc.push(this.connect(_13ba,"onResize",this._onContentChange));}this._childConnects[_13ba.id]=_13bc;},removeChild:function(_13bd){this.inherited(arguments);var _13be=this._childConnects[_13bd.id];this._childConnects[_13bd.id]=null;delete this._childConnects[_13bd.id];array.forEach(_13be,function(_13bf){_13bf.remove();});},disconnectOverlayItems:function(){this.set("enabled",false);array.forEach(this.getChildren(),lang.hitch(this,function(_13c0){_13c0.set("sourceItemNode",null);}));},_setReadOnlyAttr:function(_13c1){this._set("readOnly",_13c1);array.forEach(this.getChildren(),lang.hitch(this,function(_13c2){_13c2.set("readOnly",_13c1);}));},_onAfterResizeHandler:function(_13c3){this.set("documentSize",_13c3);this._updateOverlayItems(true);},_onContentChange:function(){this.target.contentChange();},_updateOverlayItems:function(_13c4){if(!this.get("enabled")||this.isUpdating||!this.target.isInspectable()){return;}var _13c5=4;var _13c6=1;var dirty;var _13c7;this.isUpdating=true;do{dirty=false;array.forEach(this.getChildren(),function(_13c8){var _13c9=_13c8.get("position");_13c7=_13c9.isChanged||_13c7;if(_13c9.isChanged){dirty=_13c8.updatePosition(_13c9)||dirty;}},this);}while(dirty&&_13c6++<_13c5);this.isUpdating=false;if(_13c6>=2||!_13c4&&_13c7){this.target.contentChange();}},_toggleTargetCover:function(_13ca){var _13cb=this.get("documentSize");if(_13ca&&_13cb){_13b5.set(this.targetCover,{width:(_13cb.w)+"px",height:(_13cb.h)+"px"});}_13b5.set(this.targetCover,{display:_13ca?"block":"none"});},_togglePoller:function(_13cc){var self=this;function _13cd(){self._updateOverlayItems();_13b9.publish("/site/checksize",{});if(self.updateInterval>0){self._pollerToken=setTimeout(_13cd,self.updateInterval);}};if(self._pollerToken){clearTimeout(self._pollerToken);}if(_13cc){_13cd();}},_setUpdateIntervalAttr:function(_13ce){this._set("updateInterval",_13ce);this._togglePoller(_13ce>0);},_setEnabledAttr:function(value){this._set("enabled",value);if(value){this._updateOverlayItems();}array.forEach(this.getChildren(),function(w){w.set("disabled",!value);},this);this._togglePoller(value);_13b5.set(this.domNode,{display:value?"":"none"});},_setTargetCoverEnabledAttr:function(value){if(this.targetCoverEnabled===value){return;}this._toggleTargetCover(value);this._set("targetCoverEnabled",value);}});});},"epi/shell/layout/_LayoutWidget":function(){define(["dojo/_base/declare","dijit/layout/_LayoutWidget"],function(_13cf,_13d0){return _13cf([_13d0],{onLayoutChanged:function(){},layout:function(){this.inherited(arguments);this.onLayoutChanged();}});});},"epi/shell/widget/DelayableStandby":function(){define(["dojo/_base/declare","dojo/_base/lang","dojox/widget/Standby"],function(_13d1,lang,_13d2){return _13d1([_13d2],{delayTime:300,showTimeOut:30000,color:"#FFFFFF",_timeoutId:-1,_isShowing:false,show:function(_13d3,_13d4){var _13d5=arguments;this._clearTimeout();this._isShowing=true;if(typeof _13d3!==undefined&&_13d3===0){this.inherited(_13d5);}else{this._timeoutId=setTimeout(lang.hitch(this,function(){var _13d6=_13d4||this.showTimeOut;if(_13d6>=0){this._timeoutId=setTimeout(lang.hitch(this,function(){this.hide();}),_13d6);}this.inherited(_13d5);}),_13d3||this.delayTime);}},hide:function(){this._isShowing=false;this._clearTimeout();this.inherited(arguments);},_clearTimeout:function(){if(this._timeoutId>=0){clearTimeout(this._timeoutId);}},_getIsShowingAttr:function(){return this._isShowing;}});});},"dojox/widget/Standby":function(){define("dojox/widget/Standby",["dojo/_base/kernel","dojo/_base/declare","dojo/_base/array","dojo/_base/event","dojo/_base/sniff","dojo/dom","dojo/dom-attr","dojo/dom-construct","dojo/dom-geometry","dojo/dom-style","dojo/window","dojo/_base/window","dojo/_base/fx","dojo/fx","dijit/_Widget","dijit/_TemplatedMixin","dijit/registry"],function(_13d7,_13d8,array,event,has,dom,attr,_13d9,_13da,_13db,_13dc,_13dd,_13de,fx,_13df,_13e0,_13e1){_13d7.experimental("dojox.widget.Standby");return _13d8("dojox.widget.Standby",[_13df,_13e0],{image:require.toUrl("dojox/widget/Standby/images/loading.gif").toString(),imageText:"Please Wait...",text:"Please wait...",centerIndicator:"image",target:"",color:"#C0C0C0",duration:500,zIndex:"auto",opacity:0.75,templateString:"<div>"+"<div style=\"display: none; opacity: 0; z-index: 9999; "+"position: absolute; cursor:wait;\" dojoAttachPoint=\"_underlayNode\"></div>"+"<img src=\"${image}\" style=\"opacity: 0; display: none; z-index: -10000; "+"position: absolute; top: 0px; left: 0px; cursor:wait;\" "+"dojoAttachPoint=\"_imageNode\">"+"<div style=\"opacity: 0; display: none; z-index: -10000; position: absolute; "+"top: 0px;\" dojoAttachPoint=\"_textNode\"></div>"+"</div>",_underlayNode:null,_imageNode:null,_textNode:null,_centerNode:null,_displayed:false,_resizeCheck:null,_started:false,_parent:null,startup:function(args){if(!this._started){if(typeof this.target==="string"){var w=_13e1.byId(this.target);this.target=w?w.domNode:dom.byId(this.target);}if(this.text){this._textNode.innerHTML=this.text;}if(this.centerIndicator==="image"){this._centerNode=this._imageNode;attr.set(this._imageNode,"src",this.image);attr.set(this._imageNode,"alt",this.imageText);}else{this._centerNode=this._textNode;}_13db.set(this._underlayNode,{display:"none",backgroundColor:this.color});_13db.set(this._centerNode,"display","none");this.connect(this._underlayNode,"onclick","_ignore");if(this.domNode.parentNode&&this.domNode.parentNode!=_13dd.body()){_13dd.body().appendChild(this.domNode);}if(has("ie")==7){this._ieFixNode=_13d9.create("div");_13db.set(this._ieFixNode,{opacity:"0",zIndex:"-1000",position:"absolute",top:"-1000px"});_13dd.body().appendChild(this._ieFixNode);}this.inherited(arguments);}},show:function(){if(!this._displayed){if(this._anim){this._anim.stop();delete this._anim;}this._displayed=true;this._size();this._disableOverflow();this._fadeIn();}},hide:function(){if(this._displayed){if(this._anim){this._anim.stop();delete this._anim;}this._size();this._fadeOut();this._displayed=false;if(this._resizeCheck!==null){clearInterval(this._resizeCheck);this._resizeCheck=null;}}},isVisible:function(){return this._displayed;},onShow:function(){},onHide:function(){},uninitialize:function(){this._displayed=false;if(this._resizeCheck){clearInterval(this._resizeCheck);}_13db.set(this._centerNode,"display","none");_13db.set(this._underlayNode,"display","none");if(has("ie")==7&&this._ieFixNode){_13dd.body().removeChild(this._ieFixNode);delete this._ieFixNode;}if(this._anim){this._anim.stop();delete this._anim;}this.target=null;this._imageNode=null;this._textNode=null;this._centerNode=null;this.inherited(arguments);},_size:function(){if(this._displayed){var dir=attr.get(_13dd.body(),"dir");if(dir){dir=dir.toLowerCase();}var _13e2;var _13e3=this._scrollerWidths();var _13e4=this.target;var _13e5=_13db.get(this._centerNode,"display");_13db.set(this._centerNode,"display","block");var box=_13da.position(_13e4,true);if(_13e4===_13dd.body()||_13e4===_13dd.doc){box=_13dc.getBox();box.x=box.l;box.y=box.t;}var _13e6=_13da.getMarginBox(this._centerNode);_13db.set(this._centerNode,"display",_13e5);if(this._ieFixNode){_13e2=-this._ieFixNode.offsetTop/1000;box.x=Math.floor((box.x+0.9)/_13e2);box.y=Math.floor((box.y+0.9)/_13e2);box.w=Math.floor((box.w+0.9)/_13e2);box.h=Math.floor((box.h+0.9)/_13e2);}var zi=_13db.get(_13e4,"zIndex");var ziUl=zi;var ziIn=zi;if(this.zIndex==="auto"){if(zi!="auto"){ziUl=parseInt(ziUl,10)+1;ziIn=parseInt(ziIn,10)+2;}else{var cNode=_13e4.parentNode;var oldZi=-100000;while(cNode&&cNode!==_13dd.body()){zi=_13db.get(cNode,"zIndex");if(!zi||zi==="auto"){cNode=cNode.parentNode;}else{var newZi=parseInt(zi,10);if(oldZi<newZi){oldZi=newZi;ziUl=newZi+1;ziIn=newZi+2;}cNode=cNode.parentNode;}}}}else{ziUl=parseInt(this.zIndex,10)+1;ziIn=parseInt(this.zIndex,10)+2;}_13db.set(this._centerNode,"zIndex",ziIn);_13db.set(this._underlayNode,"zIndex",ziUl);var pn=_13e4.parentNode;if(pn&&pn!==_13dd.body()&&_13e4!==_13dd.body()&&_13e4!==_13dd.doc){var obh=box.h;var obw=box.w;var pnBox=_13da.position(pn,true);if(this._ieFixNode){_13e2=-this._ieFixNode.offsetTop/1000;pnBox.x=Math.floor((pnBox.x+0.9)/_13e2);pnBox.y=Math.floor((pnBox.y+0.9)/_13e2);pnBox.w=Math.floor((pnBox.w+0.9)/_13e2);pnBox.h=Math.floor((pnBox.h+0.9)/_13e2);}pnBox.w-=pn.scrollHeight>pn.clientHeight&&pn.clientHeight>0?_13e3.v:0;pnBox.h-=pn.scrollWidth>pn.clientWidth&&pn.clientWidth>0?_13e3.h:0;if(dir==="rtl"){if(has("opera")){box.x+=pn.scrollHeight>pn.clientHeight&&pn.clientHeight>0?_13e3.v:0;pnBox.x+=pn.scrollHeight>pn.clientHeight&&pn.clientHeight>0?_13e3.v:0;}else{if(has("ie")){pnBox.x+=pn.scrollHeight>pn.clientHeight&&pn.clientHeight>0?_13e3.v:0;}else{if(has("webkit")){}}}}if(pnBox.w<box.w){box.w=box.w-pnBox.w;}if(pnBox.h<box.h){box.h=box.h-pnBox.h;}var vpTop=pnBox.y;var _13e7=pnBox.y+pnBox.h;var bTop=box.y;var _13e8=box.y+obh;var _13e9=pnBox.x;var _13ea=pnBox.x+pnBox.w;var bLeft=box.x;var _13eb=box.x+obw;var delta;if(_13e8>vpTop&&bTop<vpTop){box.y=pnBox.y;delta=vpTop-bTop;var _13ec=obh-delta;if(_13ec<pnBox.h){box.h=_13ec;}else{box.h-=2*(pn.scrollWidth>pn.clientWidth&&pn.clientWidth>0?_13e3.h:0);}}else{if(bTop<_13e7&&_13e8>_13e7){box.h=_13e7-bTop;}else{if(_13e8<=vpTop||bTop>=_13e7){box.h=0;}}}if(_13eb>_13e9&&bLeft<_13e9){box.x=pnBox.x;delta=_13e9-bLeft;var _13ed=obw-delta;if(_13ed<pnBox.w){box.w=_13ed;}else{box.w-=2*(pn.scrollHeight>pn.clientHeight&&pn.clientHeight>0?_13e3.w:0);}}else{if(bLeft<_13ea&&_13eb>_13ea){box.w=_13ea-bLeft;}else{if(_13eb<=_13e9||bLeft>=_13ea){box.w=0;}}}}if(box.h>0&&box.w>0){_13db.set(this._underlayNode,{display:"block",width:box.w+"px",height:box.h+"px",top:box.y+"px",left:box.x+"px"});var _13ee=["borderRadius","borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"];this._cloneStyles(_13ee);if(!has("ie")){_13ee=["MozBorderRadius","MozBorderRadiusTopleft","MozBorderRadiusTopright","MozBorderRadiusBottomleft","MozBorderRadiusBottomright","WebkitBorderRadius","WebkitBorderTopLeftRadius","WebkitBorderTopRightRadius","WebkitBorderBottomLeftRadius","WebkitBorderBottomRightRadius"];this._cloneStyles(_13ee,this);}var _13ef=(box.h/2)-(_13e6.h/2);var _13f0=(box.w/2)-(_13e6.w/2);if(box.h>=_13e6.h&&box.w>=_13e6.w){_13db.set(this._centerNode,{top:(_13ef+box.y)+"px",left:(_13f0+box.x)+"px",display:"block"});}else{_13db.set(this._centerNode,"display","none");}}else{_13db.set(this._underlayNode,"display","none");_13db.set(this._centerNode,"display","none");}if(this._resizeCheck===null){var self=this;this._resizeCheck=setInterval(function(){self._size();},100);}}},_cloneStyles:function(list){array.forEach(list,function(s){_13db.set(this._underlayNode,s,_13db.get(this.target,s));},this);},_fadeIn:function(){var self=this;var _13f1=_13de.animateProperty({duration:self.duration,node:self._underlayNode,properties:{opacity:{start:0,end:self.opacity}}});var _13f2=_13de.animateProperty({duration:self.duration,node:self._centerNode,properties:{opacity:{start:0,end:1}},onEnd:function(){self.onShow();delete self._anim;}});this._anim=fx.combine([_13f1,_13f2]);this._anim.play();},_fadeOut:function(){var self=this;var _13f3=_13de.animateProperty({duration:self.duration,node:self._underlayNode,properties:{opacity:{start:self.opacity,end:0}},onEnd:function(){_13db.set(this.node,{"display":"none","zIndex":"-1000"});}});var _13f4=_13de.animateProperty({duration:self.duration,node:self._centerNode,properties:{opacity:{start:1,end:0}},onEnd:function(){_13db.set(this.node,{"display":"none","zIndex":"-1000"});self.onHide();self._enableOverflow();delete self._anim;}});this._anim=fx.combine([_13f3,_13f4]);this._anim.play();},_ignore:function(e){if(e){event.stop(e);}},_scrollerWidths:function(){var div=_13d9.create("div");_13db.set(div,{position:"absolute",opacity:0,overflow:"hidden",width:"50px",height:"50px",zIndex:"-100",top:"-200px",padding:"0px",margin:"0px"});var iDiv=_13d9.create("div");_13db.set(iDiv,{width:"200px",height:"10px"});div.appendChild(iDiv);_13dd.body().appendChild(div);var b=_13da.getContentBox(div);_13db.set(div,"overflow","scroll");var a=_13da.getContentBox(div);_13dd.body().removeChild(div);return {v:b.w-a.w,h:b.h-a.h};},_setTextAttr:function(text){this._textNode.innerHTML=text;this.text=text;},_setColorAttr:function(c){_13db.set(this._underlayNode,"backgroundColor",c);this.color=c;},_setImageTextAttr:function(text){attr.set(this._imageNode,"alt",text);this.imageText=text;},_setImageAttr:function(url){attr.set(this._imageNode,"src",url);this.image=url;},_setCenterIndicatorAttr:function(_13f5){this.centerIndicator=_13f5;if(_13f5==="image"){this._centerNode=this._imageNode;_13db.set(this._textNode,"display","none");}else{this._centerNode=this._textNode;_13db.set(this._imageNode,"display","none");}},_disableOverflow:function(){if(this.target===_13dd.body()||this.target===_13dd.doc){this._overflowDisabled=true;var body=_13dd.body();if(body.style&&body.style.overflow){this._oldOverflow=_13db.get(body,"overflow");}else{this._oldOverflow="";}if(has("ie")&&!has("quirks")){if(body.parentNode&&body.parentNode.style&&body.parentNode.style.overflow){this._oldBodyParentOverflow=body.parentNode.style.overflow;}else{try{this._oldBodyParentOverflow=_13db.get(body.parentNode,"overflow");}catch(e){this._oldBodyParentOverflow="scroll";}}_13db.set(body.parentNode,"overflow","hidden");}_13db.set(body,"overflow","hidden");}},_enableOverflow:function(){if(this._overflowDisabled){delete this._overflowDisabled;var body=_13dd.body();if(has("ie")&&!has("quirks")){body.parentNode.style.overflow=this._oldBodyParentOverflow;delete this._oldBodyParentOverflow;}_13db.set(body,"overflow",this._oldOverflow);if(has("webkit")){var div=_13d9.create("div",{style:{height:"2px"}});body.appendChild(div);setTimeout(function(){body.removeChild(div);},0);}delete this._oldOverflow;}}});});},"url:epi/shell/widget/templates/IframeWithOverlay.html":"<div data-dojo-attach-point=\"containerNode\" class=\"epi-editorViewport\">\r\n    <div data-dojo-attach-point=\"scroller\" class=\"epi-editorViewport-center\">\r\n        <div data-dojo-attach-point=\"previewContainer\" class=\"epi-editorViewport-previewBox\"  data-dojo-props=\"region: 'center'\">\r\n            <iframe data-dojo-attach-point=\"iframe\" data-dojo-type=\"epi/local/AutoResizingIframe\" data-dojo-props=\"autoFit : false\"></iframe>\r\n            <div data-dojo-attach-point=\"overlay\" data-dojo-type=\"epi/shell/widget/overlay/OverlayContainer\"></div>\r\n            <div data-dojo-attach-point=\"scrollSizer\" class=\"epi-editorViewport-scrollSizer\"></div>\r\n        </div>\r\n    </div>\r\n</div>","epi/shell/widget/LabeledInput":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/dom-attr","dijit/_Widget","dijit/_TemplatedMixin","dojo/text!./templates/_LabeledInput_Top.htm","dojo/text!./templates/_LabeledInput_Bottom.htm","dojo/text!./templates/_LabeledInput_Left.htm","dojo/text!./templates/_LabeledInput_Right.htm"],function(_13f6,lang,_13f7,_13f8,_13f9,_13fa,_13fb,_13fc,_13fd){return _13f6([_13f8,_13f9],{templateString:null,postMixInProperties:function(){var _13fe=this.params.labelPos;switch(_13fe){case 2:this.templateString=_13fb;break;case 3:this.templateString=_13fc;break;case 4:this.templateString=_13fd;break;default:this.templateString=_13fa;break;}},postCreate:function(){var _13ff=this.params;if(_13ff.wrappedDojoType){var _1400=_13ff.wrappedDojoType;var _1401=_13ff.label;delete _13ff.wrappedDojoType;delete _13ff.labelPos;require([_1400],lang.hitch(this,function(ctor){var _1402=new ctor(_13ff,this.input);_13f7.set(this.label,"for",_1402.id);}));this.label.innerHTML=_1401;}}});});},"url:epi/shell/widget/templates/_LabeledInput_Top.htm":"<div>\r\n\t<div class=\"editor-label\" dojoAttachPoint=\"labelContainer\">\r\n\t\t<label dojoAttachPoint=\"label\"></label>\r\n\t</div>\r\n\t<div class=\"editor-field\" dojoAttachPoint=\"inputContainer\">\r\n\t\t<div dojoAttachPoint=\"input\"></div>\r\n\t</div>\r\n</div>\r\n","url:epi/shell/widget/templates/_LabeledInput_Bottom.htm":"<div>\r\n\t<div class=\"editor-field\" dojoAttachPoint=\"inputContainer\">\r\n\t\t<div dojoAttachPoint=\"input\"></div>\r\n\t</div>\r\n\t<div class=\"editor-label\" dojoAttachPoint=\"labelContainer\">\r\n\t\t<label dojoAttachPoint=\"label\"></label>\r\n\t</div>\r\n</div>\r\n","url:epi/shell/widget/templates/_LabeledInput_Left.htm":"<div>\r\n\t<div class=\"editor-label\" style=\"float:left;\" dojoAttachPoint=\"labelContainer\">\r\n\t\t<label dojoAttachPoint=\"label\"></label>\r\n\t</div>\r\n\t<div class=\"editor-field\" dojoAttachPoint=\"inputContainer\">\r\n\t\t<div dojoAttachPoint=\"input\"></div>\r\n\t</div>\r\n\t<div style=\"clear: both;\"></div>\r\n</div>\r\n","url:epi/shell/widget/templates/_LabeledInput_Right.htm":"<div>\r\n\t<div class=\"editor-label\" style=\"float: right;\" dojoAttachPoint=\"labelContainer\">\r\n\t\t<label dojoAttachPoint=\"label\"></label>\r\n\t</div>\r\n\t<div class=\"editor-field\" dojoAttachPoint=\"inputContainer\">\r\n\t\t<div dojoAttachPoint=\"input\"></div>\r\n\t</div>\r\n\t<div style=\"clear: both;\"></div>\r\n</div>\r\n","epi/shell/widget/LicenseInformation":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/dom-construct","dojo/dom-style","dojo/topic","dojo/when","dijit/_WidgetBase","dijit/_TemplatedMixin","dijit/_WidgetsInTemplateMixin","dijit/form/Button","epi/dependency","dojo/text!./templates/LicenseInformation.html","epi/i18n!epi/shell/ui/nls/episerver.shell.ui.resources.licenseinformation"],function(_1403,lang,_1404,_1405,topic,when,_1406,_1407,_1408,_1409,_140a,_140b,_140c){return _1403([_1406,_1407,_1408],{templateString:_140b,licenseInformationStore:null,_res:_140c,postMixInProperties:function(){this.inherited(arguments);var _140d=_140a.resolve("epi.storeregistry");this.licenseInformationStore=this.licenseInformationStore||_140d.get("epi.shell.licenseinformation");},buildRendering:function(){this.inherited(arguments);this.set("visible",false);when(this.licenseInformationStore.get(),lang.hitch(this,this._bindInformation));},_setVisibleAttr:function(_140e){_1405.set(this.domNode,"display",_140e?"":"none");},_onRefreshButtonClick:function(){when(this.licenseInformationStore.refresh("1"),lang.hitch(this,this._bindInformation));},_bindInformation:function(_140f){if(!_140f||_140f.isValid){this.set("visible",false);}else{this.set("visible",true);this.mainInfoNode.innerHTML=_140f.message;this.additionalInfoNode.innerHTML=_140f.additionalInformation;}topic.publish("/epi/shell/globalnavigation/layoutchange");}});});},"url:epi/shell/widget/templates/LicenseInformation.html":"<div class=\"epi-notificationBar epi-status-bar--error\">\r\n    <div class=\"epi-notificationBarItem\">\r\n        <div class=\"epi-notificationBarText\">\r\n            <p><strong data-dojo-attach-point=\"mainInfoNode\"></strong></p>\r\n            <p data-dojo-attach-point=\"additionalInfoNode\"></p>\r\n        </div>\r\n        <div class=\"epi-notificationBarButtonContainer\">\r\n            <button data-dojo-type=\"dijit/form/Button\" class=\"epi-chromelessButton\" data-dojo-attach-event=\"onClick: _onRefreshButtonClick\">${_res.refresh}</button>\r\n        </div>\r\n    </div>\r\n</div>","epi/shell/widget/MenuGroup":function(){define(["dojo","dijit/MenuSeparator","dojo/text!./templates/MenuGroup.htm"],function(dojo,_1410,_1411){return dojo.declare([_1410],{templateString:_1411,label:"",_setLabelAttr:{node:"containerNode",type:"innerHTML"}});});},"url:epi/shell/widget/templates/MenuGroup.htm":"<li class=\"epi-menugGoup\">\r\n    <span data-dojo-attach-point=\"containerNode\"></span>\r\n</li>","epi/shell/widget/overlay/_Base":function(){define(["dojo/_base/declare","dojo/dom-geometry","dojo/dom-construct","dojo/dom-style","dojo/has","dijit/_Widget"],function(_1412,_1413,_1414,_1415,has,_1416){return _1412([_1416],{disabled:false,sourceItemNode:null,position:null,parent:null,adjustForMargins:true,onResize:function(){},destroy:function(){this.sourceItemNode=null;this.parent=null;this.inherited(arguments);},refresh:function(){this._reset();this.resize();this.onResize();},resize:function(size){size=size||this.get("position");this.updatePosition(size);},updatePosition:function(_1417){if(!this.canUpdatePosition()){return false;}_1415.set(this.domNode,{left:_1417.x+"px",top:_1417.y+"px",width:_1417.w+"px",height:_1417.h+"px"});return false;},_getPositionAttr:function(){if(!this.canUpdatePosition()){return {x:0,y:0,w:0,h:0};}var _1418=_1413.position(this.sourceItemNode,false),_1419=this._rawPosition,_141a,_141b,_141c;if(_1419){if(has("ie")){_141a=Math.abs((_1419.x-_1418.x))>1||Math.abs((_1419.y-_1418.y))>1||Math.abs((_1419.w-_1418.w))>1||Math.abs((_1419.h-_1418.h))>1;}else{_141a=_1419.x!==_1418.x||_1419.y!==_1418.y||_1419.w!==_1418.w||_1419.h!==_1418.h;}if(!_141a){this.position.isChanged=false;return this.position;}}this._rawPosition={x:_1418.x,y:_1418.y,w:_1418.w,h:_1418.h};if(this.adjustForMargins){_141b=_1415.getComputedStyle(this.sourceItemNode);if(_141b){_141c=_1413.getMarginExtents(this.sourceItemNode,_141b);if(_141c.l<0){_1418.x-=_141c.l;_1418.w+=_141c.l;}if(_141c.r<0){_1418.w-=_141c.r;}if(_141c.t<0){_1418.x-=_141c.t;_1418.h+=_141c.t;}if(_141c.b<0){_1418.h-=_141c.b;}}}_1418.isChanged=true;this.set("position",_1418);return _1418;},_reset:function(){this._clearPosition();},_clearPosition:function(){this.position=this._rawPosition=null;},_setDisabledAttr:function(_141d){this._set("disabled",_141d);_1415.set(this.domNode,{display:_141d?"none":""});},_setSourceItemNodeAttr:function(value){this._clearPosition();this._set("sourceItemNode",value);},canUpdatePosition:function(){if(this.disabled){return false;}try{if(!this.sourceItemNode||!this.sourceItemNode.ownerDocument){return false;}}catch(ex){return false;}return true;}});});},"epi/shell/widget/overlay/Item":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/_base/lang","dojo/dom-class","dojo/dom-style","dojo/mouse","dojo/on","dojo/when","dijit/_CssStateMixin","dijit/_TemplatedMixin","./_Base","epi/shell/dnd/Target"],function(array,_141e,lang,_141f,_1420,mouse,on,when,_1421,_1422,_1423,_1424){return _141e([_1423,_1422,_1421],{baseClass:"epi-overlay-item",name:"",_setDisplayNameAttr:function(value){if(this.informationNode){this.informationNode.textContent=value;}},templateString:"<div data-dojo-attach-point=\"item\">                            <div data-dojo-attach-point=\"containerNode\" class=\"epi-overlay-item-container\">                                <span data-dojo-attach-point=\"informationNode\" class=\"epi-overlay-item-info\"></span>                                <div class=\"epi-overlay-bracket\"></div>                            </div>                        </div>",allowedDndTypes:null,error:false,childItems:null,parent:null,onClick:function(_1425,e){},onDrop:function(_1426,_1427){},onMouseEnter:function(e){},onMouseLeave:function(e){},constructor:function(){this.childItems=[];},postCreate:function(){this.inherited(arguments);this.own(on(this.domNode,"click",lang.hitch(this,function(e){this.onClick(this,e);})),on(this.domNode,mouse.enter,lang.hitch(this,this.onMouseEnter)),on(this.domNode,mouse.leave,lang.hitch(this,this.onMouseLeave)));this.transferDndControlTo(this);},destroy:function(){if(this.parent&&this.parent.removeChild){this.parent.removeChild(this);}for(var i=0;i<this.childItems.length;i++){this.childItems[i].destroyRecursive();}this.childItems=null;if(this._dropTarget){this._dropTarget.destroy();this._dropTarget=null;}this.inherited(arguments);},resize:function(size){this.inherited(arguments);if(this.childItems){array.forEach(this.childItems,function(item,i){item.resize();});}},updatePosition:function(_1428){var node=this.informationNode;if(node){var _1429=_1420.get(node,"minHeight");_141f.toggle(node,"epi-overlay-item-info--inside",_1428.y<_1429);}return this.inherited(arguments);},transferDndControlTo:function(_142a){var _142b=_142a.allowedDndTypes,_142c=_142a.onDropData,_142d=_142a;if(!this._dropTarget){this._setupDnd(_142d,_142b,_142c);}else{var types=_142b;this._dropTarget.accept={};if(types){types.forEach(function(type){this._dropTarget.accept[type]=1;},this);}}},onDropData:function(_142e,_142f,items,copy){var _1430;if(_142e.length>1){_1430=_142e.data;}else{if(_142e.length===1){_1430=_142e[0].data;}}when(_1430,lang.hitch(this,function(_1431){var value;if(this.dndSourcePropertyName){value=_1431[this.dndSourcePropertyName];}else{value=_1431;}this.onDrop(this,value);}));},_setupDnd:function(_1432,_1433,_1434){if(_1433){this._dropTarget=new _1424(this.domNode,{accept:_1433,createItemOnDrop:false});this._dropDataHandler=this.connect(this._dropTarget,"onDropData",lang.hitch(_1432,_1434));this.own(this._dropTarget,this._dropDataHandler);}},_setReadOnlyAttr:function(_1435){this._set("readOnly",_1435);if(this._dropTarget){this._dropTarget.readOnly=_1435;}},_setErrorAttr:function(value){this.set("state",value?"Error":"");this._set("error",value);}});});},"epi/shell/widget/PropagatingContainer":function(){define(["epi","dojo","dijit","dijit/_Widget","dijit/_Container","dijit/_Contained"],function(epi,dojo,dijit,_1436,_1437,_1438){return dojo.declare([_1436,_1437,_1438],{buildRendering:function(){this.inherited(arguments);dojo.addClass(this.domNode,"dijitContainer");},set:function(_1439,value){this.inherited(arguments);dojo.forEach(this.getChildren(),function(child){child.set(_1439,value);});}});});},"epi/shell/widget/SpaceToolbarSeparator":function(){define(["epi","dojo","dijit","dijit/ToolbarSeparator"],function(epi,dojo,dijit,_143a){return dojo.declare([_143a],{templateString:"<div class=\"epi-spaceToolbarSeparator dijitInline\" role=\"presentation\"></div>"});});},"epi/shell/widget/TabContainer":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/_base/Deferred","dojo/_base/lang","dojo/aspect","dojo/dom-class","dijit/layout/ContentPane","dijit/layout/TabContainer","dijit/registry","epi/dependency","epi/shell/widget/layout/ComponentContainer","epi/shell/widget/dialog/Confirmation","epi/shell/widget/TabController","epi/shell/widget/dialog/Alert","epi/shell/widget/_ActionConsumerWidget","epi/i18n!epi/shell/ui/nls/EPiServer.Shell.UI.Resources.TabContainer"],function(array,_143b,_143c,lang,_143d,_143e,_143f,_1440,_1441,_1442,_1443,_1444,_1445,Alert,_1446,res){return _143b([_1440,_1446],{controllerWidget:_1445,_selectedPage:null,_componentsController:null,res:res,confirmationBeforeRemoval:true,startup:function(){if(this._started){return;}this.inherited(arguments);this.connect(this.tablist,"onLayoutChanged",this._changeLayout);this.connect(this.tablist,"onTabTitleChanged",this._changeName);this.connect(this.tablist,"onAddNewTab",this._createTab);this._componentsController=_1442.resolve("epi.shell.controller.Components");if(this.getChildren().length<=0){this._createTab();}},postCreate:function(){this.inherited(arguments);_143e.add(this.domNode,"epi-mainApplicationArea");},_makeController:function(){var _1447=this.inherited(arguments);this.connect(_1447,"onSelectChild",this._pageSelected);var _1448=[{label:this.res.addgadget,onClick:lang.hitch(this,this._showComponentDialog)},{label:this.res.createtab,onClick:lang.hitch(this,this._createTab)},{label:this.res.rearrangegadget,onChange:lang.hitch(this,this._rearrangeGadgets),type:"checkedmenuitem",checked:false,rearrangeGadgets:function(_1449){this.set("checked",_1449);}}];array.forEach(_1448,_1447.addAddMenuItem,_1447);return _1447;},_rearrangeGadgets:function(_144a){if(this._selectedPage){this._selectedPage.changeLockButtonState(_144a);}},_showComponentDialog:function(){if(this._selectedPage){this._selectedPage.showComponentSelector();}},_componentSelected:function(){var _144b=this._selectedPage;_144b.addComponent.apply(_144b,arguments);},_pageSelected:function(page){this._selectedPage=page;},_createTab:function(){var _144c=this._componentsController.getComponentDefinition(this.id);this._componentsController.getEmptyComponentDefinition("EPiServer.Shell.ViewComposition.Containers.ComponentContainer",lang.hitch(this,function(_144d){var comp=_144d[0];comp.settings.personalizableHeading=this.res.newtabname;comp.settings.numberOfColumns=2;comp.settings.containerUnlocked=true;comp.settings.closable=true;this._componentsController.addComponent(this,comp,lang.hitch(this,function(resp){var _144e=this.getChildren();this.selectChild(_144e[_144e.length-1]);}));}));},_changeName:function(page,value){if(this._isEmpty(value)){this._showMessageDialog(this.res.tabnamecannotbeemptymessage).then(function(_144f){if(_144f){page.controlButton.tabName.innerHTML=page.controlButton.tabCurrentName;page.controlButton._setTabTitleEditable(true);}});}else{var _1450=String(page.title);var item=this._componentsController.getComponentDefinition(page.id);page.title=value;page.tabCurrentName=value;if(item!=null){item.settings.personalizableHeading=value;this._componentsController.saveComponent(item,function(){},lang.hitch(this,function(){this._showMessageDialog(this.res.tabnamecouldnotbesaved).then(function(_1451){if(_1451){page.set("title",_1450);page.set("tabCurrentName",_1450);page.controlButton.revertTabTitleChanges(true,_1450,value);}});}));}else{}}},_getNumberOfColumns:function(evt){if(!evt||!evt.target){return 1;}var _1452=_1441.getEnclosingWidget(evt.target);if(!_1452||!_1452.label){return 1;}return lang.trim(_1452.label).substr(0,1);},_changeLayout:function(page,evt){var _1453=this._getNumberOfColumns(evt),item=null;if(typeof page.setColumns=="function"){page.setColumns(_1453);}item=this._componentsController.getComponentDefinition(page.id);if(item!=null){item.settings.numberOfColumns=_1453;this._componentsController.saveComponent(item);}else{}},closeChild:function(page){if(this.getChildren().length==1){return;}if(!this.confirmationBeforeRemoval){this.inherited(arguments);this._removeTab(page);}else{return this._showRemovalConfirmationDialog(lang.hitch(this,function(close){if(close){_1440.prototype.closeChild.apply(this,[page]);this._removeTab(page);}}));}},_removeTab:function(page){var item=this._componentsController.getComponentDefinition(page.id);this._componentsController.removeComponent(item.id);var _1454=this.getChildren().length;if(_1454==1){for(var _1455 in this.tablist.pane2button){this.tablist.pane2button[_1455].closeTabMenuItem.set("disabled",true);}}},_showRemovalConfirmationDialog:function(_1456){var _1457=new _1444({description:this.res.removetabquestion,title:epi.resources.header.episerver,onAction:_1456});_1457.show();},_showMessageDialog:function(_1458){var _1459=new _143c();var _145a=new Alert({description:_1458});_145a.show();_143d.after(_145a,"destroy",function(){_1459.resolve(true);});return _1459;},_isEmpty:function(_145b){return (lang.trim(_145b)===""?true:false);}});});},"epi/shell/widget/TabController":function(){define(["dojo/dom-style","dojo/dom-geometry","dojo/_base/array","dijit/layout/ScrollingTabController","dijit/layout/StackController","dijit/form/DropDownButton","dijit/form/TextBox","dijit/CheckedMenuItem","dijit/InlineEditBox","dijit/Menu","dijit/MenuItem","dijit/PopupMenuItem","dijit/MenuSeparator","epi/shell/widget/_TabButton","dojo/text!./templates/_TabController.htm","epi/i18n!epi/shell/ui/nls/EPiServer.Shell.UI.Resources.GadgetChrome"],function(_145c,_145d,array,_145e,_145f,_1460,_1461,_1462,_1463,Menu,_1464,_1465,_1466,_1467,_1468,res){return dojo.declare(_145e,{buttonWidget:_1467,res:res,useAddMenu:true,templateString:_1468,onAddChild:function(page,_1469){this.inherited(arguments);this.connect(page.controlButton,"onClick",dojo.hitch(this,"onButtonClick",page));this.connect(page.controlButton,"onClickCloseButton",dojo.hitch(this,"onCloseButtonClick",page));this.connect(page.controlButton,"onCloseMenuItem",dojo.hitch(this,"onCloseButtonClick",page));this.connect(page.controlButton,"onLayoutClick",dojo.hitch(this,"onLayoutChanged",page));this.connect(page.controlButton,"onTabTitleChanged",dojo.hitch(this,"onTabTitleChanged",page));if(!this.isLeftToRight()&&dojo.isIE&&this._rectifyRtlTabList){this._rectifyRtlTabList();}var _146a;if(this.useMenu){var _146b=this.containerId;_146a=new _1464({id:page.id+"_stcMi",label:page.title,dir:page.dir,lang:page.lang,onClick:dojo.hitch(this,function(){var _146c=dijit.byId(_146b);_146c.selectChild(page);})});this._menuChildren[page.id]=_146a;this._menu.addChild(_146a,_1469);}dojo.style(this.containerNode,"width",(dojo.style(this.containerNode,"width")+200)+"px");var _146d=page.params.numberOfColumns||1;var _146e=page.controlButton.menuLayout.getChildren()[_146d-1];_146e&&_146e.set("checked",true);var _146f=this.getChildren().length;for(var _1470 in this.pane2button){this.pane2button[_1470].closeTabMenuItem.set("disabled",(_146f==1?true:false));}},_initButtons:function(){this._menuChildren={};this._btnWidth=0;this._buttons=dojo.query("> .tabStripButton",this.domNode).filter(function(btn){if((this.useMenu&&btn==this._menuBtn.domNode)||(this.useAddMenu&&btn==this._addBtn.domNode)||(this.useSlider&&(btn==this._rightBtn.domNode||btn==this._leftBtn.domNode))){this._btnWidth+=dojo.marginBox(btn).w;return true;}else{dojo.style(btn,"display","none");return false;}},this);if(this.useMenu){this._menu=new Menu({id:this.id+"_menu",dir:this.dir,lang:this.lang,targetNodeIds:[this._menuBtn.domNode],leftClickToOpen:true,refocus:false});this._supportingWidgets.push(this._menu);}dojo.style(this._addBtn.domNode,"display",this.useAddMenu?"":"none");},addAddMenuItem:function(_1471){if(!this.useAddMenu){return;}var _1472=null;if(_1471.type&&_1471.type==="checkedmenuitem"){_1472=new _1462(_1471);}else{_1472=new _1464(_1471);}if(_1472){this._addMenu.addChild(_1472);}},resize:function(dim){if(this.domNode.offsetWidth===0){return;}this._dim=dim;this.scrollNode.style.height="auto";this._contentBox=dijit.layout.marginBox2contentBox(this.domNode,{h:0,w:dim.w});this._contentBox.h=this.scrollNode.offsetHeight;dojo.contentBox(this.domNode,this._contentBox);var _1473=this._enableBtn(this._contentBox.w);this._buttons.style("display",_1473?"":"none");this._leftBtn.layoutAlign="left";this._rightBtn.layoutAlign="right";this._menuBtn.layoutAlign=this.isLeftToRight()?"right":"left";this._addBtn.layoutAlign=this.isLeftToRight()?"right":"left";dijit.layout.layoutChildren(this.domNode,this._contentBox,[this._addBtn,this._menuBtn,this._leftBtn,this._rightBtn,{domNode:this.scrollNode,layoutAlign:"client"}]);if(this._selectedTab){if(this._anim&&this._anim.status()=="playing"){this._anim.stop();}var w=this.scrollNode,sl=this._convertToScrollLeft(this._getScrollForSelectedTab());w.scrollLeft=sl;}this._setButtonClass(this._getScroll());_145c.set(this._toolbar.domNode,"height",_145d.position(this.domNode).h+"px");this._postResize=true;},onSelectChild:function(page){if(!page){return;}if(this._currentChild){this.pane2button[this._currentChild.id].toggleMenu(false);}this.pane2button[page.id].toggleMenu(true);array.some(this._addMenu.getChildren(),function(menu){if(menu.rearrangeGadgets){menu.rearrangeGadgets(page.containerUnlocked);return;}});this.inherited(arguments);},onLayoutChanged:function(page,evt){},onTabTitleChanged:function(page,value){},onAddGadget:function(evt){}});});},"dijit/InlineEditBox":function(){require({cache:{"url:dijit/templates/InlineEditBox.html":"<span data-dojo-attach-point=\"editNode\" role=\"presentation\" class=\"dijitReset dijitInline dijitOffScreen\"\n\tdata-dojo-attach-event=\"onkeypress: _onKeyPress\"\n\t><span data-dojo-attach-point=\"editorPlaceholder\"></span\n\t><span data-dojo-attach-point=\"buttonContainer\"\n\t\t><button data-dojo-type=\"dijit/form/Button\" data-dojo-props=\"label: '${buttonSave}', 'class': 'saveButton'\"\n\t\t\tdata-dojo-attach-point=\"saveButton\" data-dojo-attach-event=\"onClick:save\"></button\n\t\t><button data-dojo-type=\"dijit/form/Button\"  data-dojo-props=\"label: '${buttonCancel}', 'class': 'cancelButton'\"\n\t\t\tdata-dojo-attach-point=\"cancelButton\" data-dojo-attach-event=\"onClick:cancel\"></button\n\t></span\n></span>\n"}});define("dijit/InlineEditBox",["require","dojo/_base/array","dojo/_base/declare","dojo/dom-attr","dojo/dom-class","dojo/dom-construct","dojo/dom-style","dojo/_base/event","dojo/i18n","dojo/_base/kernel","dojo/keys","dojo/_base/lang","dojo/sniff","dojo/when","./focus","./_Widget","./_TemplatedMixin","./_WidgetsInTemplateMixin","./_Container","./form/Button","./form/_TextBoxMixin","./form/TextBox","dojo/text!./templates/InlineEditBox.html","dojo/i18n!./nls/common"],function(_1474,array,_1475,_1476,_1477,_1478,_1479,event,i18n,_147a,keys,lang,has,when,fm,_147b,_147c,_147d,_147e,_147f,_1480,_1481,_1482){var _1483=_1475("dijit._InlineEditor",[_147b,_147c,_147d],{templateString:_1482,postMixInProperties:function(){this.inherited(arguments);this.messages=i18n.getLocalization("dijit","common",this.lang);array.forEach(["buttonSave","buttonCancel"],function(prop){if(!this[prop]){this[prop]=this.messages[prop];}},this);},buildRendering:function(){this.inherited(arguments);var Cls=typeof this.editor=="string"?(lang.getObject(this.editor)||_1474(this.editor)):this.editor;var _1484=this.sourceStyle,_1485="line-height:"+_1484.lineHeight+";",_1486=_1479.getComputedStyle(this.domNode);array.forEach(["Weight","Family","Size","Style"],function(prop){var _1487=_1484["font"+prop],_1488=_1486["font"+prop];if(_1488!=_1487){_1485+="font-"+prop+":"+_1484["font"+prop]+";";}},this);array.forEach(["marginTop","marginBottom","marginLeft","marginRight","position","left","top","right","bottom","float","clear","display"],function(prop){this.domNode.style[prop]=_1484[prop];},this);var width=this.inlineEditBox.width;if(width=="100%"){_1485+="width:100%;";this.domNode.style.display="block";}else{_1485+="width:"+(width+(Number(width)==width?"px":""))+";";}var _1489=lang.delegate(this.inlineEditBox.editorParams,{style:_1485,dir:this.dir,lang:this.lang,textDir:this.textDir});_1489["displayedValue" in Cls.prototype?"displayedValue":"value"]=this.value;this.editWidget=new Cls(_1489,this.editorPlaceholder);if(this.inlineEditBox.autoSave){_1478.destroy(this.buttonContainer);}},postCreate:function(){this.inherited(arguments);var ew=this.editWidget;if(this.inlineEditBox.autoSave){this.connect(ew,"onChange","_onChange");this.connect(ew,"onKeyPress","_onKeyPress");}else{if("intermediateChanges" in ew){ew.set("intermediateChanges",true);this.connect(ew,"onChange","_onIntermediateChange");this.saveButton.set("disabled",true);}}},startup:function(){this.editWidget.startup();this.inherited(arguments);},_onIntermediateChange:function(){this.saveButton.set("disabled",(this.getValue()==this._resetValue)||!this.enableSave());},destroy:function(){this.editWidget.destroy(true);this.inherited(arguments);},getValue:function(){var ew=this.editWidget;return String(ew.get("displayedValue" in ew?"displayedValue":"value"));},_onKeyPress:function(e){if(this.inlineEditBox.autoSave&&this.inlineEditBox.editing){if(e.altKey||e.ctrlKey){return;}if(e.charOrCode==keys.ESCAPE){event.stop(e);this.cancel(true);}else{if(e.charOrCode==keys.ENTER&&e.target.tagName=="INPUT"){event.stop(e);this._onChange();}}}},_onBlur:function(){this.inherited(arguments);if(this.inlineEditBox.autoSave&&this.inlineEditBox.editing){if(this.getValue()==this._resetValue){this.cancel(false);}else{if(this.enableSave()){this.save(false);}}}},_onChange:function(){if(this.inlineEditBox.autoSave&&this.inlineEditBox.editing&&this.enableSave()){fm.focus(this.inlineEditBox.displayNode);}},enableSave:function(){return this.editWidget.isValid?this.editWidget.isValid():true;},focus:function(){this.editWidget.focus();if(this.editWidget.focusNode){fm._onFocusNode(this.editWidget.focusNode);if(this.editWidget.focusNode.tagName=="INPUT"){this.defer(function(){_1480.selectInputText(this.editWidget.focusNode);});}}}});var _148a=_1475("dijit.InlineEditBox",_147b,{editing:false,autoSave:true,buttonSave:"",buttonCancel:"",renderAsHtml:false,editor:_1481,editorWrapper:_1483,editorParams:{},disabled:false,onChange:function(){},onCancel:function(){},width:"100%",value:"",noValueIndicator:has("ie")<=6?"<span style='font-family: wingdings; text-decoration: underline;'>&#160;&#160;&#160;&#160;&#x270d;&#160;&#160;&#160;&#160;</span>":"<span style='text-decoration: underline;'>&#160;&#160;&#160;&#160;&#x270d;&#160;&#160;&#160;&#160;</span>",constructor:function(){this.editorParams={};},postMixInProperties:function(){this.inherited(arguments);this.displayNode=this.srcNodeRef;var _148b={ondijitclick:"_onClick",onmouseover:"_onMouseOver",onmouseout:"_onMouseOut",onfocus:"_onMouseOver",onblur:"_onMouseOut"};for(var name in _148b){this.connect(this.displayNode,name,_148b[name]);}this.displayNode.setAttribute("role","button");if(!this.displayNode.getAttribute("tabIndex")){this.displayNode.setAttribute("tabIndex",0);}if(!this.value&&!("value" in this.params)){this.value=lang.trim(this.renderAsHtml?this.displayNode.innerHTML:(this.displayNode.innerText||this.displayNode.textContent||""));}if(!this.value){this.displayNode.innerHTML=this.noValueIndicator;}_1477.add(this.displayNode,"dijitInlineEditBoxDisplayMode");},setDisabled:function(_148c){_147a.deprecated("dijit.InlineEditBox.setDisabled() is deprecated.  Use set('disabled', bool) instead.","","2.0");this.set("disabled",_148c);},_setDisabledAttr:function(_148d){this.domNode.setAttribute("aria-disabled",_148d?"true":"false");if(_148d){this.displayNode.removeAttribute("tabIndex");}else{this.displayNode.setAttribute("tabIndex",0);}_1477.toggle(this.displayNode,"dijitInlineEditBoxDisplayModeDisabled",_148d);this._set("disabled",_148d);},_onMouseOver:function(){if(!this.disabled){_1477.add(this.displayNode,"dijitInlineEditBoxDisplayModeHover");}},_onMouseOut:function(){_1477.remove(this.displayNode,"dijitInlineEditBoxDisplayModeHover");},_onClick:function(e){if(this.disabled){return;}if(e){event.stop(e);}this._onMouseOut();this.defer("edit");},edit:function(){if(this.disabled||this.editing){return;}this._set("editing",true);this._savedTabIndex=_1476.get(this.displayNode,"tabIndex")||"0";if(this.wrapperWidget){var ew=this.wrapperWidget.editWidget;ew.set("displayedValue" in ew?"displayedValue":"value",this.value);}else{var _148e=_1478.create("span",null,this.domNode,"before");var Ewc=typeof this.editorWrapper=="string"?lang.getObject(this.editorWrapper):this.editorWrapper;this.wrapperWidget=new Ewc({value:this.value,buttonSave:this.buttonSave,buttonCancel:this.buttonCancel,dir:this.dir,lang:this.lang,tabIndex:this._savedTabIndex,editor:this.editor,inlineEditBox:this,sourceStyle:_1479.getComputedStyle(this.displayNode),save:lang.hitch(this,"save"),cancel:lang.hitch(this,"cancel"),textDir:this.textDir},_148e);if(!this.wrapperWidget._started){this.wrapperWidget.startup();}if(!this._started){this.startup();}}var ww=this.wrapperWidget;_1477.add(this.displayNode,"dijitOffScreen");_1477.remove(ww.domNode,"dijitOffScreen");_1479.set(ww.domNode,{visibility:"visible"});_1476.set(this.displayNode,"tabIndex","-1");when(ww.editWidget.onLoadDeferred,lang.hitch(ww,function(){this.defer(function(){this.focus();this._resetValue=this.getValue();});}));},_onBlur:function(){this.inherited(arguments);if(!this.editing){}},destroy:function(){if(this.wrapperWidget&&!this.wrapperWidget._destroyed){this.wrapperWidget.destroy();delete this.wrapperWidget;}this.inherited(arguments);},_showText:function(focus){var ww=this.wrapperWidget;_1479.set(ww.domNode,{visibility:"hidden"});_1477.add(ww.domNode,"dijitOffScreen");_1477.remove(this.displayNode,"dijitOffScreen");_1476.set(this.displayNode,"tabIndex",this._savedTabIndex);if(focus){fm.focus(this.displayNode);}},save:function(focus){if(this.disabled||!this.editing){return;}this._set("editing",false);var ww=this.wrapperWidget;var value=ww.getValue();this.set("value",value);this._showText(focus);},setValue:function(val){_147a.deprecated("dijit.InlineEditBox.setValue() is deprecated.  Use set('value', ...) instead.","","2.0");return this.set("value",val);},_setValueAttr:function(val){val=lang.trim(val);var _148f=this.renderAsHtml?val:val.replace(/&/gm,"&amp;").replace(/</gm,"&lt;").replace(/>/gm,"&gt;").replace(/"/gm,"&quot;").replace(/\n/g,"<br>");this.displayNode.innerHTML=_148f||this.noValueIndicator;this._set("value",val);if(this._started){this.defer(function(){this.onChange(val);});}if(this.textDir=="auto"){this.applyTextDir(this.displayNode,this.displayNode.innerText);}},getValue:function(){_147a.deprecated("dijit.InlineEditBox.getValue() is deprecated.  Use get('value') instead.","","2.0");return this.get("value");},cancel:function(focus){if(this.disabled||!this.editing){return;}this._set("editing",false);this.defer("onCancel");this._showText(focus);},_setTextDirAttr:function(_1490){if(!this._created||this.textDir!=_1490){this._set("textDir",_1490);this.applyTextDir(this.displayNode,this.displayNode.innerText);this.displayNode.align=this.dir=="rtl"?"right":"left";}}});_148a._InlineEditor=_1483;return _148a;});},"url:dijit/templates/InlineEditBox.html":"<span data-dojo-attach-point=\"editNode\" role=\"presentation\" class=\"dijitReset dijitInline dijitOffScreen\"\n\tdata-dojo-attach-event=\"onkeypress: _onKeyPress\"\n\t><span data-dojo-attach-point=\"editorPlaceholder\"></span\n\t><span data-dojo-attach-point=\"buttonContainer\"\n\t\t><button data-dojo-type=\"dijit/form/Button\" data-dojo-props=\"label: '${buttonSave}', 'class': 'saveButton'\"\n\t\t\tdata-dojo-attach-point=\"saveButton\" data-dojo-attach-event=\"onClick:save\"></button\n\t\t><button data-dojo-type=\"dijit/form/Button\"  data-dojo-props=\"label: '${buttonCancel}', 'class': 'cancelButton'\"\n\t\t\tdata-dojo-attach-point=\"cancelButton\" data-dojo-attach-event=\"onClick:cancel\"></button\n\t></span\n></span>\n","url:epi/shell/widget/templates/_TabController.htm":"<div class=\"dijitTabListContainer-${tabPosition}\" style=\"visibility:hidden\">\r\n    <div data-dojo-type=\"dijit/Toolbar\" class=\"epi-componentToolbar\" data-dojo-attach-point=\"_toolbar\">\r\n        <div data-dojo-type=\"dijit/form/DropDownButton\" id=\"${id}_addBtn\" class=\"epi-componentToolbarButton epi-componentSettingsContainer epi-mediumButton\" iconClass=\"epi-iconSettingsMenu\" data-dojo-attach-point=\"_addBtn\" showLabel=\"false\" title=\"${res.settingsmenutooltip}\">\r\n            <div data-dojo-type=\"dijit/Menu\" data-dojo-attach-point=\"_addMenu\"></div>\r\n        </div>\r\n    </div>\r\n    <div data-dojo-type=\"dijit.layout._ScrollingTabControllerButton\" class=\"tabStripButton-${tabPosition}\" id=\"${id}_menuBtn\" iconClass=\"dijitTabStripMenuIcon\" data-dojo-attach-point=\"_menuBtn\" showLabel=\"false\">&#9660;</div>\r\n    <div data-dojo-type=\"dijit.layout._ScrollingTabControllerButton\" class=\"tabStripButton-${tabPosition}\" id=\"${id}_leftBtn\" iconClass=\"dijitTabStripSlideLeftIcon\" data-dojo-attach-point=\"_leftBtn\" data-dojo-attach-event=\"onClick: doSlideLeft\" showLabel=\"false\">&#9664;</div>\r\n    <div data-dojo-type=\"dijit.layout._ScrollingTabControllerButton\" class=\"tabStripButton-${tabPosition}\" id=\"${id}_rightBtn\" iconClass=\"dijitTabStripSlideRightIcon\" data-dojo-attach-point=\"_rightBtn\" data-dojo-attach-event=\"onClick: doSlideRight\" showLabel=\"false\">&#9654;</div>\r\n    <div class=\"dijitTabListWrapper\" data-dojo-attach-point=\"tablistWrapper\">\r\n        <div wairole=\"tablist\" data-dojo-attach-event=\"onkeypress:onkeypress\" data-dojo-attach-point=\"containerNode\" class=\"nowrapTabStrip\"></div>\r\n    </div>\r\n</div>\r\n","epi/shell/widget/dialog/Alert":function(){define(["epi","dojo","dijit/form/Button","epi/shell/widget/dialog/_DialogBase"],function(epi,dojo,_1491,_1492){return dojo.declare([_1492],{acknowledgeActionText:epi.resources.action.ok,closeIconVisible:false,dialogClass:"epi-dialog-alert",buildRendering:function(){this.inherited(arguments);this.domNode.setAttribute("role","alertdialog");this.descriptionNode.setAttribute("role","alert");var _1493=new _1491({label:this.acknowledgeActionText,onClick:dojo.hitch(this,this._onAcknowledge)});dojo.place(_1493.domNode,this.actionContainerNode);},_onAcknowledge:function(){this.hide();typeof this.onAction==="function"&&this.onAction();},onAction:function(){}});});},"epi/shell/widget/ValidationTextarea":function(){define(["dojo/_base/declare","dijit/form/Textarea","epi/shell/widget/_ValueRequiredMixin"],function(_1494,_1495,_1496){return _1494([_1495,_1496],{_setValueAttr:function(value){this.inherited(arguments);this._started&&this.validate();}});});},"epi/shell/widget/_ValueRequiredMixin":function(){define(["dojo/_base/declare","dojo/_base/lang","dijit/_CssStateMixin","dijit/Tooltip"],function(_1497,lang,_1498,_1499){return _1497([_1498],{required:null,missingMessage:"",destroy:function(){this.displayMessage(null);this.inherited(arguments);},_onFocus:function(){this.inherited(arguments);this.validate();},_onBlur:function(){this.inherited(arguments);this.validate();},validate:function(_149a){var _149b=this.isValid(_149a);this.set("state",_149b?"":"Error");this.set("message",this.getErrorMessage(_149a));this.displayMessage(_149b?"":this.getErrorMessage());return _149b;},isValid:function(_149c){return (!this.required||this.value||this.value===0||(lang.isArray(this.value)&&this.value.length===0));},displayMessage:function(_149d){var _149e=this.tooltipNode||this.domNode;if(_149d&&this.focused&&!this.isShowingChildDialog){_1499.show(_149d,_149e,this.tooltipPosition,!this.isLeftToRight());}else{_1499.hide(_149e);}},getErrorMessage:function(_149f){var _14a0=this.get("state")!=="Error";return _14a0?"":this.missingMessage;}});});},"epi/shell/widget/WidgetSwitcher":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/_base/Deferred","dojo/_base/lang","dojo/store/Memory","dojo/topic","dojo/when","epi/shell/_ContextMixin","epi/shell/layout/AnimatedCardContainer","epi/shell/TypeDescriptorManager"],function(array,_14a1,_14a2,lang,_14a3,topic,when,_14a4,_14a5,_14a6){return _14a1([_14a5,_14a4],{componentConstructorArgs:null,supportedContextTypes:null,constructor:function(args){this.store=this.createStore();this.own(this.store);},postMixInProperties:function(){this.inherited(arguments);if(this.supportedContextTypes){if(!lang.isArray(this.supportedContextTypes)){this.supportedContextTypes=[this.supportedContextTypes];}if(!array.every(this.supportedContextTypes,function(type){return typeof type=="string";})){throw new Error("supportedContextTypes must be string, array of strings or null.");}}},postCreate:function(){this.inherited(arguments);_14a2.when(this.getCurrentContext(),lang.hitch(this,this.contextChanged));this.own(topic.subscribe("/epi/shell/action/changeview",lang.hitch(this,"viewComponentChangeRequested")));this.own(topic.subscribe("/epi/shell/action/changeview/back",lang.hitch(this,"_viewComponentBackRequested")));},contextChanged:function(_14a7,data){if(!this._isContextTypeSupported(_14a7)){return;}var view=_14a7.customViewType||(!!data?data.viewType:null);var _14a8=this._getCurrentWidgetInfo();if(data&&data.contextIdSyncChange){_14a8&&(view=_14a8.type);}if(!view&&_14a7.dataType){view=_14a6.getValue(_14a7.dataType,"mainWidgetType");}if(view){this._getObject(view,null,_14a7,data);}else{var _14a9=_14a6.getValue(_14a7.dataType,"defaultView"),_14aa=this._getAvailableViews(_14a7.dataType),_14ab=data?data.viewName:null;if(_14a8&&_14a8.viewName=="view"){array.some(_14aa,function(_14ac){if(_14ac.key==_14a8.viewName){_14a9="view";return true;}return false;});}var _14ad=this._getViewByKey(_14ab||_14a9,_14aa);if(!_14ad){throw "No default view found for "+_14a7.dataType;}this._loadViewComponentByConfiguration(_14ad,_14aa,null,_14a7,data);}},_getViewByKey:function(key,_14ae){return array.filter(_14ae,function(_14af){return _14af.key===key;})[0];},_getAvailableViews:function(_14b0){var _14b1=_14a6.getAndConcatenateValues(_14b0,"availableViews"),_14b2=_14a6.getValue(_14b0,"disabledViews");var _14b3=array.filter(_14b1,function(_14b4){return array.every(_14b2,function(_14b5){return _14b4.key!==_14b5;});});return _14b3.sort(function(x,y){return x.sortOrder<y.sortOrder?-1:1;});},_loadViewComponentByConfiguration:function(view,_14b6,args,_14b7,data){data=lang.mixin(data,{viewName:view.key,availableViews:_14b6});this._getObject(view.controllerType,args,_14b7,data);},viewComponentChangeRequested:function(type,args,data){when(this.getCurrentContext(),lang.hitch(this,function(_14b8){var _14b9=_14b8?_14b8.dataType:null;var _14ba=this._getAvailableViews(_14b9),view=this._getViewByKey(type,_14ba);if(view){this._loadViewComponentByConfiguration(view,_14ba,args,_14b8,data);}else{this._getObject(type,args,_14b8,data);}}));},_viewComponentBackRequested:function(_14bb){var _14bc=this._getPreviousWidgetInfo();if(_14bc){if(typeof _14bb==="undefined"){_14bb=false;}var data={skipUpdateView:!_14bb,availableViews:_14bc.availableViews,viewName:_14bc.viewName};when(this.getCurrentContext(),lang.hitch(this,function(_14bd){this._getObject(_14bc.type,null,_14bd,data);}));}},_getPreviousWidgetInfo:function(){var _14be=this._getWidgetHistory();return (_14be&&_14be.length>1)?_14be[1]:null;},_getCurrentWidgetInfo:function(){var _14bf=this._getWidgetHistory();return (_14bf&&!!_14bf.length)?_14bf[0]:null;},_getWidgetHistory:function(){return this.store.query({},{count:2,sort:[{attribute:"dateAdded",descending:true}]});},_isContextTypeSupported:function(_14c0){if(!_14c0){return false;}if(!this.supportedContextTypes){return true;}return array.some(this.supportedContextTypes,function(type){return _14c0.type===type;});},_getObject:function(type,args,_14c1,data){if(!type){return;}var _14c2=this.selectedChildWidget;var func=lang.hitch(this,function(){_14a2.when(this._testComponentInstanceOf(_14c2,type),lang.hitch(this,function(_14c3){if(_14c3){this._updateStore(type,data,_14c1);this._updateView(_14c2,_14c1,data);this._onViewChanged(type,args,data);}else{this._changeViewComponent(type,args,_14c1,data);}}));});if(_14c2&&_14c2.savePendingChanges){_14a2.when(_14c2.savePendingChanges(),func);}else{func();}},_changeViewComponent:function(type,args,_14c4,data){_14a2.when(this._getChildByType(type),lang.hitch(this,function(_14c5){var _14c6=this.selectedChildWidget;if(_14c6){_14c6.set("isActive",false);}if(_14c5){_14c5.set("isActive",true);if(data&&data.treatAsSecondaryView){this.selectSecondaryChild(_14c5);}else{this.selectChild(_14c5);}this._updateStore(type,data,_14c4);this._updateView(_14c5,_14c4,data,true);this._onViewChanged(type,args,data);}else{require([type],lang.hitch(this,function(_14c7){var _14c8=lang.mixin(lang.mixin({},this.componentConstructorArgs),args);_14c5=new _14c7(_14c8);_14c5.fitContainer=true;this.addChild(_14c5);var _14c9;if(data&&data.treatAsSecondaryView){_14c9=this.selectSecondaryChild(_14c5);}else{_14c9=this.selectChild(_14c5);}when(_14c9,lang.hitch(this,function(){this._updateStore(type,data,_14c4);this._updateView(_14c5,_14c4,data,true);this._onViewChanged(type,args,data);}));}));}}));},_updateView:function(_14ca,_14cb,data,_14cc){if(_14ca&&!!!_14ca._started&&typeof _14ca.startup==="function"){_14ca.startup();}if(_14ca&&typeof _14ca.updateView==="function"){_14ca.updateView(data,_14cb,{widgetResumed:_14cc});}},_getChildByType:function(type){var def=new _14a2();require([type],lang.hitch(this,function(_14cd){var _14ce=array.filter(this.getChildren(),function(child,index){return child.constructor===_14cd;},this);def.resolve(_14ce.length?_14ce[0]:null);}));return def;},_testComponentInstanceOf:function(_14cf,type){var def=new _14a2();if(_14cf){if(typeof type==="string"){require([type],function(_14d0){def.resolve(_14cf&&_14cf.constructor===_14d0);});}else{def.resolve(_14cf&&_14cf.constructor===type.constructor);}}else{def.resolve(false);}return def;},_onViewChanged:function(type,args,data){topic.publish("/epi/shell/action/viewchanged",type,args,data);},createStore:function(){return new _14a3({data:[],idProperty:"id"});},_updateStore:function(type,data,_14d1){var store=this.store;store.put(this.createStoreItem(type,data,_14d1),{overwrite:true});if(store.data.length>2){var _14d2=store.query({},{sort:[{attribute:"dateAdded",descending:false}]});store.remove(store.getIdentity(_14d2[0]));}},createStoreItem:function(type,data,_14d3){var _14d4={type:type,dateAdded:new Date(),id:type};if(data){var _14d5=data.availableViews||(_14d3&&this._getAvailableViews(_14d3.dataType));var _14d6=data.viewName||this._getViewName(_14d5,_14d3);_14d4=lang.mixin(_14d4,{availableViews:_14d5,viewName:_14d6});_14d4.id+="#"+_14d6;}return _14d4;},_getViewName:function(_14d7,_14d8){if(!_14d8){return null;}var _14d9=this._getViewByKey(_14a6.getValue(_14d8.dataType,"defaultView"),_14d7);if(!_14d9){return null;}return _14d9.key;}});});},"epi/shell/layout/AnimatedCardContainer":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/_base/fx","dojo/aspect","dojo/has","dojo/on","dojo/dom-class","dojo/dom-style","dojo/dom-geometry","dojo/Deferred","dojo/query","dojo/when","dijit/_TemplatedMixin","dijit/layout/StackContainer","dgrid/util/has-css3"],function(_14da,lang,fx,_14db,has,on,_14dc,_14dd,_14de,_14df,query,when,_14e0,_14e1,_14e2){return _14da([_14e1,_14e0],{doLayout:true,templateString:"<div><div class='dijitContainer' style='position: relative; width: 100%; height: 100%' data-dojo-attach-point='containerNode'></div></div>",cssClasses:{animationNode:"epi-animation-node",child:"epi-cardContainer-child",primary:"epi-cardContainer-child--primary",secondary:"epi-cardContainer-child--secondary",secondaryOut:"epi-cardContainer-child--secondary-out",visible:"dijitVisible",hidden:"dijitHidden"},addChild:function(child){var r=this.inherited(arguments);_14dc.add(child.domNode,this.cssClasses.child);return r;},selectSecondaryChild:function(page){return this.selectChild(page,has("css-transitions"));},_transition:function(_14e3,_14e4,_14e5){var d;if(_14e5&&_14e4){d=this._showChild(_14e3);if(_14e3.resize){if(this.doLayout){_14e3.resize(this._containerContentBox||this._contentBox);}else{_14e3.resize();}}_14dc.add(_14e4.domNode,this.cssClasses.primary);_14e4.onHide&&_14e4.onHide();when(this._executeTransition(_14e3,this.cssClasses.secondary),lang.hitch(this,function(_14e6){if(this.selectedPreviousChild&&this.selectedPreviousChild!=_14e3){_14dc.add(_14e4.domNode,this.cssClasses.hidden);_14dc.remove(_14e4.domNode,this.cssClasses.visible);}}));this.selectedPreviousChild=_14e4;}else{if(this.selectedPreviousChild===_14e3){_14dc.add(this.selectedPreviousChild.domNode,this.cssClasses.visible);_14dc.remove(this.selectedPreviousChild.domNode,this.cssClasses.hidden);_14dc.remove(this.selectedPreviousChild.domNode,this.cssClasses.primary);_14dc.remove(this.selectedChildWidget.domNode,this.cssClasses.secondary);when(this._executeTransition(this.selectedChildWidget,this.cssClasses.secondaryOut),lang.hitch(this,function(_14e7){_14dc.remove(_14e7.domNode,this.cssClasses.visible);_14dc.add(_14e7.domNode,this.cssClasses.hidden);_14dc.remove(_14e7.domNode,this.cssClasses.secondaryOut);}),lang.hitch(this,function(_14e8){_14dc.remove(_14e8.domNode,this.cssClasses.visible);_14dc.add(_14e8.domNode,this.cssClasses.hidden);}));if(_14e3!==this.selectedPreviousChild){_14dc.replace(this.selectedPreviousChild.domNode,this.cssClasses.hidden,this.cssClasses.visible);}this.selectedPreviousChild=null;}else{if(_14e4){this._hideChild(_14e4);_14dc.remove(_14e4.domNode,this.cssClasses.primary);}}d=this._showChild(_14e3);_14dc.add(_14e3.domNode,this.cssClasses.primary);if(_14e3.resize){if(this.doLayout){_14e3.resize(this._containerContentBox||this._contentBox);}else{_14e3.resize();}}}return d;},_executeTransition:function(_14e9,_14ea){var d=new _14df();var _14eb=_14e9.domNode;var _14ec=query("."+this.cssClasses.animationNode,_14eb);var _14ed=_14ec.length>0?_14ec[0]:null;if(_14ed&&_14eb&&has("css-transitions")){_14dc.add(_14eb,_14ea);this.own(this.defer(function(){on.once(_14ed,has("transitionend"),function(){d.resolve(_14e9);});},1));}else{d.reject(_14e9);}return d;}});});},"*now":function(r){r(["dojo/i18n!*preload*epi/shell/nls/widgets*[\"ar\",\"ca\",\"cs\",\"da\",\"de\",\"el\",\"en-gb\",\"en-us\",\"es-es\",\"fi-fi\",\"fr-fr\",\"he-il\",\"hu\",\"it-it\",\"ja-jp\",\"ko-kr\",\"nl-nl\",\"nb\",\"pl\",\"pt-br\",\"pt-pt\",\"ru\",\"sk\",\"sl\",\"sv\",\"th\",\"tr\",\"zh-tw\",\"zh-cn\",\"ROOT\"]"]);}}});