//>>built
require({cache:{"url:epi/shell/widget/templates/ExpandoButton.html":"<span class=\"dijit dijitReset dijitInline epi-chromelessButton\">\r\n    <button data-dojo-attach-point=\"toggleButtonState\" data-dojo-type=\"dijit/form/ToggleButton\"\r\n        data-dojo-attach-event=\"onChange: _toggleButtonStateClick\" showlabel=\"false\">${label}</button>\r\n    <ul data-dojo-type=\"epi/shell/widget/ListContainer\" data-dojo-attach-point=\"containerNode\"></ul>\r\n</span>"}});define("epi/shell/widget/ExpandoButton",["dojo/_base/array","dojo/_base/declare","dojo/_base/lang","dojo/dom-class","dojo/dom-geometry","dojo/dom-style","dojo/keys","dojo/text!./templates/ExpandoButton.html","dijit/_KeyNavContainer","dijit/_Widget","dijit/_WidgetsInTemplateMixin","dijit/_TemplatedMixin","dijit/form/ToggleButton","epi/shell/widget/ListContainer"],function(_1,_2,_3,_4,_5,_6,_7,_8,_9,_a,_b,_c){return _2([_a,_c,_b,_9],{templateString:_8,buttons:null,isExpand:false,label:"",iconClass:"",hasToggleableChildren:true,_separatorBorderWidth:0,postMixInProperties:function(){if(!this.showInGroup){this.templateString="<ul class=\"dijitReset dijitInline epi-mediumButton epi-expandoButton\"><li data-dojo-attach-point=\"itemsContainer\">"+this.templateString+"</li></ul>";}this.inherited(arguments);},postCreate:function(){this.inherited(arguments);this.connectKeyNavHandlers([_7.LEFT_ARROW],[_7.RIGHT_ARROW]);if(this.buttons){_1.forEach(this.buttons,function(_d){this.containerNode.addChild(_d);this._startupChild(_d.getParent());this._startupChild(_d);if(!_d.get("iconClass")){_4.add(_d.getParent().domNode,"epi-expandoButtonTextNode");}},this);}this.subscribe("/epi/shell/widget/ExpandoButton/action/toggle",_3.hitch(this,function(_e){this.toggleButtonState.set("checked",_e);}));if(this.iconClass){this.toggleButtonState.set("iconClass",this.iconClass);}this.connect(this.toggleButtonState,"onClick",this.onClick);},onClick:function(){},startup:function(){this.inherited(arguments);if(this.showInGroup){this._separatorBorderWidth=_5.getBorderExtents(this.containerNode.domNode).w;}this.toggleButtonState.set("checked",this.isExpand);},_getNextFocusableChild:function(_f,dir){if(_f){_f=this._getSiblingOfChild(_f,dir);}var _10=[this.togglebuttonState];_3.mixin(_10,this.containerNode.getChildren());for(var i=0;i<_10.length;i++){if(!_f){_f=_10[(dir>0)?0:(_10.length-1)];}if(_f.isFocusable()){return _f;}_f=this._getSiblingOfChild(_f,dir);}return null;},_setIsExpandAttr:function(_11){this.toggleButtonState.set("checked",_11);},isExpanded:function(){return this.toggleButtonState.get("checked");},focusNext:function(){var _12=this._getLastFocusableChild();if(this.toggleButtonState.isFocusable()&&this.focusedChild===_12){return this.focusChild(this.toggleButtonState);}return this.inherited(arguments);},focusPrev:function(){var _13=this._getFirstFocusableChild();if(this.toggleButtonState.isFocusable()&&this.focusedChild===_13){return this.focusChild(this.toggleButtonState);}return this.inherited(arguments);},focusChild:function(_14,_15){if(this.isExpanded()){this.inherited(arguments);}},_toggleButtonStateClick:function(val){this.focusedChild=null;val?this._expand():this._collapse();this.onChange(val);},onChange:function(val){},_expand:function(){var _16=this.containerNode.getChildren(),_17=this.showInGroup?this.getParent().domNode:this.itemsContainer,_18=10+_5.getMarginBox(_17).w;if(!this.hasToggleableChildren){_4.add(this.showInGroup?this.getParent().domNode:this.domNode,"dijitChecked");}if(_16.length===0){return;}_1.forEach(_16,function(_19){_18+=_5.getMarginBox(_19.domNode).w;},this);_6.set(_17,"maxWidth",_18+"px");_4.add(_17,"epi-expandoButtonParentNodeOpen");},_collapse:function(){var _1a=this.showInGroup?this.getParent().domNode:this.itemsContainer;if(!this.hasToggleableChildren){_4.remove(this.showInGroup?this.getParent().domNode:this.domNode,"dijitChecked");}_6.set(_1a,"maxWidth","");_4.remove(_1a,"epi-expandoButtonParentNodeOpen");}});});