//>>built
require({cache:{"url:epi/shell/widget/templates/_TabController.htm":"<div class=\"dijitTabListContainer-${tabPosition}\" style=\"visibility:hidden\">\r\n    <div data-dojo-type=\"dijit/Toolbar\" class=\"epi-componentToolbar\" data-dojo-attach-point=\"_toolbar\">\r\n        <div data-dojo-type=\"dijit/form/DropDownButton\" id=\"${id}_addBtn\" class=\"epi-componentToolbarButton epi-componentSettingsContainer epi-mediumButton\" iconClass=\"epi-iconSettingsMenu\" data-dojo-attach-point=\"_addBtn\" showLabel=\"false\" title=\"${res.settingsmenutooltip}\">\r\n            <div data-dojo-type=\"dijit/Menu\" data-dojo-attach-point=\"_addMenu\"></div>\r\n        </div>\r\n    </div>\r\n    <div data-dojo-type=\"dijit.layout._ScrollingTabControllerButton\" class=\"tabStripButton-${tabPosition}\" id=\"${id}_menuBtn\" iconClass=\"dijitTabStripMenuIcon\" data-dojo-attach-point=\"_menuBtn\" showLabel=\"false\">&#9660;</div>\r\n    <div data-dojo-type=\"dijit.layout._ScrollingTabControllerButton\" class=\"tabStripButton-${tabPosition}\" id=\"${id}_leftBtn\" iconClass=\"dijitTabStripSlideLeftIcon\" data-dojo-attach-point=\"_leftBtn\" data-dojo-attach-event=\"onClick: doSlideLeft\" showLabel=\"false\">&#9664;</div>\r\n    <div data-dojo-type=\"dijit.layout._ScrollingTabControllerButton\" class=\"tabStripButton-${tabPosition}\" id=\"${id}_rightBtn\" iconClass=\"dijitTabStripSlideRightIcon\" data-dojo-attach-point=\"_rightBtn\" data-dojo-attach-event=\"onClick: doSlideRight\" showLabel=\"false\">&#9654;</div>\r\n    <div class=\"dijitTabListWrapper\" data-dojo-attach-point=\"tablistWrapper\">\r\n        <div wairole=\"tablist\" data-dojo-attach-event=\"onkeypress:onkeypress\" data-dojo-attach-point=\"containerNode\" class=\"nowrapTabStrip\"></div>\r\n    </div>\r\n</div>\r\n"}});define("epi/shell/widget/TabController",["dojo/dom-style","dojo/dom-geometry","dojo/_base/array","dijit/layout/ScrollingTabController","dijit/layout/StackController","dijit/form/DropDownButton","dijit/form/TextBox","dijit/CheckedMenuItem","dijit/InlineEditBox","dijit/Menu","dijit/MenuItem","dijit/PopupMenuItem","dijit/MenuSeparator","epi/shell/widget/_TabButton","dojo/text!./templates/_TabController.htm","epi/i18n!epi/shell/ui/nls/EPiServer.Shell.UI.Resources.GadgetChrome"],function(_1,_2,_3,_4,_5,_6,_7,_8,_9,_a,_b,_c,_d,_e,_f,res){return dojo.declare(_4,{buttonWidget:_e,res:res,useAddMenu:true,templateString:_f,onAddChild:function(_10,_11){this.inherited(arguments);this.connect(_10.controlButton,"onClick",dojo.hitch(this,"onButtonClick",_10));this.connect(_10.controlButton,"onClickCloseButton",dojo.hitch(this,"onCloseButtonClick",_10));this.connect(_10.controlButton,"onCloseMenuItem",dojo.hitch(this,"onCloseButtonClick",_10));this.connect(_10.controlButton,"onLayoutClick",dojo.hitch(this,"onLayoutChanged",_10));this.connect(_10.controlButton,"onTabTitleChanged",dojo.hitch(this,"onTabTitleChanged",_10));if(!this.isLeftToRight()&&dojo.isIE&&this._rectifyRtlTabList){this._rectifyRtlTabList();}var _12;if(this.useMenu){var _13=this.containerId;_12=new _b({id:_10.id+"_stcMi",label:_10.title,dir:_10.dir,lang:_10.lang,onClick:dojo.hitch(this,function(){var _14=dijit.byId(_13);_14.selectChild(_10);})});this._menuChildren[_10.id]=_12;this._menu.addChild(_12,_11);}dojo.style(this.containerNode,"width",(dojo.style(this.containerNode,"width")+200)+"px");var _15=_10.params.numberOfColumns||1;var _16=_10.controlButton.menuLayout.getChildren()[_15-1];_16&&_16.set("checked",true);var _17=this.getChildren().length;for(var _18 in this.pane2button){this.pane2button[_18].closeTabMenuItem.set("disabled",(_17==1?true:false));}},_initButtons:function(){this._menuChildren={};this._btnWidth=0;this._buttons=dojo.query("> .tabStripButton",this.domNode).filter(function(btn){if((this.useMenu&&btn==this._menuBtn.domNode)||(this.useAddMenu&&btn==this._addBtn.domNode)||(this.useSlider&&(btn==this._rightBtn.domNode||btn==this._leftBtn.domNode))){this._btnWidth+=dojo.marginBox(btn).w;return true;}else{dojo.style(btn,"display","none");return false;}},this);if(this.useMenu){this._menu=new _a({id:this.id+"_menu",dir:this.dir,lang:this.lang,targetNodeIds:[this._menuBtn.domNode],leftClickToOpen:true,refocus:false});this._supportingWidgets.push(this._menu);}dojo.style(this._addBtn.domNode,"display",this.useAddMenu?"":"none");},addAddMenuItem:function(_19){if(!this.useAddMenu){return;}var _1a=null;if(_19.type&&_19.type==="checkedmenuitem"){_1a=new _8(_19);}else{_1a=new _b(_19);}if(_1a){this._addMenu.addChild(_1a);}},resize:function(dim){if(this.domNode.offsetWidth===0){return;}this._dim=dim;this.scrollNode.style.height="auto";this._contentBox=dijit.layout.marginBox2contentBox(this.domNode,{h:0,w:dim.w});this._contentBox.h=this.scrollNode.offsetHeight;dojo.contentBox(this.domNode,this._contentBox);var _1b=this._enableBtn(this._contentBox.w);this._buttons.style("display",_1b?"":"none");this._leftBtn.layoutAlign="left";this._rightBtn.layoutAlign="right";this._menuBtn.layoutAlign=this.isLeftToRight()?"right":"left";this._addBtn.layoutAlign=this.isLeftToRight()?"right":"left";dijit.layout.layoutChildren(this.domNode,this._contentBox,[this._addBtn,this._menuBtn,this._leftBtn,this._rightBtn,{domNode:this.scrollNode,layoutAlign:"client"}]);if(this._selectedTab){if(this._anim&&this._anim.status()=="playing"){this._anim.stop();}var w=this.scrollNode,sl=this._convertToScrollLeft(this._getScrollForSelectedTab());w.scrollLeft=sl;}this._setButtonClass(this._getScroll());_1.set(this._toolbar.domNode,"height",_2.position(this.domNode).h+"px");this._postResize=true;},onSelectChild:function(_1c){if(!_1c){return;}if(this._currentChild){this.pane2button[this._currentChild.id].toggleMenu(false);}this.pane2button[_1c.id].toggleMenu(true);_3.some(this._addMenu.getChildren(),function(_1d){if(_1d.rearrangeGadgets){_1d.rearrangeGadgets(_1c.containerUnlocked);return;}});this.inherited(arguments);},onLayoutChanged:function(_1e,evt){},onTabTitleChanged:function(_1f,_20){},onAddGadget:function(evt){}});});