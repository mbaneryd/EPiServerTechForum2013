//>>built
require({cache:{"url:epi-cms/widget/templates/_LegacySelectorBase.html":"<div class='dijitReset dijitInputField dijitInputContainer dijitInline epi-resourceInputContainer' id='widget_${id}' data-dojo-attach-point='dropAreaNode'>\r\n    <input type='text' data-dojo-type=\"dijit/form/TextBox\" data-dojo-attach-event=\"onChange:_onTextboxChange, onBlur:_onTextboxBlur\" data-dojo-attach-point='textbox'/>\r\n    <div data-dojo-type=\"dijit/form/Button\" data-dojo-attach-point=\"button\" data-dojo-attach-event=\"onClick:_showDialog\"></div>\r\n</div>"}});define("epi-cms/widget/_LegacySelectorBase",["dojo/_base/declare","dojo/_base/lang","dojo/dom-attr","dijit/_Widget","dijit/_TemplatedMixin","dijit/_WidgetsInTemplateMixin","dijit/form/Button","dijit/form/TextBox","epi/dependency","epi/shell/dnd/Target","epi-cms/legacy/LegacyDialogPopup","epi-cms/widget/_HasChildDialogMixin","epi-cms/widget/_Droppable","epi/shell/widget/_ValueRequiredMixin","dojo/text!./templates/_LegacySelectorBase.html"],function(_1,_2,_3,_4,_5,_6,_7,_8,_9,_a,_b,_c,_d,_e,_f){return _1([_4,_5,_6,_c,_e,_d],{_legacyDialogUrl:null,contentLink:"",templateString:_f,value:null,postMixInProperties:function(){this.inherited(arguments);if(!this._legacyDialogUrl){this._legacyDialogUrl=this.getLegacyDialogUrl();}},destroy:function(){if(this._dialog){this._dialog.destroyRecursive();delete this._dialog;}this.inherited(arguments);},postCreate:function(){this.inherited(arguments);this.button.set("label","...");},_setStateAttr:function(_10){this._set("state",_10);this.textbox.set("state",_10);},onDrop:function(){this.focus();this.onChange(this.value);},onChange:function(){},getLegacyDialogUrl:function(){return "";},getLegacyDialogParameters:function(){return {};},getValueFromCallbackResult:function(_11){return null;},isCancelOnCallback:function(_12){return false;},_showDialog:function(){if(!this._dialog){var _13=this.getLegacyDialogParameters();this._dialog=new _b(_2.mixin(_13,{url:this._legacyDialogUrl}));this.connect(this._dialog,"onCallback",this._onCallback);this.connect(this._dialog,"onHide",this._onHide);}this.isShowingChildDialog=true;this._dialog.show();},_onHide:function(){this.isShowingChildDialog=false;this._dialog.destroyRecursive();delete this._dialog;},_onCallback:function(_14){if(!_14||this.isCancelOnCallback(_14)){return;}else{var val=this.getValueFromCallbackResult(_14);if(this.value!==val){this.set("value",val);this.onChange(this.value);}}},_onTextboxChange:function(_15){var _16=_15!==this.value;if(_16){this._set("value",_15);this.onChange(this.value);}},_onTextboxBlur:function(){this._set("value",this.textbox.value);},_setValueAttr:function(_17){this._set("value",_17);this.textbox.set("value",this.value||"");this._legacyDialogUrl=this.getLegacyDialogUrl();this._started&&this.validate();},_setReadOnlyAttr:function(_18){this._set("readOnly",_18);this.button.set("disabled",_18);this.textbox.set("disabled",_18);},focus:function(){this.button.focus();}});});