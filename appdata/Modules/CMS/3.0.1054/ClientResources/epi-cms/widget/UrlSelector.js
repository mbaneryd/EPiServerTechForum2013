//>>built
define("epi-cms/widget/UrlSelector",["dojo/_base/declare","dojo/_base/lang","dojo/dom-class","dojo/dom-style","dojo/when","epi/shell/widget/_ModelBindingMixin","epi-cms/widget/LinkEditor","epi-cms/widget/viewmodel/UrlSelectorViewModel","epi-cms/widget/_SelectorBase","epi-cms/contentediting/command/_CommandWithDialogMixin"],function(_1,_2,_3,_4,_5,_6,_7,_8,_9,_a){return _1([_9,_a,_6],{modelClassName:_8,dialogContentClass:_7,dialogContentParams:null,defaultActionsVisible:false,modelBindingMap:{"internalValue":["internalValue"]},postMixInProperties:function(){this.inherited(arguments);this.dialogContentParams={modelType:this.metadata.additionalValues["modelType"],hiddenFields:["text","title","target"]};if(!this.model&&this.modelClassName){var _b=_1(this.modelClassName);this.model=new _b();}},_onButtonClick:function(){this.showDialog();},onChange:function(_c){},isValid:function(){return (!this.required||(this.model&&!this.model.get("isEmpty")));},onDialogExecute:function(){this.inherited(arguments);if(this.dialogContent){if(this.parent){this.parent.editing=true;}var _d=this.dialogContent.get("value");this.set("value",_d);this.onChange(_d?_d.href:null);}this._updateDisplayNode(this.value);},_updateDisplayNode:function(_e){if(_e){_3.remove(this.domNode,"epi-noValue");_3.remove(this.resourceName,"dijitPlaceHolder");this.set("selectedContentName",_e.name);}else{_3.add(this.domNode,"epi-noValue");_3.add(this.resourceName,"dijitPlaceHolder");this.set("selectedContentName","");}},_getValueAttr:function(){return this.model.get("value");},_setValueAttr:function(_f){this.model.set("value",_f);},_setInternalValueAttr:function(_10){this._set("value",_10);this._updateDisplayNode(_10);}});});