//>>built
require({cache:{"url:epi-packaging/templates/NavigationMenu.htm":"<div class=\"epi-verticalMenu\">\r\n    <div data-dojo-type=\"dijit/DropDownMenu\" data-dojo-attach-point=\"verticalMenu\" class=\"epi-dropDownNavigation epi-wrapped\">\r\n        <div data-dojo-type=\"dijit/MenuItem\" id=\"installed\">${res.installeditemlabel}</div>\r\n        <!-- dynamic list of feeds goes here -->\r\n        <div data-dojo-type=\"dijit/MenuItem\" id=\"updates\">${res.updatesitemlabel}</div>\r\n    </div>\r\n</div>"}});define("epi-packaging/NavigationMenu",["dojo","dojo/hash","dijit/_WidgetBase","dijit/_TemplatedMixin","dijit/_WidgetsInTemplateMixin","dijit/DropDownMenu","dijit/MenuItem","epi/routes","dojo/text!./templates/NavigationMenu.htm","epi/i18n!epi/packaging/nls/EPiServer.Packaging.UI.Navigation","epi/i18n!epi/packaging/nls/EPiServer.Packaging.UI.Feeds"],function(_1,_2,_3,_4,_5,_6,_7,_8,_9,_a,_b){return _1.declare([_3,_4,_5],{templateString:_9,antiForgeryData:"",res:_a,resFeeds:_b,_viewDictionary:{"installed":"epi-packaging/InstalledSection","updates":"epi-packaging/UpdateableSection"},startup:function(){this.inherited(arguments);var _c={};this.antiForgeryData.AddAntiforgeryToken(_c);_1.xhrPost({content:_c,url:_8.getActionPath({moduleArea:"EPiServer.Packaging.UI",controller:"AddOns",action:"GetFeedNames"}),handleAs:"json",load:_1.hitch(this,function(_d,_e){for(var i=0;i<_d.feeds.length;i++){var _f=this.resFeeds[_d.feeds[i].toLowerCase()];this.verticalMenu.addChild(new _7({id:_d.feeds[i],label:_f?_f.title:_d.feeds[i]}),1+i);this._viewDictionary[_d.feeds[i]]="epi-packaging/GallerySection";}var _10=dijit.byId("installed");if(_1.hash()!=""){var _11=dijit.byId(_1.hash());if(_11){_10=_11;}}this.verticalMenu.onItemClick(_10);})});_1.connect(this.verticalMenu,"onItemClick",this,function(_12){this._requestChangeView(_12.id);});this.subscribe("/epi/shell/action/viewchanged",_1.hitch(this,function(_13,_14,_15){if(_15){for(var id in this._viewDictionary){if(id==_15.feedName){this._selectItemById(id);return;}}}this._selectItemById(null);}));_1.subscribe("/dojo/hashchange",this,function(_16){if(_16!=""){var _17=dijit.byId(_16);if(_17&&!_17.selected){this.verticalMenu.onItemClick(_17);}}});},_requestChangeView:function(id){var _18=id?this._viewDictionary[id]:null;if(_18){_1.publish("/epi/shell/action/changeview",[_18,null,{"feedName":id}]);}},_selectItemById:function(id){_1.forEach(this.verticalMenu.getChildren(),function(_19){_19.set("selected",false);});if(id){var _1a=dijit.byId(id);if(_1a){_1a.set("selected",true);_1.hash(_1a.id);}}}});});