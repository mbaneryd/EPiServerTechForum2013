//>>built
require({cache:{"url:epi-packaging/templates/Section.htm":"<div style=\"overflow:auto;\">\r\n    <div data-dojo-attach-point=\"_headerPlaceholder\"></div>\r\n    <div class=\"epi-newContentContainerInverted\">\r\n        <div data-dojo-attach-point=\"_contentPlaceholder\"></div>\r\n    </div>\r\n</div>"}});define("epi-packaging/GallerySection",["dojo","dijit","dijit/layout/_LayoutWidget","dijit/_TemplatedMixin","epi/routes","epi-packaging/SectionHeader","epi-packaging/ModulesList","dojo/text!./templates/Section.htm","epi/i18n!epi/packaging/nls/EPiServer.Packaging.UI.GallerySection","epi/i18n!epi/packaging/nls/EPiServer.Packaging.UI.Feeds"],function(_1,_2,_3,_4,_5,_6,_7,_8,_9,_a){return _1.declare([_3,_4],{res:_9,resFeeds:_a,templateString:_8,antiForgeryData:null,_headerWidget:null,_listWidget:null,startup:function(){if(this._started){return;}this._headerWidget=new _6({webHelpAlias:"availableaddons",antiForgeryData:this.antiForgeryData,sectionTitle:this.res.title},this._headerPlaceholder);this._headerWidget.startup();this._listWidget=new _7({antiForgeryData:this.antiForgeryData,hideModuleInListOnAction:false,emptyListMessage:this.res.emptylistmessage,listingUrl:_5.getActionPath({moduleArea:"EPiServer.Packaging.UI",controller:"AddOns",action:"GetInstallableModules"})},this._contentPlaceholder);this._listWidget.startup();this.connect(this._listWidget,"onSiteRestartRequired",function(){this._headerWidget.updateView();});this.connect(this._listWidget,"onError",function(_b){this._headerWidget.addErrorMessages(_b);});this.connect(this._listWidget,"onSuccess",function(_c){this._headerWidget.addSuccessMessages(_c);});this.connect(this._listWidget,"onModuleActionPerformed",function(){this._headerWidget.clearErrorMessages();this._headerWidget.clearSuccessMessages();});this.inherited(arguments);},updateView:function(_d){var _e=this.resFeeds[_d.feedName.toLowerCase()];this._headerWidget.sectionTitle=_e?_e.title:_d.feedName;this._headerWidget.description=_e?_e.description:"";this._headerWidget.clearErrorMessages();this._headerWidget.clearSuccessMessages();this._headerWidget.updateView();this._listWidget.feedName=_d.feedName;this._listWidget.updateView();}});});