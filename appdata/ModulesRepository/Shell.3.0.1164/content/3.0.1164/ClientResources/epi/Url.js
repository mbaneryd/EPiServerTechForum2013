//>>built
define("epi/Url",["dojo","dojo/io-query"],function(_1,_2){return _1.declare(null,{scheme:null,authority:null,path:null,query:null,fragment:null,constructor:function(_3,_4,_5){_1.mixin(this,_4);if(_3&&_3!=""){this._extractParameters(_3,_5);}},_extractParameters:function(_6,_7){var _8=new RegExp("^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?$");var r=_6.match(_8);if(!this.scheme){this.scheme=r[2]||(r[1]?"":null);}if(!this.authority){this.authority=r[4]||(r[3]?"":null);}if(!this.path){this.path=r[5];}var _9=r[7]||(r[6]?"":null);if(_9&&_9!==""){var _a=_2.queryToObject(_9);if(_7){this.query=_1.mixin(_a,this.query);}else{if(!this.query){this.query=_a;}}}else{if(!this.query){this.query={};}}if(!this.fragment){this.fragment=r[9]||(r[8]?"":null);}},getQueryParameterValue:function(_b){return this.query?this.query[_b]:null;},toString:function(){var _c=[];if(this.scheme){_c.push(this.scheme);if(this.scheme.lastIndexOf(":")!=this.scheme.length-1){_c.push(":");}}if(this.authority){_c.push("//",this.authority);}_c.push(this.path);if(this.query){var _d=_2.objectToQuery(this.query);if(_d!==""){_c.push("?",_d);}}if(this.fragment){_c.push("#",this.fragment);}return _c.join("");}});});