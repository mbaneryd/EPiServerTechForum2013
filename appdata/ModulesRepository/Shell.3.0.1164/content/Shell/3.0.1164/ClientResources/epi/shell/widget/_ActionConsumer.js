//>>built
define("epi/shell/widget/_ActionConsumer",["dojo","dojo/_base/kernel","epi/shell/widget/_ActionProviderBase"],function(_1,_2,_3){return _1.declare(_3,{_actionProviders:null,constructor:function(_4){_2.deprecated("epi/shell/widget/_ActionConsumer","use the command pattern with epi/shell/command/_CommandConsumerMixin instead");this._actionProviders=[];if(typeof (_4)!=="undefined"||_4!=null&&_1.isArray(_4.actionProviders)){_1.forEach(_4.actionProviders,function(_5){this.addProvider(_5);},this);}},isProviderRegistered:function(_6){if(typeof (_6)==="undefined"||_6==null){return false;}return _1.some(this._actionProviders,function(_7){return _7.provider===_6;});},addProvider:function(_8){if(typeof (_8)==="undefined"||_8==null||this.isProviderRegistered(_8)){return;}this._actionProviders.push({provider:_8,connects:[_1.connect(_8,"onActionAdded",this,"onActionAdded"),_1.connect(_8,"onActionRemoved",this,"onActionRemoved"),_1.connect(_8,"onActionPropertyChanged",this,"onActionPropertyChanged")]});},removeProvider:function(_9){if(typeof (_9)==="undefined"||_9==null||!this.isProviderRegistered(_9)){return;}for(var i=0;i<this._actionProviders.length;i++){if(this._actionProviders[i].provider==_9){var _a=this._actionProviders.splice(i,1);_1.forEach(_a.connects,_1.disconnect);break;}}},getActions:function(){var _b=[];_1.forEach(this._actionProviders,function(_c,_d){_b=_b.concat(this._getProviderActions(_c.provider));},this);return _b;},_getProviderActions:function(_e){if(typeof (_e)!=="undefined"&&_e!=null&&typeof (_e.getActions)=="function"){return _e.getActions();}else{return [];}}});});