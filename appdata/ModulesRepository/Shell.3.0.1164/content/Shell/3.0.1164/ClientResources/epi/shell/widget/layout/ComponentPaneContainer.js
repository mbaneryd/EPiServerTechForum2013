//>>built
define("epi/shell/widget/layout/ComponentPaneContainer",["dojo/_base/array","dojo/_base/declare","dojo/_base/lang","dojo/dom-geometry","dojo/dom-style","epi/shell/widget/layout/ComponentContainer"],function(_1,_2,_3,_4,_5,_6){return _2([_6],{_previousChildrenCount:null,layoutComponents:function(){var _7=this.getChildren();_1.forEach(_7,function(_8){if(_8.lastOpenHeight&&(_8.lastOpenHeight<_8.minHeight)){_8.set("lastOpenHeight",_8.minHeight);}});if(_7.length===1){var _9=_7[0];if(!_9.open){_9.set("open",true);}var _a=_4.getContentBox(this.containerNode);_9.resize(_a);}else{if(_7.length===2){var _b=_1.every(_7,function(_c){return _c.open;});_1.forEach(_7,function(_d){_d.set("resizable",_b);});this._layout2Children(_7[0],_7[1]);}else{var _e=_3.hitch(this,function(_f){_1.forEach(this.getChildren(),function(_10){_10.set("resizable",_10.open);if(_10.resize&&_3.isFunction(_10.resize)){if(_f){_10.resize({w:_f});}else{_10.resize();}}});});if(this._previousChildrenCount<3){_e(null);}var _11=_4.getContentBox(this.gridContainerDiv);_e(_11.w);}}this._previousChildrenCount=_7.length;},_layout2Children:function(_12,_13){var _14=_4.getMarginBox(this.containerNode);var _15={w:_14.w};var _16={w:_14.w};var _17=_12.getSize().h;var _18=_13.getSize().h;var _19=Math.floor(_14.h/2);if(_12.open&&_13.open&&(!_12.lastOpenHeight||!_13.lastOpenHeight)){_15.h=_19;_16.h=_14.h-_19;}else{if(!_12.open&&!_13.open){_15.h=_17;_16.h=_18;_12.set("lastOpenHeight",_19);_13.set("lastOpenHeight",_14.h-_19);}else{if(_17<_18){_15.h=_17;_16.h=_14.h-_17;}else{_15.h=_14.h-_18;_16.h=_18;}}}_12.resize(_15);_13.resize(_16);},_layoutChildren:function(_1a,_1b,_1c){var _1d=this.getChildren(),_1e=_4.getContentBox(this.containerNode).h;_1a.resize({h:_1b});if(_1d.length==2){_1.forEach(_1d,function(_1f){if(_1f!==_1a){_1f.resize({h:_1e-_1b});}});}if(_1c){_1.forEach(_1d,function(_20){if(_20.getSize().h){_20.set("lastOpenHeight",_20.getSize().h);}});this.layoutComponents();this._persistComponentSettings();}},_onCompontentsChanged:function(){var _21=this.getChildren(),_22=_21.length>1,_23=_21.length>2,_24=_21.length===1;_1.forEach(_21,function(_25,_26){_25.set("showSplitter",_23||_26<_21.length-1);_25.set("toggleable",_22);if(_24&&_25.setDefaultStates){_25.setDefaultStates();}},this);},_componentToggle:function(){var _27=this.getChildren();if(_27.length==2){var _28=_1.every(_27,function(_29){return _29.open;});_1.forEach(_27,function(_2a){_2a.set("resizable",_28);});}this.inherited(arguments);},_getMaxSizeChild:function(){var _2b=this.getChildren(),_2c=_2b[0],_2d=_2b[1],_2e=_4.getMarginBox(_2c.domNode).h;if(_2b.length==2){_2e+=_4.getMarginBox(_2d.domNode).h-_2d.minHeight;return _2e;}return _2c.maxHeight||Infinity;}});});