//>>built
define("epi-cms/contentediting/viewmodel/_ContainerViewModel",["dojo/_base/array","dojo/_base/declare","./_ViewModelMixin"],function(_1,_2,_3){return _2([_3],{constructor:function(){this._data=[];this._handles={};},addChild:function(_4,_5){_4.set("parent",this);_4.set("readOnly",this.readOnly);if(!_4.id){_4.id=this._hash(_4);}if(typeof _5=="number"){this._data.splice(_5,0,_4);}else{this._data.push(_4);}this._emitChildrenChanged();},getChild:function(_6){var _7=this._data;for(var i=_7.length-1;i>=0;i--){if(_7[i].equals(_6)){return _7[i];}}return null;},getChildById:function(id){var _8=this._data;for(var i=_8.length-1;i>=0;i--){if(_8[i].id===id){return _8[i];}}return null;},getChildren:function(){return this._data;},removeChild:function(_9,_a){var _b=this.indexOf(_9),_c=this._handles[_9.id];if(_b<0&&_a){_1.forEach(this.getChildren(),function(_d){if(typeof _d.removeChild==="function"){_d.removeChild(_9,_a);}});return;}else{if(_b<0){return;}}if(_c){_1.forEach(_c,function(_e){_e.remove();});delete this._handles[_9.id];}this._data.splice(_b,1);this._emitChildrenChanged();},move:function(_f,_10){var _11=this.indexOf(_f);this._data.splice(_11,1);this._data.splice(_10,0,_f);this._emitChildrenChanged();},indexOf:function(_12){return this._data.indexOf(_12);},_hash:function(_13){},_readOnlySetter:function(_14){this.readOnly=_14;_1.forEach(this.getChildren(),function(_15){_15.set("readOnly",_14);},this);},_emitChildrenChanged:function(_16){var _17=this._data.length;_1.forEach(this._data,function(_18,_19){_18.set("canMoveNext",_19<(_17-1));_18.set("canMovePrevious",_19>0&&_19<=(_17-1));_18.set("hasSiblings",_17>1);});this.set("count",_17||0);this.emit("childrenChanged",_16?_16:this);}});});