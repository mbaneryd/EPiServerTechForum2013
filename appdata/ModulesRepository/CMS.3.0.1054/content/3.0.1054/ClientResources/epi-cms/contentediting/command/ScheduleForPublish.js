//>>built
define("epi-cms/contentediting/command/ScheduleForPublish",["dojo/_base/declare","dojo/aspect","dojo/on","dojo/topic","epi/shell/widget/dialog/Dialog","epi-cms/contentediting/command/_ChangeContentStatus","epi-cms/contentediting/ContentActionSupport","epi-cms/contentediting/ScheduledPublishSelector","epi-cms/contentediting/ScheduledPublishSelectorViewModel","epi/i18n!epi/cms/nls/episerver.cms.contentediting.toolbar.buttons","epi/i18n!epi/cms/nls/episerver.cms.widget.scheduledpublishselector"],function(_1,_2,on,_3,_4,_5,_6,_7,_8,_9,_a){return _1([_5],{name:"reject",label:_9.scheduleforpublish.label,tooltip:_9.scheduleforpublish.title,iconClass:"epi-iconClock",_execute:function(){var _b=new _8();_b.set("contentData",this.model.contentData);var _c=new _7({model:_b});var _d=this,_e=_6.saveAction;_d.set("action",_e.CheckIn|_e.DelayedPublish|_e.ForceCurrentVersion);var _f=new _4({content:_c,title:_a.title,defaultActionsVisible:false});on(_f,"execute",function(){_d.model.setProperty("iversionable_startpublish",_b.dateValue);_d._changeContentStatus();});_f.show(true);_2.after(_f,"_onSubmit",function(){_3.publish("/epi/cms/action/disableundoredoactions");});},_onModelChange:function(){this.inherited(arguments);var _10=this.model.contentData,_11=(_10.status===_6.versionStatus.CheckedOut)||(_10.status===_6.versionStatus.Rejected)||(_10.status===_6.versionStatus.Published&&_10.isCommonDraft),_12=_11&&this.model.canChangeContent(_6.action.Publish);this.set("canExecute",_12);this.set("isAvailable",_11);}});});