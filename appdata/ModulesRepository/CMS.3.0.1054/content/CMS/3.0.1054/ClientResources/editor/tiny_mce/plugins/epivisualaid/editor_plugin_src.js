(function(tinymce){tinymce.create("tinymce.plugins.epivisualaid",{init:function(ed){var self=this;ed.onVisualAid.add(function(ed,e,s){s||1===s?ed.dom.addClass(ed.getBody(),"epi_visualaid"):ed.dom.removeClass(ed.getBody(),"epi_visualaid"),self._injectBrowserSpecificClass(ed)}),ed.onSubmit.addToTop(function(ed){ed.dom.removeClass(ed.getBody(),"epi_visualaid")})},getInfo:function(){return{longname:"Enhanced Visual Aid",author:"EPiServer AB",authorurl:"http://www.episerver.com",infourl:"http://www.episerver.com",version:"1.0"}},_injectBrowserSpecificClass:function(ed){var browserSpecificClass="";window.tinyMCE.isAir&&(browserSpecificClass="epi_visualaid_air"),window.tinyMCE.isGecko&&(browserSpecificClass="epi_visualaid_gecko"),window.tinyMCE.isIE&&(browserSpecificClass="epi_visualaid_ie"),window.tinyMCE.isMac&&(browserSpecificClass="epi_visualaid_mac"),window.tinyMCE.isOpera&&(browserSpecificClass="epi_visualaid_opera"),window.tinyMCE.isWebKit&&(browserSpecificClass="epi_visualaid_webkit"),browserSpecificClass&&ed.dom.addClass(ed.getBody(),browserSpecificClass)}}),tinymce.PluginManager.add("epivisualaid",tinymce.plugins.epivisualaid)})(tinymce,epiJQuery);