//>>built
define("epi-cms/core/ContentReference",["dojo/_base/declare","epi/epi"],function(_1,_2){var _3=_1(null,{id:0,workId:0,providerName:null,isSelfReference:false,constructor:function(_4){if(_4){this._parse(_4);}},_parse:function(_5){if(typeof _5==="object"){this.id=parseInt(_5.ID||_5.id||_5.iD||_5.Id,10);this.workId=parseInt(_5.WorkID||_5.workId||0,10);this.providerName=_5.ProviderName||_5.providerName||null;}else{if(typeof _5==="string"){if(_5==="-"){this.isSelfReference=true;this.id=0;this.workId=-1;}else{this.isSelfReference=false;var v=String();v.split("_");var _6=_5.split("_");this.id=parseInt(_6[0],10);this.workId=parseInt(_6[1],10)||0;this.providerName=_6[2]||"";}}}if(typeof _5==="number"){this.id=_5;this.workId=0;this.providerName="";}if(typeof this.id!=="number"){throw new Error("The id parameter of a content reference must be an integer");}if(typeof this.workId!=="number"&&!this.isSelfReference){throw new Error("The workId of a content reference must be an integer");}},toString:function(){if(this.isSelfReference){return "-";}var _7=String(this.id);if(this.workId!==0){_7+="_"+this.workId;}if(this.providerName){_7+=(this.workId===0?"__":"_")+this.providerName;}return _7;},createVersionUnspecificReference:function(){return new _3({id:this.id,providerName:this.providerName});}});_3.toContentReference=function(_8){if(_8 instanceof _3){return _8;}else{if(typeof _8==="string"||typeof _8==="number"){return new _3(_8);}}return _3.emptyContentReference;};_3.compareIgnoreVersion=function(_9,_a){var c1=_3.toContentReference(_9);var c2=_3.toContentReference(_a);var _b=c1.createVersionUnspecificReference();var _c=c2.createVersionUnspecificReference();return _2.areEqual(_b,_c);};_3.emptyContentReference=new _3({id:-1,workId:-1});return _3;});