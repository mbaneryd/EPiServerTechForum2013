//>>built
define("epi-cms/widget/UrlContentSelector",["dojo/_base/declare","dojo/_base/Deferred","dojo/_base/lang","dojo/when","epi/Url","epi-cms/core/ContentReference","epi-cms/core/PermanentLinkHelper","epi-cms/widget/ContentSelector"],function(_1,_2,_3,_4,_5,_6,_7,_8){return _1([_8],{_contentData:null,_setValueAndFireOnChange:function(_9){if(!_9){this._updateDisplayNode(null);if(this.value!==_9){this.onChange(null);}this._contentData=null;this.value=_9;this._started&&this.validate();return;}_4(this._getContentByPermanentLink(_9),_3.hitch(this,function(_a){this._updateDisplayNode(_a);if(!epi.areEqual(this.value,_9)){var _b=_7.toPermanentLink(_a);this.value=_b;this._started&&this.validate();this.onChange(_b);}}));},_convertValueToContentReference:function(_c){if(this._contentData){return new _6(this._contentData.contentLink);}return null;},_getContentByPermanentLink:function(_d){if(epi.areEqual(this.value,_d)&&this._contentData){return this._contentData;}return _4(_7.getContent(_d,{"allLanguages":true}),_3.hitch(this,function(_e){this._contentData=_e;return _e;}));}});});