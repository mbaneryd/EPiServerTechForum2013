//>>built
define("epi-cms/contentediting/command/_LegacyDialogCommandBase",["dojo/_base/declare","dojo/_base/lang","dojo/promise/all","dojo/topic","epi/routes","epi/shell/command/_Command","epi/UriParser","epi-cms/core/ContentReference","epi-cms/legacy/LegacyDialogPopup"],function(_1,_2,_3,_4,_5,_6,_7,_8,_9){return _1([_6],{dialogPath:null,raiseCloseEvent:null,routeParams:null,dialogParams:null,canExecute:true,getContentReference:function(){var _a=_2.getObject("model.contentData.contentLink",false,this);return _a?new _8(_a).createVersionUnspecificReference().toString():null;},getRouteParams:function(){return {id:this.getContentReference(),path:this.dialogPath,moduleArea:"LegacyCMS",IsInLegacyWrapper:true};},getDialogParams:function(){return {};},_createDialog:function(_b,_c){var _d={url:_5.getActionPath(_c),dialogArguments:window.document,autoFit:true,destroyOnHide:true,onClose:_2.hitch(this,function(){var _e=this.getContentReference();if(this.raiseCloseEvent&&_e){_4.publish("/epi/cms/contentdata/updated",{contentLink:_e,recursive:true});}})};return new _9(_2.mixin({},_d,_b));},_execute:function(){_3([this.getDialogParams(),this.getRouteParams()]).then(_2.hitch(this,function(_f){var _10=this._createDialog.apply(this,_f);_10.show();}));}});});