//>>built
define("epi-cms/conversion/ContentLightUriConverter",["dojo/_base/declare","dojo/_base/lang","dojo/when","epi/dependency","epi/UriParser","epi-cms/core/ContentReference","epi-cms/core/PermanentLinkHelper"],function(_1,_2,_3,_4,_5,_6,_7){return _1(null,{_contentStore:null,constructor:function(_8){_2.mixin(this,_8);this._contentStore=this._contentStore||_4.resolve("epi.storeregistry").get("epi.cms.content.light");},registerDefaultConverters:function(_9){},convert:function(_a,_b,_c){if(!_c||(!_c.contentLink&&!_c.uri)){return null;}var _d=_c.contentLink||new _5(_c.uri).getId();if(!_d){return null;}_d=new _6(_d).createVersionUnspecificReference().toString();return _3(this._contentStore.get(_d),function(_e){return {url:_e.publicUrl,previewUrl:_e.previewUrl,permanentUrl:_7.toPermanentLink(_e),text:_e.name,typeIdentifier:_e.typeIdentifier};});}});});