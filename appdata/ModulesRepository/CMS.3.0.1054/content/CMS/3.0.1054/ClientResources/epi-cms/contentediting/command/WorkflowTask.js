//>>built
define("epi-cms/contentediting/command/WorkflowTask",["dojo/_base/declare","dojo/_base/lang","dojo/dom-attr","dojo/dom-class","dojo/io-query","epi","epi-cms/contentediting/command/_LegacyDialogCommandBase","epi-cms/core/ContentReference","epi/i18n!epi/cms/nls/episerver.cms.contentediting.command.workflowtask"],function(_1,_2,_3,_4,_5,_6,_7,_8,_9){return _1([_7],{label:_9.label,tooltip:_9.tooltip,cssClass:"epi-chromelessButton epi-visibleLink",dialogPath:"Edit/WorkflowTask.aspx",raiseCloseEvent:true,getDialogParams:function(){var _a=this;return {dialogTitle:_9.title,legacyButtonQuery:"div span.epi-cmsButton",onMapDialogButton:function(_b){return _a._mapDialogButtons(_b);},onLoad:function(_c){_a._closeLegacyDialogOnRedirect(_c,this);},destroyOnHide:true,showCloseButton:true};},getContentReference:function(){return new _8(this.model.contentData.contentLink);},getRouteParams:function(){return _2.mixin({task:this.model.task.taskId},this.inherited(arguments));},_onModelChange:function(){var _d=this.model;var _e=!!(_d&&_d.contentData&&!_d.contentData.isDeleted&&_d.task&&_d.task.taskId);this.set("canExecute",_e);},_isCancelButton:function(_f){return _f&&_4.contains(_f,"epi-cmsButton-Cancel");},_mapDialogButtons:function(_10){return !(this._isCancelButton(_10)||_4.contains(_10,"epi-cmsButton-ViewMode"));},_closeLegacyDialogOnRedirect:function(_11,_12){var uri=_11.containerIframe.contentWindow.location.href,_13=uri.substring(uri.indexOf("?")+1,uri.length),_14=_5.queryToObject(_13);if(!_14||!(_14.task)){_12.hide();}}});});