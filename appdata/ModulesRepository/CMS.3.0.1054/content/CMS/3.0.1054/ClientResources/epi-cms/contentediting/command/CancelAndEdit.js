//>>built
define("epi-cms/contentediting/command/CancelAndEdit",["dojo/_base/declare","dojo/_base/Deferred","dojo/_base/lang","dojo/date","epi/shell/command/_Command","epi-cms/core/ContentReference","epi-cms/contentediting/ContentActionSupport","epi-cms/contentediting/command/_ChangeContentStatus","epi/i18n!epi/cms/nls/episerver.cms.contentediting.toolbar.buttons.cancelandedit"],function(_1,_2,_3,_4,_5,_6,_7,_8,_9){return _1([_8],{name:"cancelAndEdit",label:_9.label,tooltip:_9.title,iconClass:"epi-iconPen",action:_7.action.Reject,_execute:function(){this.inherited(arguments).then(_3.hitch(this,function(){var _a=this.model.contentData;this.model.setProperty("iversionable_startpublish",_a.isPendingPublish?_a.created:_a.lastPublished);}));},_onModelChange:function(){this.inherited(arguments);var _b=this.model.contentData,_c=_b.status,_d=_7.hasAccess(_b.accessMask,_7.accessLevel.Edit),_e=_d&&(_c===_7.versionStatus.DelayedPublish);this.set("canExecute",_e);this.set("isAvailable",_e);}});});